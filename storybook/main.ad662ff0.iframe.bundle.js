(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"../../.. sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./apps/web-game/src/game/board/BoardContainer.stories.tsx":"../../../apps/web-game/src/game/board/BoardContainer.stories.tsx","./apps/web-game/src/game/layouts/desktop/DesktopGame.stories.tsx":"../../../apps/web-game/src/game/layouts/desktop/DesktopGame.stories.tsx","./apps/web-game/src/game/layouts/mobile/MobileGame.stories.tsx":"../../../apps/web-game/src/game/layouts/mobile/MobileGame.stories.tsx","./modules/@creature-chess/ui/gameBoard/GameBoard.stories.tsx":"./gameBoard/GameBoard.stories.tsx","./modules/@creature-chess/ui/gameScreen/LandscapeGameScreen.stories.tsx":"./gameScreen/LandscapeGameScreen.stories.tsx","./modules/@creature-chess/ui/gameScreen/PortraitGameScreen.stories.tsx":"./gameScreen/PortraitGameScreen.stories.tsx","./modules/@creature-chess/ui/layout/Layout.stories.tsx":"./layout/Layout.stories.tsx","./modules/@creature-chess/ui/pages/lobby/LobbyPage.stories.tsx":"./pages/lobby/LobbyPage.stories.tsx","./modules/@creature-chess/ui/pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.stories.tsx":"./pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.stories.tsx","./modules/@creature-chess/ui/pages/menu/MenuPage.stories.tsx":"./pages/menu/MenuPage.stories.tsx","./modules/@creature-chess/ui/pages/menu/login/LoginPage.stories.tsx":"./pages/menu/login/LoginPage.stories.tsx","./modules/@creature-chess/ui/pages/menu/registration/RegistrationPage.stories.tsx":"./pages/menu/registration/RegistrationPage.stories.tsx","./modules/@creature-chess/ui/piece/Piece.stories.tsx":"./piece/Piece.stories.tsx","./modules/@creature-chess/ui/piece/Projectile.stories.tsx":"./piece/Projectile.stories.tsx","./modules/@creature-chess/ui/piece/match/MatchPiece.stories.tsx":"./piece/match/MatchPiece.stories.tsx","./modules/@creature-chess/ui/player/PlayerGameProfile.stories.tsx":"./player/PlayerGameProfile.stories.tsx","./modules/@creature-chess/ui/src/Footer.stories.tsx":"./src/Footer.stories.tsx","./modules/@creature-chess/ui/src/cardShop/card.stories.tsx":"./src/cardShop/card.stories.tsx","./modules/@creature-chess/ui/src/cardShop/cardSelector.stories.tsx":"./src/cardShop/cardSelector.stories.tsx","./modules/@creature-chess/ui/src/cardShop/cardShop.stories.tsx":"./src/cardShop/cardShop.stories.tsx","./modules/@creature-chess/ui/src/display/CreatureImage.stories.tsx":"./src/display/CreatureImage.stories.tsx","./modules/@creature-chess/ui/src/display/ProgressBar.stories.tsx":"./src/display/ProgressBar.stories.tsx","./modules/@creature-chess/ui/src/playerList/PlayerListItem.stories.tsx":"./src/playerList/PlayerListItem.stories.tsx","./modules/@creature-chess/ui/src/playerList/StatusPlayerListItem.stories.tsx":"./src/playerList/StatusPlayerListItem.stories.tsx","./modules/@tools/battle-tester/src/battle.stories.tsx":"../../@tools/battle-tester/src/battle.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="../../.. sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"../../../apps/web-game/src/game/board/BoardContainer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Scale_Height",(function(){return Scale_Height})),__webpack_require__.d(__webpack_exports__,"Scale_Width",(function(){return Scale_Width}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react-redux/es/index.js"),_creature_chess_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./index.ts"),_layouts_stories_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../apps/web-game/src/game/layouts/stories-utils.ts"),_BoardContainer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../apps/web-game/src/game/board/BoardContainer.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@game / BoardContainer",component:_BoardContainer__WEBPACK_IMPORTED_MODULE_6__.a,argTypes:{}};var Template=function Template(args){Object(_creature_chess_ui__WEBPACK_IMPORTED_MODULE_4__.u)();var store=Object(_layouts_stories_utils__WEBPACK_IMPORTED_MODULE_5__.a)(!1);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{style:{width:"500px",height:"400px",border:"2px solid red"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_3__.a,{store:store,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_BoardContainer__WEBPACK_IMPORTED_MODULE_6__.a,{})})})};Template.displayName="Template";var Scale_Height=Template.bind({});Scale_Height.args={scaleMode:"height"};var Scale_Width=Template.bind({});Scale_Width.args={scaleMode:"width"},Scale_Height.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(false);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\twidth: "500px",\n\t\t\t\theight: "400px",\n\t\t\t\tborder: "2px solid red",\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<BoardContainer />\n\t\t\t</Provider>\n\t\t</div>\n\t);\n}'}},Scale_Height.parameters),Scale_Width.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(false);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\twidth: "500px",\n\t\t\t\theight: "400px",\n\t\t\t\tborder: "2px solid red",\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<BoardContainer />\n\t\t\t</Provider>\n\t\t</div>\n\t);\n}'}},Scale_Width.parameters)},"../../../apps/web-game/src/game/board/BoardContainer.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BoardContainer}));__webpack_require__("../../../node_modules/react/index.js");var classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),board_react=__webpack_require__("../../@shoki/board-react/index.ts"),index=__webpack_require__("./index.ts"),nowPlaying=__webpack_require__("../../../apps/web-game/src/game/module/nowPlaying.tsx"),es=(__webpack_require__("../../../node_modules/core-js/modules/es.string.match.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../../node_modules/react-redux/es/index.js")),selectors_useGameBench=function useGameBench(){return Object(es.c)((function(state){return state.game.bench}))},selectors_useGameMatchBoard=function useGameMatchBoard(){return Object(es.c)((function(state){return state.game.match.board}))},auth_web=__webpack_require__("../auth-web/index.ts"),clickPieceSaga=__webpack_require__("../../../apps/web-game/src/game/board/sagas/clickPieceSaga.ts"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({selectablePiece:{width:"100%",height:"100%"},selected:{boxSizing:"border-box",border:"2px solid #ff5200"}}),SelectablePiece_SelectablePiece=function SelectablePiece(){var _classNames,styles=useStyles(),piece=Object(index.v)().piece,dispatch=Object(es.b)(),isSelected=Object(es.c)((function(state){return state.game.ui.selectedPieceId}))===piece.id;if(!piece)return null;var className=classnames_default()(styles.selectablePiece,((_classNames={})[styles.selected]=isSelected,_classNames));return Object(jsx_runtime.jsx)("div",{className:className,children:Object(jsx_runtime.jsx)(index.k,{healthbar:"none",onClick:function onClick(){dispatch(Object(clickPieceSaga.a)({pieceId:piece.id}))}})})};SelectablePiece_SelectablePiece.displayName="SelectablePiece";try{SelectablePiece_SelectablePiece.displayName="SelectablePiece",SelectablePiece_SelectablePiece.__docgenInfo={description:"",displayName:"SelectablePiece",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/piece/SelectablePiece.tsx#SelectablePiece"]={docgenInfo:SelectablePiece_SelectablePiece.__docgenInfo,name:"SelectablePiece",path:"../../../apps/web-game/src/game/board/piece/SelectablePiece.tsx#SelectablePiece"})}catch(__react_docgen_typescript_loader_error){}var renderPiece_useRenderSelectablePiece=function useRenderSelectablePiece(){var viewingPlayerId=Object(auth_web.b)();return function(piece){return Object(jsx_runtime.jsx)(index.l,{value:{piece:piece,viewingPlayerId:viewingPlayerId},children:Object(jsx_runtime.jsx)(SelectablePiece_SelectablePiece,{})})}},useRenderBoardPiece=renderPiece_useRenderSelectablePiece,useRenderBenchPiece=renderPiece_useRenderSelectablePiece,clickTileSaga=__webpack_require__("../../../apps/web-game/src/game/board/sagas/clickTileSaga.ts"),clickTile_useOnClickTile=function useOnClickTile(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$canClickBoard=_ref.canClickBoard,canClickBoard=void 0===_ref$canClickBoard||_ref$canClickBoard,dispatch=Object(es.b)();return function(_ref2){var location=_ref2.location;if("board"!==location.locationType||canClickBoard){var tile={type:location.locationType,location:{x:location.x,y:location.y||0}};dispatch(Object(clickTileSaga.a)({tile:tile}))}}},gamemode=__webpack_require__("../gamemode/index.ts"),ui=__webpack_require__("../../../apps/web-game/src/game/ui/index.ts"),getLocationForPiece=__webpack_require__("../../../apps/web-game/src/game/board/getLocationForPiece.ts"),dropPiece_useOnDropPiece=function useOnDropPiece(board,bench){var dispatch=Object(es.b)();return function(_ref){var id=_ref.id,location=_ref.location;if(board){var from=Object(getLocationForPiece.a)(id,board,bench);if(from){var loc={type:location.locationType,location:{x:location.x,y:location.y||0}};dispatch(gamemode.a.dropPiecePlayerAction({pieceId:id,from:from,to:loc})),dispatch(Object(ui.c)())}}}};function LocalBoard(){var board=function useGameBoard(){return Object(es.c)((function(state){return state.game.board}))}(),bench=selectors_useGameBench(),renderBoardPiece=useRenderBoardPiece(),renderBenchPiece=useRenderBenchPiece(),onClickTile=clickTile_useOnClickTile(),onDropPiece=dropPiece_useOnDropPiece(board,bench);return board?Object(jsx_runtime.jsx)(index.e,{value:{board:board,bench:bench},children:Object(jsx_runtime.jsx)(index.d,{onClick:onClickTile,onDropPiece:onDropPiece,renderBoardPiece:renderBoardPiece,renderBenchPiece:renderBenchPiece})}):null}function MatchBoard(){var board=selectors_useGameMatchBoard(),bench=selectors_useGameBench(),renderBoardPiece=function useRenderMatchBoardPiece(){var viewingPlayerId=Object(auth_web.b)();return function(piece){return Object(jsx_runtime.jsx)(index.l,{value:{piece:piece,viewingPlayerId:viewingPlayerId},children:Object(jsx_runtime.jsx)(index.j,{})})}}(),renderBenchPiece=useRenderBenchPiece(),onClickTile=clickTile_useOnClickTile({canClickBoard:!1}),onDropPiece=dropPiece_useOnDropPiece(board,bench);return board?Object(jsx_runtime.jsx)(index.e,{value:{board:board,bench:bench},children:Object(jsx_runtime.jsx)(index.d,{onClick:onClickTile,onDropPiece:onDropPiece,renderBoardPiece:renderBoardPiece,renderBenchPiece:renderBenchPiece})}):null}LocalBoard.displayName="LocalBoard",MatchBoard.displayName="MatchBoard";var overlays=__webpack_require__("../../../apps/web-game/src/game/board/overlays/index.ts"),BoardContainer_useStyles=Object(react_jss_esm.a)({boardContainer:{flex:2,position:"relative"}});function BoardContainer(){var styles=BoardContainer_useStyles(),matchBoard=selectors_useGameMatchBoard();return Object(jsx_runtime.jsx)(board_react.DndProvider,{children:Object(jsx_runtime.jsxs)(index.f,{className:classnames_default()(styles.boardContainer,"board-container"),children:[Object(jsx_runtime.jsx)(nowPlaying.a,{}),matchBoard?Object(jsx_runtime.jsx)(MatchBoard,{}):Object(jsx_runtime.jsx)(LocalBoard,{}),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(overlays.c,{}),Object(jsx_runtime.jsx)(overlays.e,{}),Object(jsx_runtime.jsx)(overlays.b,{}),Object(jsx_runtime.jsx)(overlays.d,{})]})]})})}BoardContainer.displayName="BoardContainer"},"../../../apps/web-game/src/game/board/getLocationForPiece.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getLocationForPiece}));var _shoki_board__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../@shoki/board/index.ts"),getLocationForPiece=function getLocationForPiece(pieceId,board,bench){if(board){var boardPiecePosition=_shoki_board__WEBPACK_IMPORTED_MODULE_0__.a.getPiecePosition(board,pieceId);if(boardPiecePosition)return{type:"board",location:boardPiecePosition}}if(bench){var benchPiecePosition=_shoki_board__WEBPACK_IMPORTED_MODULE_0__.a.getPiecePosition(bench,pieceId);if(benchPiecePosition)return{type:"bench",location:benchPiecePosition}}return null}},"../../../apps/web-game/src/game/board/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var _BoardContainer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../apps/web-game/src/game/board/BoardContainer.tsx");__webpack_require__.d(__webpack_exports__,"a",(function(){return _BoardContainer__WEBPACK_IMPORTED_MODULE_0__.a}));__webpack_require__("../../../apps/web-game/src/game/board/sagas/clickPieceSaga.ts"),__webpack_require__("../../../apps/web-game/src/game/board/sagas/clickTileSaga.ts")},"../../../apps/web-game/src/game/board/overlays/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return readyOverlay_ReadyOverlay})),__webpack_require__.d(__webpack_exports__,"e",(function(){return victoryOverlay_VictoryOverlay})),__webpack_require__.d(__webpack_exports__,"b",(function(){return matchRewardsOverlay_MatchRewardsOverlay})),__webpack_require__.d(__webpack_exports__,"d",(function(){return reconnectOverlay_ReconnectOverlay})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Controls}));__webpack_require__("../../../node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js");var react=__webpack_require__("../../../node_modules/react/index.js"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),es=__webpack_require__("../../../node_modules/react-redux/es/index.js"),auth_web=__webpack_require__("../auth-web/index.ts"),models=__webpack_require__("../models/index.ts"),index=__webpack_require__("./index.ts"),text_0=__webpack_require__("./text/index.ts"),lib=__webpack_require__("../../../node_modules/react-modal/lib/index.js"),lib_default=__webpack_require__.n(lib),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({overlay:{position:"absolute",top:"0",left:"0",zIndex:"500",display:"flex",width:"100%",height:"100%",justifyContent:"space-around",alignItems:"center",inset:"0",background:"rgba(0, 0, 0, 0.85)"},portal:{position:"absolute",top:"-0.5%",left:"0",zIndex:"510",width:"100%",height:"101%"},modal:{position:"absolute",overflow:"auto",boxSizing:"border-box",display:"flex",height:"100%",minWidth:"80%",padding:"2em",outline:"none",fontFamily:"Arial, sans-serif",color:"#fff",background:"#333c57"}}),boardOverlay_BoardOverlay=function BoardOverlay(_ref){var children=_ref.children,styles=useStyles();return Object(jsx_runtime.jsx)(lib_default.a,{isOpen:!0,className:styles.modal,overlayClassName:styles.overlay,portalClassName:styles.portal,parentSelector:function parentSelector(){return document.querySelector(".board-container")},children:children})};boardOverlay_BoardOverlay.displayName="BoardOverlay";try{boardOverlay_BoardOverlay.displayName="BoardOverlay",boardOverlay_BoardOverlay.__docgenInfo={description:"",displayName:"BoardOverlay",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/boardOverlay.tsx#BoardOverlay"]={docgenInfo:boardOverlay_BoardOverlay.__docgenInfo,name:"BoardOverlay",path:"../../../apps/web-game/src/game/board/overlays/boardOverlay.tsx#BoardOverlay"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.array.index-of.js");var getPosition=function getPosition(player,playerList){var position=playerList.indexOf(player)+1;return""+position+function getPositionModifier(position){return 1===position?"st":2===position?"nd":3===position?"rd":"th"}(position)},headToHeadStats_useStyles=Object(react_jss_esm.a)({segment:{marginBottom:"0.5em"}});function HeadToHeadStats(_ref){var player=_ref.player,opponent=_ref.opponent,styles=headToHeadStats_useStyles(),playerList=Object(es.c)((function(state){return state.game.playerList}));return Object(jsx_runtime.jsx)(index.i,{direction:"column",children:Object(jsx_runtime.jsxs)(index.f,{className:styles.segment,children:[Object(jsx_runtime.jsx)(text_0.b,{children:"Position"}),Object(jsx_runtime.jsxs)(text_0.c,{children:[getPosition(player,playerList)," vs"," ",getPosition(opponent,playerList)]})]})})}HeadToHeadStats.displayName="HeadToHeadStats";try{HeadToHeadStats.displayName="HeadToHeadStats",HeadToHeadStats.__docgenInfo={description:"",displayName:"HeadToHeadStats",props:{player:{defaultValue:null,description:"",name:"player",required:!0,type:{name:"PlayerListPlayer"}},opponent:{defaultValue:null,description:"",name:"opponent",required:!0,type:{name:"PlayerListPlayer"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/h2h/headToHeadStats.tsx#HeadToHeadStats"]={docgenInfo:HeadToHeadStats.__docgenInfo,name:"HeadToHeadStats",path:"../../../apps/web-game/src/game/board/overlays/h2h/headToHeadStats.tsx#HeadToHeadStats"})}catch(__react_docgen_typescript_loader_error){}function QuickChatBox(_ref){var sendingPlayerId=_ref.sendingPlayerId,currentChat=Object(es.c)((function(state){return state.game.quickChat[sendingPlayerId]}));return currentChat?Object(jsx_runtime.jsx)(text_0.c,{children:currentChat.value}):null}QuickChatBox.displayName="QuickChatBox";try{QuickChatBox.displayName="QuickChatBox",QuickChatBox.__docgenInfo={description:"",displayName:"QuickChatBox",props:{sendingPlayerId:{defaultValue:null,description:"",name:"sendingPlayerId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/quickChat/quickChatBox.tsx#QuickChatBox"]={docgenInfo:QuickChatBox.__docgenInfo,name:"QuickChatBox",path:"../../../apps/web-game/src/game/board/overlays/quickChat/quickChatBox.tsx#QuickChatBox"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.object.values.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var gamemode=__webpack_require__("../gamemode/index.ts"),quickChatButton_useStyles=Object(react_jss_esm.a)({button:{fontSize:"1.5em"}}),quickChatButton_QuickChatButton=function QuickChatButton(_ref){var chatOption=_ref.chatOption,styles=quickChatButton_useStyles(),dispatch=Object(es.b)(),sendingPlayerId=Object(auth_web.b)();return Object(jsx_runtime.jsx)("button",{onClick:function onClick(){dispatch(gamemode.a.quickChatPlayerAction({sendingPlayerId:sendingPlayerId,chatValue:chatOption}))},className:styles.button,children:chatOption.toString()})};quickChatButton_QuickChatButton.displayName="QuickChatButton";try{quickChatButton_QuickChatButton.displayName="QuickChatButton",quickChatButton_QuickChatButton.__docgenInfo={description:"",displayName:"QuickChatButton",props:{chatOption:{defaultValue:null,description:"",name:"chatOption",required:!0,type:{name:"enum",value:[{value:'"GL"'},{value:'"ðŸ˜ƒ"'},{value:'"ðŸ˜±"'},{value:'"ðŸ˜ "'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/quickChat/quickChatButton.tsx#QuickChatButton"]={docgenInfo:quickChatButton_QuickChatButton.__docgenInfo,name:"QuickChatButton",path:"../../../apps/web-game/src/game/board/overlays/quickChat/quickChatButton.tsx#QuickChatButton"})}catch(__react_docgen_typescript_loader_error){}var quickChatButtonArray_QuickChatButtonArray=function QuickChatButtonArray(){var quickChatArray=Object.values(models.u);return Object(jsx_runtime.jsx)(index.i,{direction:"row",children:quickChatArray.map((function(chat){return Object(jsx_runtime.jsx)(quickChatButton_QuickChatButton,{chatOption:chat},chat)}))})};quickChatButtonArray_QuickChatButtonArray.displayName="QuickChatButtonArray";try{quickChatButtonArray_QuickChatButtonArray.displayName="QuickChatButtonArray",quickChatButtonArray_QuickChatButtonArray.__docgenInfo={description:"",displayName:"QuickChatButtonArray",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/quickChat/quickChatButtonArray.tsx#QuickChatButtonArray"]={docgenInfo:quickChatButtonArray_QuickChatButtonArray.__docgenInfo,name:"QuickChatButtonArray",path:"../../../apps/web-game/src/game/board/overlays/quickChat/quickChatButtonArray.tsx#QuickChatButtonArray"})}catch(__react_docgen_typescript_loader_error){}var readyOverlay_useStyles=Object(react_jss_esm.a)({wrapper:{textAlign:"center",flex:1},vs:{background:"#566c86",padding:"1em",border:"2px solid #b13e53"},vsHeader:{borderTop:"2px solid #b13e53",borderBottom:"2px solid #b13e53"},badges:{display:"flex",flexDirection:"row",justifyContent:"space-between",boxSizing:"border-box",alignItems:"center"},healthbar:{marginBottom:"0.25em"}}),readyOverlay_ReadyOverlay=function ReadyOverlay(){var _localPlayer$profile,_opponent$profile,styles=readyOverlay_useStyles(),inReadyPhase=Object(es.c)((function(state){return state.game.roundInfo.phase===models.k.READY})),playerList=Object(es.c)((function(state){return state.game.playerList})),localId=Object(auth_web.b)(),localPlayer=playerList.find((function(p){return p.id===localId})),opponent=Object(es.c)((function(state){var id=state.game.playerInfo.opponentId;return state.game.playerList.find((function(p){return p.id===id}))})),spectatingPlayer=Object(es.c)((function(state){return null!==state.game.spectating.id}));return localPlayer&&opponent&&inReadyPhase&&!spectatingPlayer?Object(jsx_runtime.jsx)(boardOverlay_BoardOverlay,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"column",justifyContent:"center",className:styles.wrapper,children:[Object(jsx_runtime.jsx)(text_0.a,{children:"Now Playing"}),Object(jsx_runtime.jsxs)("div",{className:styles.vs,children:[Object(jsx_runtime.jsx)(index.f,{children:Object(jsx_runtime.jsx)(index.i,{direction:"row",children:Object(jsx_runtime.jsx)(index.f,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"row",children:[Object(jsx_runtime.jsxs)(index.g,{children:[Object(jsx_runtime.jsxs)(index.f,{children:[Object(jsx_runtime.jsx)(text_0.b,{children:localPlayer.name}),Object(jsx_runtime.jsx)(index.s,{titleId:(null===(_localPlayer$profile=localPlayer.profile)||void 0===_localPlayer$profile?void 0:_localPlayer$profile.title)||null})]}),Object(jsx_runtime.jsx)(index.f,{className:styles.healthbar,children:Object(jsx_runtime.jsx)(index.o,{health:localPlayer.health})}),Object(jsx_runtime.jsxs)(index.f,{className:styles.badges,children:[Object(jsx_runtime.jsx)(index.r,{type:localPlayer.streakType,amount:localPlayer.streakAmount}),Object(jsx_runtime.jsxs)(index.h,{type:"highlight",children:["$",localPlayer.money]}),Object(jsx_runtime.jsxs)(index.h,{children:["Lv ",localPlayer.level]})]})]}),Object(jsx_runtime.jsxs)(index.g,{children:[Object(jsx_runtime.jsx)(index.m,{player:localPlayer}),Object(jsx_runtime.jsx)(QuickChatBox,{sendingPlayerId:localId})]})]})})})}),Object(jsx_runtime.jsx)("div",{className:styles.vsHeader,children:Object(jsx_runtime.jsx)(text_0.a,{children:"vs."})}),Object(jsx_runtime.jsx)(index.f,{children:Object(jsx_runtime.jsx)(index.i,{direction:"row",children:Object(jsx_runtime.jsx)(index.f,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"row",children:[Object(jsx_runtime.jsxs)(index.g,{children:[Object(jsx_runtime.jsx)(index.m,{player:opponent}),Object(jsx_runtime.jsx)(QuickChatBox,{sendingPlayerId:opponent.id})]}),Object(jsx_runtime.jsxs)(index.g,{children:[Object(jsx_runtime.jsxs)(index.f,{children:[Object(jsx_runtime.jsx)(text_0.b,{children:opponent.name}),Object(jsx_runtime.jsx)(index.s,{titleId:(null===(_opponent$profile=opponent.profile)||void 0===_opponent$profile?void 0:_opponent$profile.title)||null})]}),Object(jsx_runtime.jsx)(index.f,{className:styles.healthbar,children:Object(jsx_runtime.jsx)(index.o,{health:opponent.health})}),Object(jsx_runtime.jsxs)(index.f,{className:styles.badges,children:[Object(jsx_runtime.jsx)(index.r,{type:opponent.streakType,amount:opponent.streakAmount}),Object(jsx_runtime.jsxs)(index.h,{type:"highlight",children:["$",opponent.money]}),Object(jsx_runtime.jsxs)(index.h,{children:["Lv ",opponent.level]})]})]})]})})})})]}),Object(jsx_runtime.jsx)(HeadToHeadStats,{player:localPlayer,opponent:opponent}),Object(jsx_runtime.jsx)(quickChatButtonArray_QuickChatButtonArray,{})]})}):null};readyOverlay_ReadyOverlay.displayName="ReadyOverlay";try{readyOverlay_ReadyOverlay.displayName="ReadyOverlay",readyOverlay_ReadyOverlay.__docgenInfo={description:"",displayName:"ReadyOverlay",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/readyOverlay.tsx#ReadyOverlay"]={docgenInfo:readyOverlay_ReadyOverlay.__docgenInfo,name:"ReadyOverlay",path:"../../../apps/web-game/src/game/board/overlays/readyOverlay.tsx#ReadyOverlay"})}catch(__react_docgen_typescript_loader_error){}var DiscordIcon_useStyles=Object(react_jss_esm.a)({discordButton:{maxWidth:"260px",padding:"2em",textAlign:"center"},discordImage:{maxWidth:"260px"}});function DiscordIcon(){var styles=DiscordIcon_useStyles();return Object(jsx_runtime.jsxs)("div",{className:styles.discordButton,children:[Object(jsx_runtime.jsx)("p",{children:"Join us on Discord to receive notifications when someone starts a lobby, and more!"}),Object(jsx_runtime.jsx)("a",{href:"https://discord.gg/FhMm6saehb",children:Object(jsx_runtime.jsx)("img",{className:styles.discordImage,src:"https://i.imgur.com/OBo2QRd.png"})})]})}DiscordIcon.displayName="DiscordIcon";var reselect_es=__webpack_require__("../../../node_modules/reselect/es/index.js"),getPlayers=function getPlayers(state){return state.game.playerList},victoryOverlay_VictoryOverlay=function VictoryOverlay(){var spectatingPlayer=Object(es.c)((function(state){return null!==state.game.spectating.id})),winnerName=Object(es.c)((function(state){var _getPlayerById,winnerId=state.game.ui.winnerId;return winnerId&&(null===(_getPlayerById=function getPlayerById(id){return Object(reselect_es.a)(getPlayers,(function(players){return players.find((function(p){return p.id===id}))||null}))}(winnerId)(state))||void 0===_getPlayerById?void 0:_getPlayerById.name)||null}));return!winnerName||spectatingPlayer?null:Object(jsx_runtime.jsx)(boardOverlay_BoardOverlay,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"column",children:[Object(jsx_runtime.jsx)(text_0.a,{children:"Game Over"}),Object(jsx_runtime.jsxs)(text_0.b,{children:[winnerName," wins!"]}),Object(jsx_runtime.jsx)("p",{children:"new: You can spectate players from the player list"}),Object(jsx_runtime.jsx)(DiscordIcon,{})]})})};victoryOverlay_VictoryOverlay.displayName="VictoryOverlay";try{victoryOverlay_VictoryOverlay.displayName="VictoryOverlay",victoryOverlay_VictoryOverlay.__docgenInfo={description:"",displayName:"VictoryOverlay",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/victoryOverlay.tsx#VictoryOverlay"]={docgenInfo:victoryOverlay_VictoryOverlay.__docgenInfo,name:"VictoryOverlay",path:"../../../apps/web-game/src/game/board/overlays/victoryOverlay.tsx#VictoryOverlay"})}catch(__react_docgen_typescript_loader_error){}var matchRewardsOverlay_MatchRewardsOverlay=function MatchRewardsOverlay(){var matchRewards=Object(es.c)((function(state){return state.game.playerInfo.matchRewards})),victoryOverlayShowing=Object(es.c)((function(state){return null!==state.game.ui.winnerId})),spectatingPlayer=Object(es.c)((function(state){return null!==state.game.spectating.id}));if(!matchRewards||victoryOverlayShowing||spectatingPlayer)return null;var damage=matchRewards.damage,justDied=matchRewards.justDied,_matchRewards$rewardM=matchRewards.rewardMoney,total=_matchRewards$rewardM.total,base=_matchRewards$rewardM.base,winBonus=_matchRewards$rewardM.winBonus,streakBonus=_matchRewards$rewardM.streakBonus,interest=_matchRewards$rewardM.interest;return justDied?Object(jsx_runtime.jsx)(boardOverlay_BoardOverlay,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"column",children:[Object(jsx_runtime.jsx)(text_0.a,{children:"You died"}),Object(jsx_runtime.jsxs)(text_0.b,{children:[damage," health lost"]}),Object(jsx_runtime.jsx)(DiscordIcon,{})]})}):0===damage?Object(jsx_runtime.jsx)(boardOverlay_BoardOverlay,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"column",children:[Object(jsx_runtime.jsx)(text_0.a,{children:"Round Won"}),Object(jsx_runtime.jsxs)(index.f,{children:[Object(jsx_runtime.jsxs)(text_0.b,{children:["$",total," gained"]}),Object(jsx_runtime.jsxs)("ul",{children:[Object(jsx_runtime.jsxs)("li",{children:["Base: $",base]}),Object(jsx_runtime.jsxs)("li",{children:["Win Bonus: $",winBonus]}),Object(jsx_runtime.jsxs)("li",{children:["Streak Bonus: $",streakBonus]}),Object(jsx_runtime.jsxs)("li",{children:["Interest (10%): $",interest]})]})]})]})}):Object(jsx_runtime.jsx)(boardOverlay_BoardOverlay,{children:Object(jsx_runtime.jsxs)(index.i,{direction:"column",children:[Object(jsx_runtime.jsx)(text_0.a,{children:"Round Lost"}),Object(jsx_runtime.jsxs)(text_0.b,{children:[damage," health lost"]}),Object(jsx_runtime.jsxs)(index.f,{children:[Object(jsx_runtime.jsxs)(text_0.b,{children:["$",total," gained"]}),Object(jsx_runtime.jsxs)("ul",{children:[Object(jsx_runtime.jsxs)("li",{children:["Base: $",base]}),Object(jsx_runtime.jsxs)("li",{children:["Win Bonus: $",winBonus]}),Object(jsx_runtime.jsxs)("li",{children:["Streak Bonus: $",streakBonus]}),Object(jsx_runtime.jsxs)("li",{children:["Interest (10%): $",interest]})]})]})]})})};matchRewardsOverlay_MatchRewardsOverlay.displayName="MatchRewardsOverlay";try{matchRewardsOverlay_MatchRewardsOverlay.displayName="MatchRewardsOverlay",matchRewardsOverlay_MatchRewardsOverlay.__docgenInfo={description:"",displayName:"MatchRewardsOverlay",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/matchRewardsOverlay.tsx#MatchRewardsOverlay"]={docgenInfo:matchRewardsOverlay_MatchRewardsOverlay.__docgenInfo,name:"MatchRewardsOverlay",path:"../../../apps/web-game/src/game/board/overlays/matchRewardsOverlay.tsx#MatchRewardsOverlay"})}catch(__react_docgen_typescript_loader_error){}var connection_status=__webpack_require__("../../../apps/web-game/src/game/connection-status.ts"),reconnectOverlay_ReconnectOverlay=function ReconnectOverlay(){var connectionStatus=Object(es.c)((function(state){return state.game.ui.connectionStatus}));return connectionStatus===connection_status.a.NOT_CONNECTED||connectionStatus===connection_status.a.CONNECTED?null:Object(jsx_runtime.jsx)(boardOverlay_BoardOverlay,{children:Object(jsx_runtime.jsx)(index.f,{children:connectionStatus===connection_status.a.DISCONNECTED&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("p",{children:"You've been disconnected - but you can get back in!"}),Object(jsx_runtime.jsx)("p",{children:"Please refresh the page to rejoin"})]})})})};reconnectOverlay_ReconnectOverlay.displayName="ReconnectOverlay";try{reconnectOverlay_ReconnectOverlay.displayName="ReconnectOverlay",reconnectOverlay_ReconnectOverlay.__docgenInfo={description:"",displayName:"ReconnectOverlay",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/board/overlays/reconnectOverlay.tsx#ReconnectOverlay"]={docgenInfo:reconnectOverlay_ReconnectOverlay.__docgenInfo,name:"ReconnectOverlay",path:"../../../apps/web-game/src/game/board/overlays/reconnectOverlay.tsx#ReconnectOverlay"})}catch(__react_docgen_typescript_loader_error){}var ReadyUpButton_useStyles=Object(react_jss_esm.a)({readyButton:{"box-sizing":"border-box",padding:"2rem","font-size":"1.6rem",color:"#000000",cursor:"pointer",background:"#38b764",border:"none"}});function ReadyUpButton(){var dispatch=Object(es.b)(),styles=ReadyUpButton_useStyles(),inPreparingPhase=Object(es.c)((function(state){return state.game.roundInfo.phase===models.k.PREPARING})),notReady=Object(es.c)((function(state){return!1===state.game.playerInfo.ready})),canReadyUp=inPreparingPhase&&notReady,onReadyUp=react.useCallback((function(){canReadyUp&&dispatch(gamemode.a.readyUpPlayerAction())}),[canReadyUp]);return canReadyUp?Object(jsx_runtime.jsx)("button",{className:styles.readyButton,onClick:onReadyUp,children:"Ready"}):Object(jsx_runtime.jsx)("div",{})}ReadyUpButton.displayName="ReadyUpButton";var board=__webpack_require__("../../@shoki/board/index.ts"),SellPieceButton_useStyles=Object(react_jss_esm.a)({sellPieceButton:{"box-sizing":"border-box",padding:"2rem","font-size":"1.6rem",color:"#000000",cursor:"pointer",background:"#38b764",border:"none"}});function SellPieceButton(){var dispatch=Object(es.b)(),styles=SellPieceButton_useStyles(),selectedPiece=Object(es.c)((function(state){var inPreparingPhase=state.game.roundInfo.phase===models.k.PREPARING,id=state.game.ui.selectedPieceId;return inPreparingPhase&&id&&(board.a.getPiece(state.game.board,id)||board.a.getPiece(state.game.bench,id))||null})),onSell=react.useCallback((function(){selectedPiece&&dispatch(gamemode.a.sellPiecePlayerAction({pieceId:selectedPiece.id}))}),[dispatch,selectedPiece]);return selectedPiece?Object(jsx_runtime.jsxs)("button",{className:styles.sellPieceButton,onClick:onSell,children:["Sell ($",selectedPiece.definition.cost,")"]}):null}SellPieceButton.displayName="SellPieceButton";var Controls_useStyles=Object(react_jss_esm.a)({controls:{display:"flex",justifyContent:"space-between",zIndex:9999}});function Controls(){var styles=Controls_useStyles();return Object(jsx_runtime.jsxs)("div",{className:styles.controls,children:[Object(jsx_runtime.jsx)(ReadyUpButton,{}),Object(jsx_runtime.jsx)(SellPieceButton,{})]})}Controls.displayName="Controls"},"../../../apps/web-game/src/game/board/sagas/clickPieceSaga.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return playerClickPieceAction}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),playerClickPieceAction=(__webpack_require__("../../@shoki/board/index.ts"),__webpack_require__("../gamemode/index.ts"),__webpack_require__("../../../apps/web-game/src/game/ui/index.ts"),__webpack_require__("../../../apps/web-game/src/game/ui/actions.ts"),__webpack_require__("../../../apps/web-game/src/game/board/getLocationForPiece.ts"),Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__.b)("playerClickPieceAction"))},"../../../apps/web-game/src/game/board/sagas/clickTileSaga.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return playerClickTileAction}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),playerClickTileAction=(__webpack_require__("../gamemode/index.ts"),__webpack_require__("../../../apps/web-game/src/game/ui/actions.ts"),__webpack_require__("../../../apps/web-game/src/game/board/getLocationForPiece.ts"),Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__.b)("playerClickTileAction"))},"../../../apps/web-game/src/game/connection-status.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var ConnectionStatus;__webpack_require__.d(__webpack_exports__,"a",(function(){return ConnectionStatus})),function(ConnectionStatus){ConnectionStatus[ConnectionStatus.NOT_CONNECTED=1]="NOT_CONNECTED",ConnectionStatus[ConnectionStatus.CONNECTED=2]="CONNECTED",ConnectionStatus[ConnectionStatus.DISCONNECTED=3]="DISCONNECTED"}(ConnectionStatus||(ConnectionStatus={}))},"../../../apps/web-game/src/game/layouts/desktop/DesktopGame.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Phase_0_Preparing",(function(){return Phase_0_Preparing})),__webpack_require__.d(__webpack_exports__,"Phase_1_Ready",(function(){return Phase_1_Ready})),__webpack_require__.d(__webpack_exports__,"Phase_2_Playing",(function(){return Phase_2_Playing})),__webpack_require__.d(__webpack_exports__,"Phase_3_Victory",(function(){return Phase_3_Victory}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var es=__webpack_require__("../../../node_modules/react-redux/es/index.js"),auth_web=__webpack_require__("../auth-web/index.ts"),models=__webpack_require__("../models/index.ts"),index=__webpack_require__("./index.ts"),stories_utils=__webpack_require__("../../../apps/web-game/src/game/layouts/stories-utils.ts"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),gameScreen=__webpack_require__("./gameScreen/index.ts"),board=__webpack_require__("../../../apps/web-game/src/game/board/index.ts"),overlays=__webpack_require__("../../../apps/web-game/src/game/board/overlays/index.ts"),game_module=__webpack_require__("../../../apps/web-game/src/game/module/index.ts"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({helpContainer:{overflowY:"scroll",padding:"0.5em",background:"#566c86"},rightColumn:{height:"100%"}}),DesktopGame_DesktopGame=function DesktopGame(){var styles=useStyles();return Object(jsx_runtime.jsx)(gameScreen.a,{leftColumnContent:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(game_module.h,{}),Object(jsx_runtime.jsx)(game_module.d,{}),Object(jsx_runtime.jsx)(game_module.c,{}),Object(jsx_runtime.jsx)(game_module.e,{})]}),middleColumnContent:Object(jsx_runtime.jsx)(board.a,{}),rightColumnContent:Object(jsx_runtime.jsxs)(index.i,{direction:"column",className:styles.rightColumn,children:[Object(jsx_runtime.jsx)(game_module.g,{}),Object(jsx_runtime.jsx)(game_module.a,{}),Object(jsx_runtime.jsx)(game_module.f,{}),Object(jsx_runtime.jsx)(overlays.a,{}),Object(jsx_runtime.jsx)("div",{className:styles.helpContainer,children:Object(jsx_runtime.jsx)(game_module.b,{hideFooter:!0})}),Object(jsx_runtime.jsx)(index.c,{})]})})};DesktopGame_DesktopGame.displayName="DesktopGame";try{DesktopGame_DesktopGame.displayName="DesktopGame",DesktopGame_DesktopGame.__docgenInfo={description:"",displayName:"DesktopGame",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/layouts/desktop/DesktopGame.tsx#DesktopGame"]={docgenInfo:DesktopGame_DesktopGame.__docgenInfo,name:"DesktopGame",path:"../../../apps/web-game/src/game/layouts/desktop/DesktopGame.tsx#DesktopGame"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"@game / DesktopGame",component:DesktopGame_DesktopGame,argTypes:{}};var DesktopGame_stories_Template=function Template(args){Object(index.u)();var store=Object(stories_utils.a)(args.phase===models.k.PREPARING,(function(state){return Object.assign({},state,{ui:Object.assign({},state.ui,{winnerId:args.winnerId?args.winnerId:state.ui.winnerId}),roundInfo:Object.assign({},state.roundInfo,{phase:args.phase}),playerInfo:Object.assign({},state.playerInfo,{opponentId:args.opponentId?args.opponentId:state.playerInfo.opponentId})})}));return Object(jsx_runtime.jsx)("div",{style:{width:"90%",height:"90%",border:"2px solid red"},children:Object(jsx_runtime.jsx)(auth_web.a,{value:{user:{"https://creaturechess.jamesmonger.com/playerId":"1234","https://creaturechess.jamesmonger.com/playerNickname":"jkm","https://creaturechess.jamesmonger.com/playerPicture":1}},children:Object(jsx_runtime.jsx)(es.a,{store:store,children:Object(jsx_runtime.jsx)(DesktopGame_DesktopGame,{})})})})};DesktopGame_stories_Template.displayName="Template";var Phase_0_Preparing=DesktopGame_stories_Template.bind({});Phase_0_Preparing.args={phase:models.k.PREPARING};var Phase_1_Ready=DesktopGame_stories_Template.bind({});Phase_1_Ready.args={phase:models.k.READY,opponentId:"5678"};var Phase_2_Playing=DesktopGame_stories_Template.bind({});Phase_2_Playing.args={phase:models.k.PLAYING};var Phase_3_Victory=DesktopGame_stories_Template.bind({});Phase_3_Victory.args={phase:models.k.PLAYING,winnerId:"1234"},Phase_0_Preparing.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<div style={{ width: "90%", height: "90%", border: "2px solid red" }}>\n\t\t\t<AuthContextProvider\n\t\t\t\tvalue={{\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<DesktopGame />\n\t\t\t\t</Provider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}'}},Phase_0_Preparing.parameters),Phase_1_Ready.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<div style={{ width: "90%", height: "90%", border: "2px solid red" }}>\n\t\t\t<AuthContextProvider\n\t\t\t\tvalue={{\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<DesktopGame />\n\t\t\t\t</Provider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}'}},Phase_1_Ready.parameters),Phase_2_Playing.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<div style={{ width: "90%", height: "90%", border: "2px solid red" }}>\n\t\t\t<AuthContextProvider\n\t\t\t\tvalue={{\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<DesktopGame />\n\t\t\t\t</Provider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}'}},Phase_2_Playing.parameters),Phase_3_Victory.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<div style={{ width: "90%", height: "90%", border: "2px solid red" }}>\n\t\t\t<AuthContextProvider\n\t\t\t\tvalue={{\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<DesktopGame />\n\t\t\t\t</Provider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}'}},Phase_3_Victory.parameters)},"../../../apps/web-game/src/game/layouts/mobile/MobileGame.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Phase_0_Preparing",(function(){return Phase_0_Preparing})),__webpack_require__.d(__webpack_exports__,"Phase_0_Preparing_Selected_Piece",(function(){return Phase_0_Preparing_Selected_Piece})),__webpack_require__.d(__webpack_exports__,"Phase_1_Ready",(function(){return Phase_1_Ready})),__webpack_require__.d(__webpack_exports__,"Phase_2_Playing",(function(){return Phase_2_Playing})),__webpack_require__.d(__webpack_exports__,"Phase_3_MatchRewards_Won",(function(){return Phase_3_MatchRewards_Won})),__webpack_require__.d(__webpack_exports__,"Phase_3_MatchRewards_Lost",(function(){return Phase_3_MatchRewards_Lost})),__webpack_require__.d(__webpack_exports__,"Phase_3_MatchRewards_Died",(function(){return Phase_3_MatchRewards_Died})),__webpack_require__.d(__webpack_exports__,"Phase_4_Victory",(function(){return Phase_4_Victory})),__webpack_require__.d(__webpack_exports__,"Phase_4_Disconnected",(function(){return Phase_4_Disconnected})),__webpack_require__.d(__webpack_exports__,"Tab_1_Players_Overlay",(function(){return Tab_1_Players_Overlay})),__webpack_require__.d(__webpack_exports__,"Tab_2_Shop_Overlay",(function(){return Tab_2_Shop_Overlay})),__webpack_require__.d(__webpack_exports__,"Tab_3_Help_Overlay",(function(){return Tab_3_Help_Overlay})),__webpack_require__.d(__webpack_exports__,"Tab_4_Settings_Overlay",(function(){return Tab_4_Settings_Overlay}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.values.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var es=__webpack_require__("../../../node_modules/react-redux/es/index.js"),auth_web=__webpack_require__("../auth-web/index.ts"),models=__webpack_require__("../models/index.ts"),index=__webpack_require__("./index.ts"),connection_status=__webpack_require__("../../../apps/web-game/src/game/connection-status.ts"),ui=__webpack_require__("../../../apps/web-game/src/game/ui/index.ts"),stories_utils=__webpack_require__("../../../apps/web-game/src/game/layouts/stories-utils.ts"),gamemode=__webpack_require__("../gamemode/index.ts"),gameScreen=__webpack_require__("./gameScreen/index.ts"),board=__webpack_require__("../../../apps/web-game/src/game/board/index.ts"),overlays=__webpack_require__("../../../apps/web-game/src/game/board/overlays/index.ts"),game_module=__webpack_require__("../../../apps/web-game/src/game/module/index.ts"),ui_overlay=__webpack_require__("../../../apps/web-game/src/game/ui/overlay.ts"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({contentPane:{flex:"1",display:"flex",flexDirection:"column",overflowY:"hidden",justifyContent:"space-between"}});function MobileContentPane(_ref){var children=_ref.children,styles=useStyles();return Object(jsx_runtime.jsx)("div",{className:styles.contentPane,children:children})}MobileContentPane.displayName="MobileContentPane";try{MobileContentPane.displayName="MobileContentPane",MobileContentPane.__docgenInfo={description:"",displayName:"MobileContentPane",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/layouts/mobile/MobileContentPane.tsx#MobileContentPane"]={docgenInfo:MobileContentPane.__docgenInfo,name:"MobileContentPane",path:"../../../apps/web-game/src/game/layouts/mobile/MobileContentPane.tsx#MobileContentPane"})}catch(__react_docgen_typescript_loader_error){}var index_es=__webpack_require__("../../../node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),react_fontawesome_index_es=__webpack_require__("../../../node_modules/@fortawesome/react-fontawesome/index.es.js"),classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),actions=__webpack_require__("../../../apps/web-game/src/game/ui/actions.ts"),NavBar_styles_useStyles=Object(react_jss_esm.a)({navBar:{height:"100%",display:"flex",flexDirection:"row"},navBarItem:{padding:"0.7rem 0",fontSize:"1.6rem",color:"#fff",background:"#171717",flex:"1",border:"none",outline:"none","&:not(:last-child)":{borderRight:"3px solid #3c3c3c"}},navBarItemActive:{textDecoration:"underline",background:"#3c3c3c"}}),NavBar_NavItem=function NavItem(_ref){var _classnames,overlay=_ref.overlay,icon=_ref.icon,styles=NavBar_styles_useStyles(),dispatch=Object(es.b)(),isActive=Object(es.c)((function(state){return state.game.ui.currentOverlay===overlay})),canUseShop=Object(es.c)((function(state){return 0!==state.game.playerInfo.health})),isSpectating=Object(es.c)((function(state){return null!==state.game.spectating.id}));return Object(jsx_runtime.jsx)("button",{className:classnames_default()(styles.navBarItem,(_classnames={},_classnames[styles.navBarItemActive]=isActive,_classnames)),onClick:function onClick(){isActive?dispatch(Object(actions.closeOverlay)()):(overlay!==ui_overlay.a.SHOP||canUseShop&&!isSpectating)&&dispatch(Object(actions.openOverlay)(overlay))},children:Object(jsx_runtime.jsx)(react_fontawesome_index_es.a,{icon:icon})})};NavBar_NavItem.displayName="NavItem";var NavBar_NavBar=function NavBar(){var styles=NavBar_styles_useStyles();return Object(jsx_runtime.jsxs)("nav",{className:styles.navBar,children:[Object(jsx_runtime.jsx)(NavBar_NavItem,{overlay:ui_overlay.a.PLAYERS,icon:index_es.d}),Object(jsx_runtime.jsx)(NavBar_NavItem,{overlay:ui_overlay.a.SHOP,icon:index_es.c}),Object(jsx_runtime.jsx)(NavBar_NavItem,{overlay:ui_overlay.a.HELP,icon:index_es.b}),Object(jsx_runtime.jsx)(NavBar_NavItem,{overlay:ui_overlay.a.SETTINGS,icon:index_es.a})]})};NavBar_NavBar.displayName="NavBar";try{NavBar_NavBar.displayName="NavBar",NavBar_NavBar.__docgenInfo={description:"",displayName:"NavBar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/layouts/mobile/NavBar.tsx#NavBar"]={docgenInfo:NavBar_NavBar.__docgenInfo,name:"NavBar",path:"../../../apps/web-game/src/game/layouts/mobile/NavBar.tsx#NavBar"})}catch(__react_docgen_typescript_loader_error){}var OverlayComponent_styles_useStyles=Object(react_jss_esm.a)({overlay:{flex:"1",display:"flex",flexDirection:"column",padding:"0.5rem 0.25rem",overflowY:"scroll",fontFamily:"Arial, sans-serif",background:"#9da5bd"},header:{display:"flex",flexDirection:"row","& h2":{flex:"1",fontFamily:"Arial, sans-serif","font-size":"1.5rem",color:"#fff",textAlign:"center",textDecoration:"underline"}},closeButton:{padding:"0",fontSize:"1.8rem",fontWeight:"700",background:"none",border:"none"},overlayContent:{overflow:"scroll"},overlayContentFullscreen:{overflow:"scroll",height:"100%",boxSizing:"border-box",padding:"0 0.25em",marginTop:"1em"}});function OverlayComponent(_ref){var title=_ref.title,children=_ref.children,_ref$fullscreen=_ref.fullscreen,fullscreen=void 0!==_ref$fullscreen&&_ref$fullscreen,styles=OverlayComponent_styles_useStyles(),dispatch=Object(es.b)();return Object(jsx_runtime.jsxs)("div",{className:styles.overlay,children:[Object(jsx_runtime.jsxs)("div",{className:styles.header,children:[Object(jsx_runtime.jsx)("h2",{children:title}),Object(jsx_runtime.jsx)("button",{className:styles.closeButton,onClick:function dispatchCloseOverlay(){return dispatch(Object(ui.d)())},children:"X"})]}),Object(jsx_runtime.jsx)("div",{className:fullscreen?styles.overlayContentFullscreen:styles.overlayContent,children:children})]})}OverlayComponent.displayName="OverlayComponent";try{OverlayComponent.displayName="OverlayComponent",OverlayComponent.__docgenInfo={description:"",displayName:"OverlayComponent",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},fullscreen:{defaultValue:{value:"false"},description:"",name:"fullscreen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/layouts/mobile/OverlayComponent.tsx#OverlayComponent"]={docgenInfo:OverlayComponent.__docgenInfo,name:"OverlayComponent",path:"../../../apps/web-game/src/game/layouts/mobile/OverlayComponent.tsx#OverlayComponent"})}catch(__react_docgen_typescript_loader_error){}var TopBar_useStyles=Object(react_jss_esm.a)({topBar:{background:"#1d1d1d"}});function TopBar(){var styles=TopBar_useStyles();return Object(jsx_runtime.jsxs)(index.i,{className:styles.topBar,direction:"row",children:[Object(jsx_runtime.jsx)(game_module.h,{}),Object(jsx_runtime.jsx)(game_module.d,{})]})}TopBar.displayName="TopBar";var MobileGame_GameOverlay=function GameOverlay(_ref){var currentOverlay=_ref.currentOverlay,currentBalance=Object(es.c)((function(state){return Object(gamemode.f)(state.game)}));return currentOverlay===ui_overlay.a.PLAYERS?Object(jsx_runtime.jsx)(OverlayComponent,{title:"Players",children:Object(jsx_runtime.jsx)(game_module.e,{})}):currentOverlay===ui_overlay.a.SHOP?Object(jsx_runtime.jsx)(OverlayComponent,{title:"Balance: $"+currentBalance,fullscreen:!0,children:Object(jsx_runtime.jsx)(game_module.a,{})}):currentOverlay===ui_overlay.a.HELP?Object(jsx_runtime.jsx)(OverlayComponent,{title:"Help",children:Object(jsx_runtime.jsx)(game_module.b,{})}):currentOverlay===ui_overlay.a.SETTINGS?Object(jsx_runtime.jsx)(OverlayComponent,{title:"Settings",children:Object(jsx_runtime.jsx)(game_module.i,{})}):null},MobileGame_MobileGameContentPane=function MobileGameContentPane(){var currentOverlay=Object(es.c)((function(state){return state.game.ui.currentOverlay}));return null===currentOverlay?Object(jsx_runtime.jsxs)(MobileContentPane,{children:[Object(jsx_runtime.jsx)(game_module.f,{}),Object(jsx_runtime.jsx)("div",{style:{height:"1em",zIndex:9999},children:Object(jsx_runtime.jsx)(overlays.a,{})}),Object(jsx_runtime.jsx)(board.a,{})]}):Object(jsx_runtime.jsx)(MobileContentPane,{children:Object(jsx_runtime.jsx)(MobileGame_GameOverlay,{currentOverlay:currentOverlay})})};MobileGame_MobileGameContentPane.displayName="MobileGameContentPane";var MobileGame_MobileGame=function MobileGame(){return Object(jsx_runtime.jsx)(gameScreen.b,{topRowContent:Object(jsx_runtime.jsx)(TopBar,{}),middleRowContent:Object(jsx_runtime.jsx)(MobileGame_MobileGameContentPane,{}),bottomRowContent:Object(jsx_runtime.jsx)(NavBar_NavBar,{})})};MobileGame_MobileGame.displayName="MobileGame";__webpack_exports__.default={title:"@game / MobileGame",component:MobileGame_MobileGame,argTypes:{}};var MobileGame_stories_Template=function Template(args){Object(index.u)();var store=Object(stories_utils.a)(args.phase===models.k.PREPARING,(function(state){return Object.assign({},state,{ui:Object.assign({},state.ui,{winnerId:args.winnerId?args.winnerId:state.ui.winnerId,currentOverlay:args.overlay,connectionStatus:args.connectionStatus?args.connectionStatus:state.ui.connectionStatus,selectedPieceId:args.selectedPiece?Object.values(state.board.pieces)[0].id:state.ui.selectedPieceId}),roundInfo:Object.assign({},state.roundInfo,{phase:args.phase}),playerInfo:Object.assign({},state.playerInfo,{matchRewards:args.matchRewards?args.matchRewards:state.playerInfo.matchRewards,opponentId:args.opponentId?args.opponentId:state.playerInfo.opponentId})})}));return Object(jsx_runtime.jsx)(auth_web.a,{value:{user:{"https://creaturechess.jamesmonger.com/playerId":"1234","https://creaturechess.jamesmonger.com/playerNickname":"jkm","https://creaturechess.jamesmonger.com/playerPicture":1}},children:Object(jsx_runtime.jsx)(es.a,{store:store,children:Object(jsx_runtime.jsx)(MobileGame_MobileGame,{})})})};MobileGame_stories_Template.displayName="Template";var Phase_0_Preparing=MobileGame_stories_Template.bind({});Phase_0_Preparing.args={overlay:null,phase:models.k.PREPARING};var Phase_0_Preparing_Selected_Piece=MobileGame_stories_Template.bind({});Phase_0_Preparing_Selected_Piece.args={overlay:null,phase:models.k.PREPARING,selectedPiece:!0};var Phase_1_Ready=MobileGame_stories_Template.bind({});Phase_1_Ready.args={overlay:null,phase:models.k.READY,opponentId:"5678"};var Phase_2_Playing=MobileGame_stories_Template.bind({});Phase_2_Playing.args={overlay:null,phase:models.k.PLAYING};var Phase_3_MatchRewards_Won=MobileGame_stories_Template.bind({});Phase_3_MatchRewards_Won.args={overlay:null,phase:models.k.PLAYING,matchRewards:{damage:0,justDied:!1,rewardMoney:{total:6,base:3,winBonus:1,streakBonus:1,interest:1}}};var Phase_3_MatchRewards_Lost=MobileGame_stories_Template.bind({});Phase_3_MatchRewards_Lost.args={overlay:null,phase:models.k.PLAYING,matchRewards:{damage:5,justDied:!1,rewardMoney:{total:5,base:3,winBonus:1,streakBonus:1,interest:0}}};var Phase_3_MatchRewards_Died=MobileGame_stories_Template.bind({});Phase_3_MatchRewards_Died.args={overlay:null,phase:models.k.PLAYING,matchRewards:{damage:5,justDied:!0,rewardMoney:{total:5,base:3,winBonus:1,streakBonus:1,interest:0}}};var Phase_4_Victory=MobileGame_stories_Template.bind({});Phase_4_Victory.args={overlay:null,phase:models.k.PLAYING,winnerId:"1234"};var Phase_4_Disconnected=MobileGame_stories_Template.bind({});Phase_4_Disconnected.args={overlay:null,phase:models.k.PLAYING,connectionStatus:connection_status.a.DISCONNECTED};var Tab_1_Players_Overlay=MobileGame_stories_Template.bind({});Tab_1_Players_Overlay.args={phase:models.k.PREPARING,overlay:ui.a.PLAYERS};var Tab_2_Shop_Overlay=MobileGame_stories_Template.bind({});Tab_2_Shop_Overlay.args={phase:models.k.PREPARING,overlay:ui.a.SHOP};var Tab_3_Help_Overlay=MobileGame_stories_Template.bind({});Tab_3_Help_Overlay.args={phase:models.k.PREPARING,overlay:ui.a.HELP};var Tab_4_Settings_Overlay=MobileGame_stories_Template.bind({});Tab_4_Settings_Overlay.args={phase:models.k.PREPARING,overlay:ui.a.SETTINGS},Phase_0_Preparing.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_0_Preparing.parameters),Phase_0_Preparing_Selected_Piece.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_0_Preparing_Selected_Piece.parameters),Phase_1_Ready.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_1_Ready.parameters),Phase_2_Playing.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_2_Playing.parameters),Phase_3_MatchRewards_Won.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_3_MatchRewards_Won.parameters),Phase_3_MatchRewards_Lost.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_3_MatchRewards_Lost.parameters),Phase_3_MatchRewards_Died.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_3_MatchRewards_Died.parameters),Phase_4_Victory.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_4_Victory.parameters),Phase_4_Disconnected.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Phase_4_Disconnected.parameters),Tab_1_Players_Overlay.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Tab_1_Players_Overlay.parameters),Tab_2_Shop_Overlay.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Tab_2_Shop_Overlay.parameters),Tab_3_Help_Overlay.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Tab_3_Help_Overlay.parameters),Tab_4_Settings_Overlay.parameters=Object.assign({storySource:{source:'(args) => {\n\tuseGlobalStyles();\n\n\tconst store = createMockStore(\n\t\targs.phase === GamePhase.PREPARING,\n\t\t(state) => ({\n\t\t\t...state,\n\t\t\tui: {\n\t\t\t\t...state.ui,\n\t\t\t\twinnerId: args.winnerId ? args.winnerId : state.ui.winnerId,\n\t\t\t\tcurrentOverlay: args.overlay,\n\t\t\t\tconnectionStatus: args.connectionStatus\n\t\t\t\t\t? args.connectionStatus\n\t\t\t\t\t: state.ui.connectionStatus,\n\t\t\t\tselectedPieceId: args.selectedPiece\n\t\t\t\t\t? Object.values(state.board.pieces)[0].id\n\t\t\t\t\t: state.ui.selectedPieceId,\n\t\t\t},\n\t\t\troundInfo: {\n\t\t\t\t...state.roundInfo,\n\t\t\t\tphase: args.phase,\n\t\t\t},\n\t\t\tplayerInfo: {\n\t\t\t\t...state.playerInfo,\n\t\t\t\tmatchRewards: args.matchRewards\n\t\t\t\t\t? args.matchRewards\n\t\t\t\t\t: state.playerInfo.matchRewards,\n\t\t\t\topponentId: args.opponentId\n\t\t\t\t\t? args.opponentId\n\t\t\t\t\t: state.playerInfo.opponentId,\n\t\t\t},\n\t\t})\n\t);\n\n\treturn (\n\t\t<AuthContextProvider\n\t\t\tvalue={{\n\t\t\t\tuser: {\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerId": "1234",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerNickname": "jkm",\n\t\t\t\t\t"https://creaturechess.jamesmonger.com/playerPicture": 1,\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<Provider store={store}>\n\t\t\t\t<MobileGame />\n\t\t\t</Provider>\n\t\t</AuthContextProvider>\n\t);\n}'}},Tab_4_Settings_Overlay.parameters)},"../../../apps/web-game/src/game/layouts/stories-utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createMockStore}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.now.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_shoki_board__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../@shoki/board/index.ts"),_creature_chess_gamemode__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../gamemode/index.ts"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../models/index.ts"),_connection_status__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../apps/web-game/src/game/connection-status.ts"),createPlayer=function createPlayer(id,name,picture,title,opponentId){return{id:id,name:name,health:100,ready:!1,status:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.s.CONNECTED,streakType:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.z.WIN,streakAmount:3,money:20,level:4,profile:{picture:picture,title:title},battle:Object(_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.K)(opponentId)}},createBoardState=function createBoardState(halfBoard){var _Object$assign,_piecePositions,state=Object(_shoki_board__WEBPACK_IMPORTED_MODULE_4__.c)("local-board",{width:7,height:halfBoard?3:6}),definition=Object(_creature_chess_gamemode__WEBPACK_IMPORTED_MODULE_5__.c)(1),piece={id:"piece-1-id",ownerId:"player-1-id",definitionId:1,definition:definition,facingAway:!1,maxHealth:definition.stages[0].hp,currentHealth:definition.stages[0].hp,stage:0};return Object.assign({},state,{pieces:Object.assign({},state.pieces,(_Object$assign={},_Object$assign[piece.id]=piece,_Object$assign)),piecePositions:(_piecePositions={},_piecePositions[halfBoard?"3,0":"3,3"]=piece.id,_piecePositions)})},createBenchState=function createBenchState(){var _Object$assign2,_piecePositions2,state=Object(_shoki_board__WEBPACK_IMPORTED_MODULE_4__.c)("local-bench",{width:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.b,height:1}),definition=Object(_creature_chess_gamemode__WEBPACK_IMPORTED_MODULE_5__.c)(1),piece={id:"bpiece-1-id",ownerId:"player-1-id",definitionId:5,definition:definition,facingAway:!1,maxHealth:definition.stages[0].hp,currentHealth:definition.stages[0].hp,stage:0};return Object.assign({},state,{pieces:Object.assign({},state.pieces,(_Object$assign2={},_Object$assign2[piece.id]=piece,_Object$assign2)),piecePositions:(_piecePositions2={},_piecePositions2["1,0"]=piece.id,_piecePositions2)})},createMockedState=function createMockedState(halfBoard){var _quickChat;return{ui:{connectionStatus:_connection_status__WEBPACK_IMPORTED_MODULE_7__.a.CONNECTED,currentOverlay:null,inGame:!0,selectedPieceId:null,winnerId:null},roundInfo:{phase:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.k.PREPARING,phaseStartedAtSeconds:Date.now()/1e3,round:1},board:createBoardState(halfBoard),bench:createBenchState(),playerInfo:{opponentId:"5678",battle:null,health:100,level:3,xp:2,matchRewards:null,money:5,ready:!1,status:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.s.CONNECTED,streak:{amount:1,type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.z.WIN}},cardShop:{cards:[{id:"card-1",definitionId:10,cost:3,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.h.ARCANE,name:"Foo",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.g.Fire},{id:"card-2",definitionId:20,cost:1,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.h.CUNNING,name:"John Smith",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.g.Water},{id:"card-3",definitionId:30,cost:5,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.h.VALIANT,name:"Terry",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.g.Earth},null,null],locked:!1},match:{board:null},playerList:[createPlayer("1234","jkm",1,1,"5678"),createPlayer("5678","Jeff",12,null,"1234"),createPlayer("abcd","Bob the Cat",12,null,"ab99"),createPlayer("ab99","Derek the Dog",20,null,"abcd"),createPlayer("1235","Eric123",1,1,"5678"),createPlayer("5679","Ignius_Rex",12,null,"1234"),createPlayer("abce","AlfaCenTauri",12,null,"ab99"),createPlayer("ab90","what this game",20,null,"abcd")],quickChat:(_quickChat={},_quickChat[1234]={value:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.u.HAPPY,receivedAt:Date.now()},_quickChat[5678]={value:_creature_chess_models__WEBPACK_IMPORTED_MODULE_6__.u.ANGRY,receivedAt:Date.now()},_quickChat),spectating:{id:null}}},createMockStore=function createMockStore(halfBoard,decorateState){return Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.a)({reducer:Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.c)({name:"mock slice",initialState:{game:decorateState?decorateState(createMockedState(halfBoard)):createMockedState(halfBoard)},reducers:{}}).reducer})}},"../../../apps/web-game/src/game/module/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return playerList_PlayerList})),__webpack_require__.d(__webpack_exports__,"a",(function(){return cardShop_CardShop})),__webpack_require__.d(__webpack_exports__,"f",(function(){return profile_Profile})),__webpack_require__.d(__webpack_exports__,"i",(function(){return settings_Settings})),__webpack_require__.d(__webpack_exports__,"g",(function(){return quitGameButton_QuitGameButton})),__webpack_require__.d(__webpack_exports__,"h",(function(){return roundIndicator_RoundIndicator})),__webpack_require__.d(__webpack_exports__,"d",(function(){return phaseInfo_PhaseInfo})),__webpack_require__.d(__webpack_exports__,"b",(function(){return help_Help})),__webpack_require__.d(__webpack_exports__,"c",(function(){return nowPlaying.a}));__webpack_require__("../../../node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js");var react=__webpack_require__("../../../node_modules/react/index.js"),es=__webpack_require__("../../../node_modules/react-redux/es/index.js"),auth_web=__webpack_require__("../auth-web/index.ts"),gamemode=__webpack_require__("../gamemode/index.ts"),models=__webpack_require__("../models/index.ts"),index_0=__webpack_require__("./index.ts"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),getOrdinalSuffix=function getOrdinalSuffix(i){var j=i%10,k=i%100;return 1===j&&11!==k?i+"st":2===j&&12!==k?i+"nd":3===j&&13!==k?i+"rd":i+"th"},playerList_PlayerList=function PlayerList(){var dispatch=Object(es.b)(),localPlayerId=Object(auth_web.b)(),players=Object(es.c)((function(state){return state.game.playerList})),opponentId=Object(es.c)((function(state){return state.game.playerInfo.opponentId})),showReadyIndicators=Object(es.c)((function(state){return state.game.roundInfo.phase===models.k.PREPARING})),currentlySpectatingId=Object(es.c)((function(state){return state.game.spectating.id}));return Object(jsx_runtime.jsx)(index_0.i,{direction:"column",children:players.map((function(p,index){var opponentName=function getOpponentName(battle,players){var _players$find;return battle&&(null===(_players$find=players.find((function(p){return p.id===battle.opponentId})))||void 0===_players$find?void 0:_players$find.name)||""}(p.battle,players);if(p.status===models.s.QUIT)return Object(jsx_runtime.jsx)(index_0.q,{name:p.name,opponentName:opponentName,battle:p.battle,status:"Quit"},p.id);if(p.status===models.s.DEAD)return Object(jsx_runtime.jsx)(index_0.q,{name:p.name,opponentName:opponentName,battle:p.battle,status:"Dead",subtitle:getOrdinalSuffix(index+1)+" place"},p.id);var currentlySpectating=currentlySpectatingId===p.id;return Object(jsx_runtime.jsx)(index_0.p,{index:index,player:p,isOpponent:p.id===opponentId,isLocal:p.id===localPlayerId,onSpectateClick:function onSpectateClick(){dispatch(gamemode.a.spectatePlayerAction(currentlySpectating?{playerId:null}:{playerId:p.id}))},opponentName:opponentName,currentlySpectating:currentlySpectating,showReadyIndicator:showReadyIndicators},p.id)}))})};playerList_PlayerList.displayName="PlayerList";try{playerList_PlayerList.displayName="PlayerList",playerList_PlayerList.__docgenInfo={description:"",displayName:"PlayerList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/playerList/components/playerList.tsx#PlayerList"]={docgenInfo:playerList_PlayerList.__docgenInfo,name:"PlayerList",path:"../../../apps/web-game/src/game/module/playerList/components/playerList.tsx#PlayerList"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js");var redux_toolkit_esm=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _createSlice=Object(redux_toolkit_esm.c)({name:"playerlist",initialState:[],reducers:{updatePlayerListCommand:function updatePlayerListCommand(state,_ref){return _toConsumableArray(_ref.payload)}}}),state_createSlice=(_createSlice.reducer,_createSlice.actions,__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.now.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),Object(redux_toolkit_esm.c)({name:"quickChat",initialState:{},reducers:{setPlayerChat:function setPlayerChat(state,_ref){var _Object$assign,_ref$payload=_ref.payload,sendingPlayerId=_ref$payload.sendingPlayerId,chatValue=_ref$payload.chatValue;return Object.assign({},state,((_Object$assign={})[sendingPlayerId]={value:chatValue,receivedAt:Date.now()},_Object$assign))},clearPlayerChat:function clearPlayerChat(state,_ref2){var sendingPlayerId=_ref2.payload.sendingPlayerId,newState=Object.assign({},state);return delete newState[sendingPlayerId],newState}}})),cardShop_CardShop=(state_createSlice.reducer,state_createSlice.actions,function CardShop(){var dispatch=Object(es.b)(),cards=Object(es.c)((function(state){return state.game.cardShop.cards})),money=Object(es.c)((function(state){return Object(gamemode.f)(state.game)})),canUseShop=Object(es.c)((function(state){return state.game.playerInfo.health>0})),shopLocked=Object(es.c)((function(state){return state.game.cardShop.locked})),isSpectating=Object(es.c)((function(state){return null!==state.game.spectating.id}));if(null===cards||!1===canUseShop||isSpectating)return null;return Object(jsx_runtime.jsx)(index_0.a,{cards:cards,money:money,isLocked:shopLocked,onToggleLock:function onToggleLock(){return dispatch(gamemode.a.toggleShopLockPlayerAction())},onReroll:function onReroll(){return dispatch(gamemode.a.rerollCardsPlayerAction())},onBuy:function onBuy(index){return dispatch(gamemode.a.buyCardPlayerAction({index:index}))}})});cardShop_CardShop.displayName="CardShop";try{cardShop_CardShop.displayName="CardShop",cardShop_CardShop.__docgenInfo={description:"",displayName:"CardShop",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/cardShop/cardShop.tsx#CardShop"]={docgenInfo:cardShop_CardShop.__docgenInfo,name:"CardShop",path:"../../../apps/web-game/src/game/module/cardShop/cardShop.tsx#CardShop"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),__webpack_require__("../../../apps/web-game/src/game/ui/actions.ts"),__webpack_require__("../../../apps/web-game/src/game/ui/overlay.ts"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js");var _shoki_board=__webpack_require__("../../@shoki/board/index.ts"),profile_Profile=function Profile(){var dispatch=Object(es.b)(),playerId=Object(auth_web.b)(),level=Object(es.c)((function(state){return Object(gamemode.e)(state.game)})),xp=Object(es.c)((function(state){return Object(gamemode.g)(state.game)})),money=Object(es.c)((function(state){return Object(gamemode.f)(state.game)})),health=Object(es.c)((function(state){var player=state.game.playerList.find((function(p){return p.id===playerId}));return player?player.health:null})),board=Object(es.c)((function(state){return state.game.board})),pieceCount=_shoki_board.a.getAllPieces(board).filter((function(p){return p.ownerId===playerId})).length;return Object(jsx_runtime.jsx)(index_0.n,{health:health,level:level,xp:xp,money:money,pieceCount:pieceCount,onBuyXpClick:function onBuyXp(){return dispatch(gamemode.a.buyXpPlayerAction())}})};profile_Profile.displayName="Profile";try{profile_Profile.displayName="Profile",profile_Profile.__docgenInfo={description:"",displayName:"Profile",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/profile/profile.tsx#Profile"]={docgenInfo:profile_Profile.__docgenInfo,name:"Profile",path:"../../../apps/web-game/src/game/module/profile/profile.tsx#Profile"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function quitGameButton_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return quitGameButton_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return quitGameButton_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function quitGameButton_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var quitGameButton_QuitGameButton=function QuitGameButton(){var dispatch=Object(es.b)(),_React$useState2=_slicedToArray(react.useState(!1),2),areYouSure=_React$useState2[0],setAreYouSure=_React$useState2[1],onClick=areYouSure?function(){dispatch(gamemode.a.quitGamePlayerAction())}:function(){setAreYouSure(!0)};return areYouSure?Object(jsx_runtime.jsx)("button",{onClick:onClick,children:"Click again to quit"}):Object(jsx_runtime.jsx)("button",{onClick:onClick,children:"Quit Game"})};quitGameButton_QuitGameButton.displayName="QuitGameButton";try{quitGameButton_QuitGameButton.displayName="QuitGameButton",quitGameButton_QuitGameButton.__docgenInfo={description:"",displayName:"QuitGameButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/settings/quitGameButton.tsx#QuitGameButton"]={docgenInfo:quitGameButton_QuitGameButton.__docgenInfo,name:"QuitGameButton",path:"../../../apps/web-game/src/game/module/settings/quitGameButton.tsx#QuitGameButton"})}catch(__react_docgen_typescript_loader_error){}var settings_Settings=function Settings(){return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(quitGameButton_QuitGameButton,{}),Object(jsx_runtime.jsx)(index_0.c,{})]})};settings_Settings.displayName="Settings";try{settings_Settings.displayName="Settings",settings_Settings.__docgenInfo={description:"",displayName:"Settings",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/settings/settings.tsx#Settings"]={docgenInfo:settings_Settings.__docgenInfo,name:"Settings",path:"../../../apps/web-game/src/game/module/settings/settings.tsx#Settings"})}catch(__react_docgen_typescript_loader_error){}var react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),useStyles=Object(react_jss_esm.a)({chip:{fontFamily:"Arial, sans-serif",fontSize:"1.2em",color:"#fff",textAlign:"center",textTransform:"uppercase"}});function InfoChip(_ref){var children=_ref.children,styles=useStyles();return Object(jsx_runtime.jsx)("div",{className:styles.chip,children:children})}InfoChip.displayName="InfoChip";try{InfoChip.displayName="InfoChip",InfoChip.__docgenInfo={description:"",displayName:"InfoChip",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/InfoChip.tsx#InfoChip"]={docgenInfo:InfoChip.__docgenInfo,name:"InfoChip",path:"../../../apps/web-game/src/game/module/InfoChip.tsx#InfoChip"})}catch(__react_docgen_typescript_loader_error){}var roundIndicator_RoundIndicator=function RoundIndicator(){var round=Object(es.c)((function(state){return state.game.roundInfo.round}));return null===round?null:Object(jsx_runtime.jsxs)(InfoChip,{children:["Round ",round]})};roundIndicator_RoundIndicator.displayName="RoundIndicator";try{roundIndicator_RoundIndicator.displayName="RoundIndicator",roundIndicator_RoundIndicator.__docgenInfo={description:"",displayName:"RoundIndicator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/roundIndicator.tsx#RoundIndicator"]={docgenInfo:roundIndicator_RoundIndicator.__docgenInfo,name:"RoundIndicator",path:"../../../apps/web-game/src/game/module/roundIndicator.tsx#RoundIndicator"})}catch(__react_docgen_typescript_loader_error){}var phaseInfo_renderPhaseInfoCountdown=function renderPhaseInfoCountdown(secondsRemaining){return Object(jsx_runtime.jsxs)("span",{children:["(",secondsRemaining,")"]})};phaseInfo_renderPhaseInfoCountdown.displayName="renderPhaseInfoCountdown";var phaseInfo_PhaseInfo=function PhaseInfo(){var phase=Object(es.c)((function(state){return state.game.roundInfo.phase})),phaseStartedAtSeconds=Object(es.c)((function(state){return state.game.roundInfo.phaseStartedAtSeconds}));if(Object(es.c)((function(state){return 0===state.game.playerInfo.health})))return Object(jsx_runtime.jsx)(InfoChip,{children:"You are dead"});if(!phase||!phaseStartedAtSeconds)return null;var phaseEndTime=models.f.PHASE_LENGTHS[phase]+phaseStartedAtSeconds;return Object(jsx_runtime.jsxs)(InfoChip,{children:[models.k[phase]," ",Object(jsx_runtime.jsx)(index_0.b,{countdownToSeconds:phaseEndTime,render:phaseInfo_renderPhaseInfoCountdown})]})};phaseInfo_PhaseInfo.displayName="PhaseInfo";try{phaseInfo_PhaseInfo.displayName="PhaseInfo",phaseInfo_PhaseInfo.__docgenInfo={description:"",displayName:"PhaseInfo",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/phaseInfo.tsx#PhaseInfo"]={docgenInfo:phaseInfo_PhaseInfo.__docgenInfo,name:"PhaseInfo",path:"../../../apps/web-game/src/game/module/phaseInfo.tsx#PhaseInfo"})}catch(__react_docgen_typescript_loader_error){}var text_0=__webpack_require__("./text/index.ts"),help_useStyles=Object(react_jss_esm.a)({pieceType:{display:"inline-block",width:"24px",height:"24px",marginRight:"0.5rem"},list:{marginBottom:"1rem",marginLeft:"1.5rem","list-style-type":"disc"},help:{color:"#fff",fontFamily:"Arial, sans-serif"}}),help_Help=function Help(_ref){var _ref$hideFooter=_ref.hideFooter,hideFooter=void 0!==_ref$hideFooter&&_ref$hideFooter,styles=help_useStyles();return Object(jsx_runtime.jsxs)(index_0.i,{direction:"column",className:styles.help,children:[Object(jsx_runtime.jsxs)(index_0.f,{children:[Object(jsx_runtime.jsx)(text_0.a,{children:"The Game"}),Object(jsx_runtime.jsx)("p",{children:"Buy pieces and place them on the board. Your board then battles another random player's board."}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("p",{children:"If you lose, your health will decrease. If your health hits 0, you will be knocked out."}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("p",{children:"The winner is the last player remaining!"})]}),Object(jsx_runtime.jsxs)(index_0.f,{children:[Object(jsx_runtime.jsx)(text_0.a,{children:"Creatures"}),Object(jsx_runtime.jsx)("p",{children:"Three creatures (level 1) will combine to make a stronger creature (level 2). Three level 2 creatures can then evolve into a level 3 creature."}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("p",{children:"Each creature has a class and a type. Their class determines their fighting style, and types give some boost/reduction to damage when fighting other types."}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)(text_0.b,{children:"Classes"}),Object(jsx_runtime.jsxs)("ul",{className:styles.list,children:[Object(jsx_runtime.jsx)("li",{children:"Valiant: All-round melee."}),Object(jsx_runtime.jsx)("li",{children:"Cunning: High damage, low-health melee."}),Object(jsx_runtime.jsx)("li",{children:"Arcane: Ranged."})]}),Object(jsx_runtime.jsx)(text_0.b,{children:"Types"}),Object(jsx_runtime.jsxs)("ul",{className:styles.list,children:[Object(jsx_runtime.jsxs)("li",{children:[Object(jsx_runtime.jsx)("div",{className:styles.pieceType,children:Object(jsx_runtime.jsx)(index_0.t,{type:models.g.Earth})}),"Earth: Overcomes water."]}),Object(jsx_runtime.jsxs)("li",{children:[Object(jsx_runtime.jsx)("div",{className:styles.pieceType,children:Object(jsx_runtime.jsx)(index_0.t,{type:models.g.Metal})}),"Metal: Overcomes wood."]}),Object(jsx_runtime.jsxs)("li",{children:[Object(jsx_runtime.jsx)("div",{className:styles.pieceType,children:Object(jsx_runtime.jsx)(index_0.t,{type:models.g.Water})}),"Water: Overcomes fire."]}),Object(jsx_runtime.jsxs)("li",{children:[Object(jsx_runtime.jsx)("div",{className:styles.pieceType,children:Object(jsx_runtime.jsx)(index_0.t,{type:models.g.Wood})}),"Wood: Overcomes earth."]}),Object(jsx_runtime.jsxs)("li",{children:[Object(jsx_runtime.jsx)("div",{className:styles.pieceType,children:Object(jsx_runtime.jsx)(index_0.t,{type:models.g.Fire})}),"Fire: Overcomes metal."]})]})]}),Object(jsx_runtime.jsxs)(index_0.f,{children:[Object(jsx_runtime.jsx)(text_0.a,{children:"Money"}),Object(jsx_runtime.jsx)("p",{children:"After each round you will receive some money:"}),Object(jsx_runtime.jsxs)("ul",{className:styles.list,children:[Object(jsx_runtime.jsx)("li",{children:"Bonus for winning the round"}),Object(jsx_runtime.jsx)("li",{children:"10% interest"}),Object(jsx_runtime.jsx)("li",{children:"Win / loss streak bonus"})]})]}),!hideFooter&&Object(jsx_runtime.jsx)(index_0.c,{})]})};help_Help.displayName="Help";try{help_Help.displayName="Help",help_Help.__docgenInfo={description:"",displayName:"Help",props:{hideFooter:{defaultValue:{value:"false"},description:"",name:"hideFooter",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../../apps/web-game/src/game/module/help.tsx#Help"]={docgenInfo:help_Help.__docgenInfo,name:"Help",path:"../../../apps/web-game/src/game/module/help.tsx#Help"})}catch(__react_docgen_typescript_loader_error){}var nowPlaying=__webpack_require__("../../../apps/web-game/src/game/module/nowPlaying.tsx")},"../../../apps/web-game/src/game/module/nowPlaying.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NowPlaying}));__webpack_require__("../../../node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react-redux/es/index.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../models/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_3__.a)({nowPlaying:{color:"#ffffff",width:"100%",textAlign:"center",fontFamily:"Arial, sans-serif",marginTop:"0.5em"}}),getOpponentName=function getOpponentName(state){var _state$game$playerLis;return(null===(_state$game$playerLis=state.game.playerList.find((function(p){return p.id===state.game.playerInfo.opponentId})))||void 0===_state$game$playerLis?void 0:_state$game$playerLis.name)||null};function NowPlaying(){var styles=useStyles(),phase=Object(react_redux__WEBPACK_IMPORTED_MODULE_4__.c)((function(state){return state.game.roundInfo.phase})),opponentName=Object(react_redux__WEBPACK_IMPORTED_MODULE_4__.c)(getOpponentName);return phase!==_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.k.READY&&phase!==_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.k.PLAYING?null:opponentName?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("span",{className:styles.nowPlaying,children:["Now Playing: ",opponentName]}):null}NowPlaying.displayName="NowPlaying"},"../../../apps/web-game/src/game/ui/actions.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OPEN_OVERLAY",(function(){return OPEN_OVERLAY})),__webpack_require__.d(__webpack_exports__,"CLOSE_OVERLAY",(function(){return CLOSE_OVERLAY})),__webpack_require__.d(__webpack_exports__,"UPDATE_CONNECTION_STATUS",(function(){return UPDATE_CONNECTION_STATUS})),__webpack_require__.d(__webpack_exports__,"setInGameCommand",(function(){return setInGameCommand})),__webpack_require__.d(__webpack_exports__,"setWinnerIdCommand",(function(){return setWinnerIdCommand})),__webpack_require__.d(__webpack_exports__,"SELECT_PIECE",(function(){return SELECT_PIECE})),__webpack_require__.d(__webpack_exports__,"CLEAR_SELECTED_PIECE",(function(){return CLEAR_SELECTED_PIECE})),__webpack_require__.d(__webpack_exports__,"selectPiece",(function(){return selectPiece})),__webpack_require__.d(__webpack_exports__,"clearSelectedPiece",(function(){return clearSelectedPiece})),__webpack_require__.d(__webpack_exports__,"openOverlay",(function(){return openOverlay})),__webpack_require__.d(__webpack_exports__,"closeOverlay",(function(){return closeOverlay})),__webpack_require__.d(__webpack_exports__,"updateConnectionStatus",(function(){return updateConnectionStatus}));var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),OPEN_OVERLAY="OPEN_OVERLAY",CLOSE_OVERLAY="CLOSE_OVERLAY",UPDATE_CONNECTION_STATUS="UPDATE_CONNECTION_STATUS",setInGameCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.b)("setInGameCommand"),setWinnerIdCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.b)("setWinnerIdCommand"),SELECT_PIECE="SELECT_PIECE",CLEAR_SELECTED_PIECE="CLEAR_SELECTED_PIECE",selectPiece=function selectPiece(id){return{type:SELECT_PIECE,payload:{id:id}}},clearSelectedPiece=function clearSelectedPiece(){return{type:CLEAR_SELECTED_PIECE}},openOverlay=function openOverlay(overlay){return{type:OPEN_OVERLAY,payload:{overlay:overlay}}},closeOverlay=function closeOverlay(){return{type:CLOSE_OVERLAY}},updateConnectionStatus=function updateConnectionStatus(status){return{type:UPDATE_CONNECTION_STATUS,payload:{status:status}}}},"../../../apps/web-game/src/game/ui/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return actions.closeOverlay})),__webpack_require__.d(__webpack_exports__,"c",(function(){return actions.clearSelectedPiece})),__webpack_require__.d(__webpack_exports__,"a",(function(){return overlay.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return actions}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var connection_status=__webpack_require__("../../../apps/web-game/src/game/connection-status.ts"),actions=__webpack_require__("../../../apps/web-game/src/game/ui/actions.ts"),overlay=(connection_status.a.NOT_CONNECTED,__webpack_require__("../../../apps/web-game/src/game/ui/overlay.ts"))},"../../../apps/web-game/src/game/ui/overlay.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var Overlay;__webpack_require__.d(__webpack_exports__,"a",(function(){return Overlay})),function(Overlay){Overlay[Overlay.PLAYERS=0]="PLAYERS",Overlay[Overlay.SHOP=1]="SHOP",Overlay[Overlay.HELP=2]="HELP",Overlay[Overlay.SETTINGS=3]="SETTINGS"}(Overlay||(Overlay={}))},"../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./piece/Piece.stories.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,"/* stylelint-disable */\n.creature-image {\n\timage-rendering: optimizeSpeed; /* STOP SMOOTHING, GIVE ME SPEED  */\n\timage-rendering: -moz-crisp-edges; /* Firefox                        */\n\timage-rendering: -o-crisp-edges; /* Opera                          */ /* Chrome (and eventually Safari) */\n\timage-rendering: pixelated; /* Chrome */\n\timage-rendering: optimize-contrast; /* CSS3 Proposed                  */\n\t-ms-interpolation-mode: nearest-neighbor; /* IE8+                           */\n}\n/* stylelint-enable */\n\n.piece-story-tiles {\n\twidth: 640px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n\n.piece-story {\n\twidth: 128px;\n\theight: 128px;\n\n\tbox-sizing: border-box;\n}\n\n.piece-story.dark {\n\tbackground: #38b764;\n}\n\n.piece-story.light {\n\tbackground: #a7f070;\n}\n",""]),module.exports=exports},"../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/cardShop/card.stories.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".card-story {\n\twidth: 94px;\n}\n",""]),module.exports=exports},"../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/cardShop/cardSelector.stories.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".card-selector-story {\n\tmax-width: 600px;\n\tmargin-top: 2em;\n}\n",""]),module.exports=exports},"../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/cardShop/cardShop.stories.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".card-shop-story {\n\tmax-width: 450px;\n\theight: 450px;\n}\n",""]),module.exports=exports},"../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/display/ProgressBar.stories.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".progressbar-story {\n\twidth: 200px;\n\theight: 40px;\n}\n\n.progressbar-story .healthbar {\n\tbackground: #636363;\n}\n\n.progressbar-story .fill {\n\tbackground: #00c2f9;\n}\n\n.progressbar-story .contents {\n\tcolor: #fff;\n}\n",""]),module.exports=exports},"../../../package.json":function(module){module.exports=JSON.parse('{"private":true,"name":"creature-chess","version":"0.5.15","description":"Creature Chess","scripts":{"build-web-game":"yarn workspace @creature-chess/web-game build","build-server-game":"yarn build-web-game && cp -r apps/web-game/public apps/server-game","build-server-info":"","build-web-menu":"","dev-web-game":"yarn workspace @creature-chess/web-game dev","dev-web-menu":"yarn workspace @creature-chess/web-menu dev","dev:user":"yarn workspace @cc-lambda/user dev","start-server-game":"ts-node-dev apps/server-game/index.ts","start-server-info":"ts-node-dev apps/server-info/index.ts","start-web-menu":"yarn workspace @creature-chess/web-menu dev","test":"yarn workspaces foreach run test","dockerup":"docker-compose --env-file ./.env.dev build && docker-compose --env-file ./.env.dev up","dockerup-live":"docker-compose --env-file ./.env.live build && docker-compose --env-file ./.env.live up","storybook":"yarn workspace @creature-chess/ui storybook","lint":"eslint \\"apps/**/*.ts\\" \\"modules/**/*.ts\\" \\"apps/**/*.tsx\\" \\"modules/**/*.tsx\\"","ecr-push":"sh ./scripts/ecr-push.sh","prettier":"prettier -w ./","prettier-check":"prettier -c ./"},"workspaces":["modules/@creature-chess/*","modules/@shoki/*","modules/@tools/*","apps/*","lambda/*"],"author":"","license":"ISC","devDependencies":{"@babel/core":"^7.16.5","@trivago/prettier-plugin-sort-imports":"^3.2.0","@types/jest":"^27.0.3","@types/node":"^16.11.17","@types/react-modal":"^3.13.1","@types/ws":"^7.4.7","@typescript-eslint/eslint-plugin":"^4.33.0","@typescript-eslint/parser":"^4.33.0","eslint":"^7.32.0","eslint-plugin-import":"^2.25.3","eslint-plugin-jsdoc":"^36.1.1","eslint-plugin-prefer-arrow":"^1.2.3","eslint-plugin-react":"^7.28.0","eslint-plugin-react-hooks":"^4.6.0","jest":"^27.4.5","jest-standard-reporter":"^2.0.0","node-sass":"^7.0.0","prettier":"^2.7.1","process":"^0.11.10","ts-jest":"^27.1.2","typescript":"^4.5.4","unimported":"^1.19.1"},"dependencies":{"@types/react":"^17.0.38","@types/react-dom":"^17.0.11","classnames":"^2.3.1","react":"^17.0.2","react-dom":"^17.0.2","react-jss":"^10.9.0","redux":"^4.1.2","redux-saga":"^1.1.3","ts-node-dev":"^1.1.8"},"packageManager":"yarn@3.4.1"}')},"../../@shoki/board-react/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("../../@shoki/board-react/src/context.ts");var _src_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../@shoki/board-react/src/components/index.ts");__webpack_require__.d(__webpack_exports__,"BoardGrid",(function(){return _src_components__WEBPACK_IMPORTED_MODULE_1__.a}));__webpack_require__("../../@shoki/board-react/src/events.ts");var _src_DndProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../@shoki/board-react/src/DndProvider.tsx");__webpack_require__.d(__webpack_exports__,"DndProvider",(function(){return _src_DndProvider__WEBPACK_IMPORTED_MODULE_3__.a}))},"../../@shoki/board-react/src/DndProvider.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DndProvider}));__webpack_require__("../../../node_modules/react/index.js");var react_dnd_multi_backend__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-dnd-multi-backend/dist/esm/index.js"),react_dnd_multi_backend_dist_cjs_HTML5toTouch__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-dnd-multi-backend/dist/cjs/HTML5toTouch.js"),react_dnd_multi_backend_dist_cjs_HTML5toTouch__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dnd_multi_backend_dist_cjs_HTML5toTouch__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),DndProvider=function DndProvider(_ref){var children=_ref.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_dnd_multi_backend__WEBPACK_IMPORTED_MODULE_1__.a,{options:react_dnd_multi_backend_dist_cjs_HTML5toTouch__WEBPACK_IMPORTED_MODULE_2___default.a,children:children})};DndProvider.displayName="DndProvider";try{DndProvider.displayName="DndProvider",DndProvider.__docgenInfo={description:"",displayName:"DndProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/DndProvider.tsx#DndProvider"]={docgenInfo:DndProvider.__docgenInfo,name:"DndProvider",path:"../../@shoki/board-react/src/DndProvider.tsx#DndProvider"})}catch(__react_docgen_typescript_loader_error){}},"../../@shoki/board-react/src/components/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BoardGrid}));var react=__webpack_require__("../../../node_modules/react/index.js"),react_default=__webpack_require__.n(react),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),src_context=__webpack_require__("../../@shoki/board-react/src/context.ts"),useElementSize=__webpack_require__("../../@shoki/board-react/src/useElementSize.tsx"),useDrop=(__webpack_require__("../../../node_modules/core-js/modules/es.number.to-fixed.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js")),classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({tile:function tile(props){return{width:(100/props.boardWidth).toFixed(2)+"%",height:"100%",position:"relative",display:"inline-block",boxSizing:"border-box",userSelect:"none"}},tileInner:{width:"100%",height:"100%"}}),Tile=react_default.a.forwardRef((function(_ref,ref){var x=_ref.x,y=_ref.y,onClick=_ref.onClick,boardWidth=Object(src_context.c)().size.width,tileInnerRef=Object(react.useRef)(null),styles=useStyles({boardWidth:boardWidth}),isDark=function isBoardTileDark(x,y){return 0!=(1&(y^x))}(x,y),handleClick=onClick?function(){return onClick({x:x,y:y})}:void 0,className=classnames_default()(styles.tile,"tile",{dark:isDark,light:!isDark});return Object(jsx_runtime.jsx)("div",{ref:ref,className:className,"touch-action":"none",onPointerUp:handleClick,children:Object(jsx_runtime.jsx)("div",{ref:tileInnerRef,className:styles.tileInner})})}));try{Tile.displayName="Tile",Tile.__docgenInfo={description:"",displayName:"Tile",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: ClickBoardTileEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/tile/Tile.tsx#Tile"]={docgenInfo:Tile.__docgenInfo,name:"Tile",path:"../../@shoki/board-react/src/components/tile/Tile.tsx#Tile"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DroppableTile_DroppableTile=function DroppableTile(_ref){var x=_ref.x,y=_ref.y,onDrop=_ref.onDrop,onClick=_ref.onClick,belowPieceLimit=Object(src_context.b)(),pieces=Object(src_context.d)(),_useDrop2=_slicedToArray(Object(useDrop.a)({accept:"BoardItem",drop:function drop(_ref2){var id=_ref2.id;onDrop&&onDrop({id:id,x:x,y:y})},canDrop:function canDrop(_ref3){var id=_ref3.id,pieceIsFromSameBoard=Boolean(pieces[id]);return belowPieceLimit||pieceIsFromSameBoard},collect:function collect(monitor){return{canDrop:!!monitor.canDrop(),isDragging:!!monitor.getItem()}}}),2);!function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure undefined")}(_useDrop2[0]);var drop=_useDrop2[1];return Object(jsx_runtime.jsx)(Tile,{ref:drop,x:x,y:y,onClick:onClick})};DroppableTile_DroppableTile.displayName="DroppableTile";try{DroppableTile_DroppableTile.displayName="DroppableTile",DroppableTile_DroppableTile.__docgenInfo={description:"",displayName:"DroppableTile",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"((event: DropBoardItemEvent) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: ClickBoardTileEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/tile/DroppableTile.tsx#DroppableTile"]={docgenInfo:DroppableTile_DroppableTile.__docgenInfo,name:"DroppableTile",path:"../../@shoki/board-react/src/components/tile/DroppableTile.tsx#DroppableTile"})}catch(__react_docgen_typescript_loader_error){}function UndroppableTile_slicedToArray(arr,i){return function UndroppableTile_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function UndroppableTile_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function UndroppableTile_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return UndroppableTile_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UndroppableTile_arrayLikeToArray(o,minLen)}(arr,i)||function UndroppableTile_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UndroppableTile_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var UndroppableTile_UndroppableTile=function UndroppableTile(_ref){var x=_ref.x,y=_ref.y,_useDrop2=UndroppableTile_slicedToArray(Object(useDrop.a)({accept:"Piece",collect:function collect(monitor){return{isDragging:!!monitor.getItem()}}}),2);!function UndroppableTile_objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure undefined")}(_useDrop2[0]);var drop=_useDrop2[1];return Object(jsx_runtime.jsx)(Tile,{ref:drop,x:x,y:y})};UndroppableTile_UndroppableTile.displayName="UndroppableTile";try{UndroppableTile_UndroppableTile.displayName="UndroppableTile",UndroppableTile_UndroppableTile.__docgenInfo={description:"",displayName:"UndroppableTile",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/tile/UndroppableTile.tsx#UndroppableTile"]={docgenInfo:UndroppableTile_UndroppableTile.__docgenInfo,name:"UndroppableTile",path:"../../@shoki/board-react/src/components/tile/UndroppableTile.tsx#UndroppableTile"})}catch(__react_docgen_typescript_loader_error){}var TileRow_useStyles=Object(react_jss_esm.a)({tileRow:function tileRow(_ref){var height=_ref.height;return{width:_ref.width,height:height,boxSizing:"border-box",lineHeight:"0",whiteSpace:"nowrap"}}});function TileRow(_ref2){for(var y=_ref2.y,onDropItem=_ref2.onDropItem,onClickTile=_ref2.onClickTile,_useBoardState2=Object(src_context.c)(),locked=_useBoardState2.locked,piecePositions=_useBoardState2.piecePositions,width=_useBoardState2.size.width,_useResponsiveStyles=function useResponsiveStyles(){var _useBoardState$size=Object(src_context.c)().size,width=_useBoardState$size.width,height=_useBoardState$size.height,scaleMode=Object(src_context.e)(),_useElementSize=Object(useElementSize.a)(),ref=_useElementSize.ref,size=_useElementSize.size,styleHeight="width"===scaleMode?size.width/width+"px":(100/height).toFixed(2)+"%",styleWidth="width"===scaleMode?"100%":size.height*width+"px";return{styles:TileRow_useStyles({height:styleHeight,width:styleWidth}),ref:ref}}(),styles=_useResponsiveStyles.styles,ref=_useResponsiveStyles.ref,tiles=[],x=0;x<width;x++){var canDropPiece=!Boolean(piecePositions[x+","+y])&&!locked;tiles.push(canDropPiece?Object(jsx_runtime.jsx)(DroppableTile_DroppableTile,{x:x,y:y,onDrop:onDropItem,onClick:onClickTile},"tile-"+x):Object(jsx_runtime.jsx)(UndroppableTile_UndroppableTile,{x:x,y:y},"tile-"+x))}return Object(jsx_runtime.jsx)("div",{className:styles.tileRow,ref:ref,children:tiles})}TileRow.displayName="TileRow";try{TileRow.displayName="TileRow",TileRow.__docgenInfo={description:"",displayName:"TileRow",props:{y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},onDropItem:{defaultValue:null,description:"",name:"onDropItem",required:!1,type:{name:"((event: DropBoardItemEvent) => void)"}},onClickTile:{defaultValue:null,description:"",name:"onClickTile",required:!1,type:{name:"((event: ClickBoardTileEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/TileRow.tsx#TileRow"]={docgenInfo:TileRow.__docgenInfo,name:"TileRow",path:"../../@shoki/board-react/src/components/TileRow.tsx#TileRow"})}catch(__react_docgen_typescript_loader_error){}var BoardGridRows_BoardGridRows=function BoardGridRows(_ref){for(var onDropItem=_ref.onDropItem,onClickTile=_ref.onClickTile,height=Object(src_context.c)().size.height,rows=[],y=0;y<height;y++)rows.push(Object(jsx_runtime.jsx)(TileRow,{y:y,onDropItem:onDropItem,onClickTile:onClickTile}));return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:rows})};try{BoardGridRows_BoardGridRows.displayName="BoardGridRows",BoardGridRows_BoardGridRows.__docgenInfo={description:"",displayName:"BoardGridRows",props:{onDropItem:{defaultValue:null,description:"",name:"onDropItem",required:!1,type:{name:"((event: DropBoardItemEvent) => void)"}},onClickTile:{defaultValue:null,description:"",name:"onClickTile",required:!1,type:{name:"((event: ClickBoardTileEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/BoardGridRows.tsx#BoardGridRows"]={docgenInfo:BoardGridRows_BoardGridRows.__docgenInfo,name:"BoardGridRows",path:"../../@shoki/board-react/src/components/BoardGridRows.tsx#BoardGridRows"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.split.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../../node_modules/core-js/modules/es.parse-int.js");var BoardItem_useStyles=Object(react_jss_esm.a)({boardItem:function boardItem(props){return{position:"absolute",transition:"all 0.2s cubic-bezier(0.65, 0.05, 0.36, 1) 0s",width:(100/props.boardWidth).toFixed(2)+"%",height:(100/props.boardHeight).toFixed(2)+"%",left:(props.x/props.boardWidth*100).toFixed(2)+"%",top:(props.y/props.boardHeight*100).toFixed(2)+"%",zIndex:50+props.y+1}}}),BoardItem=react_default.a.forwardRef((function(_ref,ref){var x=_ref.x,y=_ref.y,children=_ref.children,_useBoardState$size=Object(src_context.c)().size,boardWidth=_useBoardState$size.width,boardHeight=_useBoardState$size.height,styles=BoardItem_useStyles({boardWidth:boardWidth,boardHeight:boardHeight,x:x,y:y});return Object(jsx_runtime.jsx)("div",{ref:ref,className:styles.boardItem,children:children})}));try{BoardItem.displayName="BoardItem",BoardItem.__docgenInfo={description:"",displayName:"BoardItem",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/items/BoardItem.tsx#BoardItem"]={docgenInfo:BoardItem.__docgenInfo,name:"BoardItem",path:"../../@shoki/board-react/src/components/items/BoardItem.tsx#BoardItem"})}catch(__react_docgen_typescript_loader_error){}var useDrag=__webpack_require__("../../../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js");function DraggableBoardItem_slicedToArray(arr,i){return function DraggableBoardItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DraggableBoardItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DraggableBoardItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DraggableBoardItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DraggableBoardItem_arrayLikeToArray(o,minLen)}(arr,i)||function DraggableBoardItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DraggableBoardItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DraggableBoardItem_DraggableBoardItem=function DraggableBoardItem(_ref){var children=_ref.children,id=_ref.id,x=_ref.x,y=_ref.y,_useDrag2=DraggableBoardItem_slicedToArray(Object(useDrag.a)({type:"BoardItem",item:{id:id}}),2);!function DraggableBoardItem_objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure undefined")}(_useDrag2[0]);var drag=_useDrag2[1];return Object(jsx_runtime.jsx)(BoardItem,{ref:drag,x:x,y:y,children:children})};DraggableBoardItem_DraggableBoardItem.displayName="DraggableBoardItem";try{DraggableBoardItem_DraggableBoardItem.displayName="DraggableBoardItem",DraggableBoardItem_DraggableBoardItem.__docgenInfo={description:"",displayName:"DraggableBoardItem",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/items/DraggableBoardItem.tsx#DraggableBoardItem"]={docgenInfo:DraggableBoardItem_DraggableBoardItem.__docgenInfo,name:"DraggableBoardItem",path:"../../@shoki/board-react/src/components/items/DraggableBoardItem.tsx#DraggableBoardItem"})}catch(__react_docgen_typescript_loader_error){}function BoardItems_slicedToArray(arr,i){return function BoardItems_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function BoardItems_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function BoardItems_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return BoardItems_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BoardItems_arrayLikeToArray(o,minLen)}(arr,i)||function BoardItems_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BoardItems_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BoardItems_BoardItems=function BoardItems(_ref){var render=_ref.render,_useBoardState=Object(src_context.c)(),pieces=_useBoardState.pieces,piecePositions=_useBoardState.piecePositions,pieceElements=[],entries=Object.entries(piecePositions);entries.sort((function(_ref2,_ref3){var _ref4=BoardItems_slicedToArray(_ref2,2),aId=(_ref4[0],_ref4[1]),_ref5=BoardItems_slicedToArray(_ref3,2),bId=(_ref5[0],_ref5[1]);return aId.localeCompare(bId)}));for(var _i2=0,_entries=entries;_i2<_entries.length;_i2++){var _ref7=BoardItems_slicedToArray(_entries[_i2],2),position=_ref7[0],id=_ref7[1];if(id){var _position$split$map2=BoardItems_slicedToArray(position.split(",").map((function(i){return parseInt(i,10)})),2),x=_position$split$map2[0],y=_position$split$map2[1],_render=render(pieces[id],x,y),item=_render.item,_render$draggable=_render.draggable;void 0!==_render$draggable&&_render$draggable?pieceElements.push(Object(jsx_runtime.jsx)(DraggableBoardItem_DraggableBoardItem,{id:id,x:x,y:y,children:item},id)):pieceElements.push(Object(jsx_runtime.jsx)(BoardItem,{x:x,y:y,children:item},id))}}return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:pieceElements})};try{BoardItems_BoardItems.displayName="BoardItems",BoardItems_BoardItems.__docgenInfo={description:"",displayName:"BoardItems",props:{render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"BoardItemRenderFn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/items/BoardItems.tsx#BoardItems"]={docgenInfo:BoardItems_BoardItems.__docgenInfo,name:"BoardItems",path:"../../@shoki/board-react/src/components/items/BoardItems.tsx#BoardItems"})}catch(__react_docgen_typescript_loader_error){}var BoardGrid_useStyles=Object(react_jss_esm.a)({boardGrid:function boardGrid(_ref){var scaleMode=_ref.scaleMode;return{position:"relative",width:_ref.width,height:"height"===(scaleMode||"height")?"100%":"inherit"}},boardGridInner:{width:"100%",height:"100%"}});var BoardGrid=react.forwardRef((function(props,forwardRef){var state=props.state,_props$scaleMode=props.scaleMode,scaleMode=void 0===_props$scaleMode?"width":_props$scaleMode,renderItem=props.renderItem,onDropItem=props.onDropItem,onClickTile=props.onClickTile,boardContext={state:state,ui:{scaleMode:scaleMode}},_useResponsiveStyles=function BoardGrid_useResponsiveStyles(context){var _context$state$size=context.state.size,width=_context$state$size.width,height=_context$state$size.height,scaleMode=context.ui.scaleMode,_useElementSize=Object(useElementSize.a)(),ref=_useElementSize.ref,size=_useElementSize.size,styleWidth="width"===(scaleMode||"width")?"100%":size.height/height*width+"px";return{styles:BoardGrid_useStyles({scaleMode:scaleMode,width:styleWidth}),ref:ref}}(boardContext),styles=_useResponsiveStyles.styles,ref=_useResponsiveStyles.ref;return Object(jsx_runtime.jsx)("div",{className:styles.boardGrid,ref:forwardRef,children:Object(jsx_runtime.jsx)("div",{className:styles.boardGridInner,ref:ref,children:Object(jsx_runtime.jsxs)(src_context.a,{value:boardContext,children:[Object(jsx_runtime.jsx)(BoardGridRows_BoardGridRows,{onDropItem:onDropItem,onClickTile:onClickTile}),Object(jsx_runtime.jsx)(BoardItems_BoardItems,{render:renderItem})]})})})}));try{BoardGrid.displayName="BoardGrid",BoardGrid.__docgenInfo={description:"",displayName:"BoardGrid",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"BoardState<HasId>"}},scaleMode:{defaultValue:null,description:"",name:"scaleMode",required:!1,type:{name:"enum",value:[{value:'"height"'},{value:'"width"'}]}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"BoardItemRenderFn"}},onDropItem:{defaultValue:null,description:"",name:"onDropItem",required:!1,type:{name:"((event: DropBoardItemEvent) => void)"}},onClickTile:{defaultValue:null,description:"",name:"onClickTile",required:!1,type:{name:"((event: ClickBoardTileEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@shoki/board-react/src/components/BoardGrid.tsx#BoardGrid"]={docgenInfo:BoardGrid.__docgenInfo,name:"BoardGrid",path:"../../@shoki/board-react/src/components/BoardGrid.tsx#BoardGrid"})}catch(__react_docgen_typescript_loader_error){}},"../../@shoki/board-react/src/context.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BoardContextProvider})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useBoardState})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useScaleMode})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useBelowPieceLimit})),__webpack_require__.d(__webpack_exports__,"d",(function(){return usePieces}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/react/index.js"),_shoki_board__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../@shoki/board/index.ts"),BoardContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);BoardContext.displayName="BoardContext";var BoardContextProvider=BoardContext.Provider,useBoard=function useBoard(){return Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(BoardContext)},useBoardState=function useBoardState(){return useBoard().state},useScaleMode=function useScaleMode(){return useBoard().ui.scaleMode},useBelowPieceLimit=function useBelowPieceLimit(){var boardState=useBoardState();return!!boardState&&(null===boardState.pieceLimit||_shoki_board__WEBPACK_IMPORTED_MODULE_1__.a.isBelowPieceLimit(boardState))},usePieces=function usePieces(){var boardState=useBoardState();return boardState?boardState.pieces:{}}},"../../@shoki/board-react/src/events.ts":function(module,exports){},"../../@shoki/board-react/src/useElementSize.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useElementSize}));__webpack_require__("../../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useElementSize(){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_12___default.a.useState([0,0]),2),size=_React$useState2[0],setSize=_React$useState2[1],ref=react__WEBPACK_IMPORTED_MODULE_12___default.a.useRef(null);react__WEBPACK_IMPORTED_MODULE_12___default.a.useEffect((function(){ref.current&&setSize([ref.current.clientWidth,ref.current.clientHeight])}),[ref]);var storeSize=react__WEBPACK_IMPORTED_MODULE_12___default.a.useCallback((function(){ref.current&&setSize([ref.current.clientWidth,ref.current.clientHeight])}),[ref]);return react__WEBPACK_IMPORTED_MODULE_12___default.a.useEffect((function(){if(ref.current){if(setTimeout(storeSize,10),"function"==typeof ResizeObserver){var resizeObserver=new ResizeObserver(storeSize);return resizeObserver.observe(ref.current),function(){resizeObserver.disconnect()}}return window.addEventListener("resize",storeSize),function(){window.removeEventListener("resize",storeSize)}}}),[ref]),{isPortrait:react__WEBPACK_IMPORTED_MODULE_12___default.a.useMemo((function(){return size[1]>size[0]}),[ref,size]),size:{width:size[0],height:size[1]},ref:ref}}},"../../@shoki/board/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return createInitialBoardState})),__webpack_require__.d(__webpack_exports__,"b",(function(){return state_createBoardSlice})),__webpack_require__.d(__webpack_exports__,"a",(function(){return selectors_namespaceObject})),__webpack_require__.d(__webpack_exports__,"d",(function(){return mergeBoards_mergeBoards})),__webpack_require__.d(__webpack_exports__,"e",(function(){return rotateGridPosition_rotatePiecesAboutCenter})),__webpack_require__.d(__webpack_exports__,"f",(function(){return topLeftToBottomRightSortPositions}));var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,"getPiecePosition",(function(){return getPiecePosition})),__webpack_require__.d(selectors_namespaceObject,"getAllPieces",(function(){return getAllPieces})),__webpack_require__.d(selectors_namespaceObject,"getPiece",(function(){return getPiece})),__webpack_require__.d(selectors_namespaceObject,"isBelowPieceLimit",(function(){return isBelowPieceLimit})),__webpack_require__.d(selectors_namespaceObject,"getPieceForPosition",(function(){return getPieceForPosition})),__webpack_require__.d(selectors_namespaceObject,"getFirstEmptySlot",(function(){return selectors_getFirstEmptySlot}));__webpack_require__("../../@shoki/board/src/types.ts"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.split.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../../node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var redux_toolkit_esm=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");__webpack_require__("../../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.includes.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getPiecesWithoutIds=function getPiecesWithoutIds(pieces,ids){var _step,newPieces=Object.assign({},pieces),_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(ids);try{for(_iterator.s();!(_step=_iterator.n()).done;){var pieceId=_step.value;newPieces[pieceId]&&delete newPieces[pieceId]}}catch(err){_iterator.e(err)}finally{_iterator.f()}return newPieces},getPiecePositionsWithoutIds=function getPiecePositionsWithoutIds(piecePositions,ids){return Object.entries(piecePositions).reduce((function(newPiecePositions,_ref){var _ref2=_slicedToArray(_ref,2),position=_ref2[0],pieceId=_ref2[1];return!pieceId||ids.includes(pieceId)||(newPiecePositions[position]=pieceId),newPiecePositions}),{})};function state_slicedToArray(arr,i){return function state_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function state_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||state_unsupportedIterableToArray(arr,i)||function state_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function state_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return state_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?state_arrayLikeToArray(o,minLen):void 0}}function state_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var createInitialBoardState=function createInitialBoardState(id){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:7,height:3};return{id:id,pieces:{},piecePositions:{},locked:!1,pieceLimit:null,size:size}},state_createBoardSlice=function createBoardSlice(id,size){var _createSlice=Object(redux_toolkit_esm.c)({name:"board-"+id,initialState:createInitialBoardState(id,size),reducers:{setBoardSizeCommand:function setBoardSizeCommand(state,_ref){var _ref$payload=_ref.payload,width=_ref$payload.width,height=_ref$payload.height,differenceWidth=width-state.size.width,differenceHeight=height-state.size.height;return Object.assign({},state,{size:{width:width,height:height},piecePositions:Object.entries(state.piecePositions).reduce((function(newPiecePositions,_ref2){var _Object$assign,_ref3=state_slicedToArray(_ref2,2),position=_ref3[0],pieceId=_ref3[1],_position$split$map2=state_slicedToArray(position.split(",").map((function(val){return parseInt(val,10)})),2),x=_position$split$map2[0],y=_position$split$map2[1],newX=x+differenceWidth,newY=y+differenceHeight;return Object.assign({},newPiecePositions,((_Object$assign={})[newX+","+newY]=pieceId,_Object$assign))}),{})})},lockBoardCommand:function lockBoardCommand(state){return Object.assign({},state,{locked:!0})},unlockBoardCommand:function unlockBoardCommand(state){return Object.assign({},state,{locked:!1})},setPieceLimitCommand:function setPieceLimitCommand(state,_ref4){var limit=_ref4.payload;return Object.assign({},state,{pieceLimit:limit})},setBoardPiecesCommand:function setBoardPiecesCommand(state,_ref5){var _ref5$payload=_ref5.payload,pieces=_ref5$payload.pieces,piecePositions=_ref5$payload.piecePositions,newSize=_ref5$payload.size;return Object.assign({},state,{pieces:Object.assign({},pieces),piecePositions:Object.assign({},piecePositions)},newSize?{size:{width:newSize.width,height:newSize.height}}:{})},addBoardPieceCommand:function addBoardPieceCommand(state,_ref6){var _Object$assign2,_Object$assign3,_ref6$payload=_ref6.payload,x=_ref6$payload.x,y=_ref6$payload.y,piece=_ref6$payload.piece;return Object.assign({},state,{pieces:Object.assign({},state.pieces,(_Object$assign2={},_Object$assign2[piece.id]=piece,_Object$assign2)),piecePositions:Object.assign({},state.piecePositions,(_Object$assign3={},_Object$assign3[x+","+y]=piece.id,_Object$assign3))})},moveBoardPieceCommand:function moveBoardPieceCommand(state,_ref7){var _Object$assign4,_ref7$payload=_ref7.payload,pieceId=_ref7$payload.pieceId,from=_ref7$payload.from,to=_ref7$payload.to,piece=state.pieces[pieceId],fromString=from.x+","+from.y,pieceAtFrom=state.piecePositions[fromString];if(!piece||piece.id!==pieceId||piece.id!==pieceAtFrom)return state;var toString=to.x+","+to.y,newState=Object.assign({},state,{piecePositions:Object.assign({},state.piecePositions,(_Object$assign4={},_Object$assign4[toString]=pieceId,_Object$assign4))});return delete newState.piecePositions[fromString],newState},removeBoardPiecesCommand:function removeBoardPiecesCommand(state,_ref8){var pieceIds=_ref8.payload;return Object.assign({},state,{pieces:getPiecesWithoutIds(state.pieces,pieceIds),piecePositions:getPiecePositionsWithoutIds(state.piecePositions,pieceIds)})},updateBoardPiecesCommand:function updateBoardPiecesCommand(state,_ref9){var _step,pieces=_ref9.payload,newPieces=Object.assign({},state.pieces),_iterator=function state_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=state_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(pieces);try{for(_iterator.s();!(_step=_iterator.n()).done;){var piece=_step.value;newPieces[piece.id]=piece}}catch(err){_iterator.e(err)}finally{_iterator.f()}return Object.assign({},state,{pieces:newPieces})},swapPiecesCommand:function swapPiecesCommand(state,_ref10){var _Object$assign5,_ref10$payload=_ref10.payload,aId=_ref10$payload.aId,bId=_ref10$payload.bId;if(!aId||!bId)return state;var a=state.pieces[aId],b=state.pieces[bId];if(!a||!b)return state;var positions=Object.entries(state.piecePositions),aPositionEntry=positions.find((function(_ref11){return state_slicedToArray(_ref11,2)[1]===aId})),bPositionEntry=positions.find((function(_ref13){return state_slicedToArray(_ref13,2)[1]===bId}));if(!aPositionEntry||!bPositionEntry)return state;var aPosition=state_slicedToArray(aPositionEntry,1)[0],bPosition=state_slicedToArray(bPositionEntry,1)[0];return Object.assign({},state,{piecePositions:Object.assign({},state.piecePositions,(_Object$assign5={},_Object$assign5[aPosition]=b.id,_Object$assign5[bPosition]=a.id,_Object$assign5))})}}}),reducer=_createSlice.reducer,_createSlice$actions=_createSlice.actions;return{boardReducer:reducer,commands:{setBoardSizeCommand:_createSlice$actions.setBoardSizeCommand,lockBoardCommand:_createSlice$actions.lockBoardCommand,unlockBoardCommand:_createSlice$actions.unlockBoardCommand,setPieceLimitCommand:_createSlice$actions.setPieceLimitCommand,setBoardPiecesCommand:_createSlice$actions.setBoardPiecesCommand,addBoardPieceCommand:_createSlice$actions.addBoardPieceCommand,moveBoardPieceCommand:_createSlice$actions.moveBoardPieceCommand,removeBoardPiecesCommand:_createSlice$actions.removeBoardPiecesCommand,updateBoardPiecesCommand:_createSlice$actions.updateBoardPiecesCommand,swapPiecesCommand:_createSlice$actions.swapPiecesCommand}}},topToBottomMiddleSortPositions=(__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.values.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.sort.js"),function topToBottomMiddleSortPositions(a,b){if(a.y<b.y)return-1;if(a.y>b.y)return 1;var distanceFromMiddleA=Math.abs(a.x-3),distanceFromMiddleB=Math.abs(b.x-3);return distanceFromMiddleA<distanceFromMiddleB?-1:distanceFromMiddleA>distanceFromMiddleB?1:-1}),topLeftToBottomRightSortPositions=function topLeftToBottomRightSortPositions(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:-1};function selectors_slicedToArray(arr,i){return function selectors_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function selectors_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function selectors_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return selectors_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return selectors_arrayLikeToArray(o,minLen)}(arr,i)||function selectors_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function selectors_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getPiecePosition=function getPiecePosition(state,pieceId){var entry=Object.entries(state.piecePositions).find((function(_ref){var _ref2=selectors_slicedToArray(_ref,2);_ref2[0];return _ref2[1]===pieceId}));if(!entry)return null;var _entry$0$split$map2=selectors_slicedToArray(entry[0].split(",").map((function(val){return parseInt(val,10)})),2);return{x:_entry$0$split$map2[0],y:_entry$0$split$map2[1]}},getAllPieces=function getAllPieces(state){return Object.values(state.pieces).filter((function(p){return null!==p}))},getPiece=function getPiece(state,pieceId){return state.pieces[pieceId]||null},isBelowPieceLimit=function isBelowPieceLimit(state){return null===state.pieceLimit||getAllPieces(state).length<state.pieceLimit},getPieceForPosition=function getPieceForPosition(state,x,y){return state.pieces[state.piecePositions[x+","+y]]||null},selectors_getFirstEmptySlot=function getFirstEmptySlot(state){for(var sortPositions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:topToBottomMiddleSortPositions,emptyPositions=[],y=0;y<state.size.height;y++)for(var x=0;x<state.size.width;x++){var boardPiece=getPieceForPosition(state,x,y);boardPiece||emptyPositions.push({x:x,y:y})}if(0===emptyPositions.length)return null;emptyPositions.sort(sortPositions);var position=emptyPositions[0];return{x:position.x,y:position.y}};function rotateGridPosition_slicedToArray(arr,i){return function rotateGridPosition_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function rotateGridPosition_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function rotateGridPosition_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return rotateGridPosition_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rotateGridPosition_arrayLikeToArray(o,minLen)}(arr,i)||function rotateGridPosition_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rotateGridPosition_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var rotateGridPosition=function rotateGridPosition(gridSize,position){return{x:gridSize.width-1-position.x,y:gridSize.height-1-position.y}},rotateGridPosition_rotatePiecesAboutCenter=function rotatePiecesAboutCenter(state){for(var newPositions=[],_i2=0,_Object$entries=Object.entries(state.pieces);_i2<_Object$entries.length;_i2++){var pieceId=rotateGridPosition_slicedToArray(_Object$entries[_i2],1)[0],_position=getPiecePosition(state,pieceId);if(_position){var newPosition=rotateGridPosition(state.size,_position),newPositionKey=newPosition.x+","+newPosition.y;newPositions.push({pieceId:pieceId,position:newPositionKey})}}return Object.assign({},state,{piecePositions:newPositions.reduce((function(acc,_ref3){var _Object$assign,pieceId=_ref3.pieceId,position=_ref3.position;return Object.assign({},acc,((_Object$assign={})[position]=pieceId,_Object$assign))}),{})})};function mergeBoards_slicedToArray(arr,i){return function mergeBoards_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function mergeBoards_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function mergeBoards_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return mergeBoards_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mergeBoards_arrayLikeToArray(o,minLen)}(arr,i)||function mergeBoards_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mergeBoards_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var expandBoard=function expandBoard(board,_ref){var width=_ref.width,height=_ref.height,differenceWidth=width-board.size.width,differenceHeight=height-board.size.height;return Object.assign({},board,{size:{width:width,height:height},piecePositions:Object.entries(board.piecePositions).reduce((function(newPiecePositions,_ref2){var _Object$assign,_ref3=mergeBoards_slicedToArray(_ref2,2),position=_ref3[0],pieceId=_ref3[1],_position$split$map2=mergeBoards_slicedToArray(position.split(",").map((function(val){return parseInt(val,10)})),2),x=_position$split$map2[0],y=_position$split$map2[1],newX=x+differenceWidth,newY=y+differenceHeight;return Object.assign({},newPiecePositions,((_Object$assign={})[newX+","+newY]=pieceId,_Object$assign))}),{})})},mergeBoards_mergeBoards=function mergeBoards(id,home,away){if(home.size.width!==away.size.width||home.size.height!==away.size.height)throw Error("Trying to merge odd-sized boards");var newSize={width:home.size.width,height:2*home.size.height},expandedHome=expandBoard(home,newSize),expandedAway=expandBoard(away,newSize),rotatedAway=rotateGridPosition_rotatePiecesAboutCenter(expandedAway);return{id:id,pieces:Object.assign({},expandedHome.pieces,rotatedAway.pieces),piecePositions:Object.assign({},expandedHome.piecePositions,rotatedAway.piecePositions),locked:!0,pieceLimit:null,size:newSize}}},"../../@shoki/board/src/types.ts":function(module,exports){},"../../@shoki/engine/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return variablesStore_getVariable})),__webpack_require__.d(__webpack_exports__,"d",(function(){return variablesStore_updateVariables})),__webpack_require__.d(__webpack_exports__,"a",(function(){return entityFactory})),__webpack_require__.d(__webpack_exports__,"b",(function(){return dependency_getDependency}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var ScoringDirection,es=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),variablesStore_getVariable=regeneratorRuntime.mark((function getVariable(selector){return regeneratorRuntime.wrap((function getVariable$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(es.c)("getVariable"),"t0",1);case 1:return _context.t1=_context.t0,_context.abrupt("return",(0,_context.t1)(selector));case 3:case"end":return _context.stop()}}),getVariable)})),variablesStore_updateVariables=regeneratorRuntime.mark((function updateVariables(patch){return regeneratorRuntime.wrap((function updateVariables$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(es.c)("updateVariables"),"t0",1);case 1:_context2.t1=_context2.t0,(0,_context2.t1)(patch);case 3:case"end":return _context2.stop()}}),updateVariables)})),createVariableStore=function createVariableStore(defaultVariables){var state=defaultVariables;return{getVariable:function getVariable(selector){return selector(state)},updateVariables:function updateVariables(patch){state=Object.assign({},state,patch)}}},redux=__webpack_require__("../../../node_modules/redux/es/redux.js"),redux_saga_core_npm_proxy_esm=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js"),entity_entity=function entity(_ref,id){var reducers=_ref.reducers,rootSaga=_ref.rootSaga,dependencies=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},initialVariables=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},variableStore=createVariableStore(initialVariables),sagaMiddleware=Object(redux_saga_core_npm_proxy_esm.a)({context:{id:id,dependencies:dependencies,getVariable:variableStore.getVariable,updateVariables:variableStore.updateVariables}}),store=Object(redux.d)(Object(redux.b)(reducers),Object(redux.a)(sagaMiddleware));return rootSaga&&sagaMiddleware.run(rootSaga),{id:id,select:function select(selector){return selector(store.getState())},getVariable:variableStore.getVariable,runSaga:sagaMiddleware.run,put:function put(action){return store.dispatch(action)}}},entityFactory=function entityFactory(statics){return function(id){var dependencies=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},initialVariables=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return entity_entity("function"==typeof statics?statics(dependencies):statics,id,dependencies,initialVariables)}},redux_saga_effects_npm_proxy_esm=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),dependency_getDependency=regeneratorRuntime.mark((function getDependency(key){var dependencies;return regeneratorRuntime.wrap((function getDependency$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.l)("dependencies");case 2:return dependencies=_context.sent,_context.abrupt("return",dependencies[key]);case 4:case"end":return _context.stop()}}),getDependency)}));__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js");!function(ScoringDirection){ScoringDirection[ScoringDirection.Low=1]="Low",ScoringDirection[ScoringDirection.High=2]="High"}(ScoringDirection||(ScoringDirection={}))},"../../@tools/battle-tester/src/battle.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("../../../node_modules/react/index.js"),react_default=__webpack_require__.n(react),redux_saga_effects_esm=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),es=__webpack_require__("../../../node_modules/react-redux/es/index.js"),redux=__webpack_require__("../../../node_modules/redux/es/redux.js"),redux_saga_core_npm_proxy_esm=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js"),battle=__webpack_require__("../battle/index.ts"),models=__webpack_require__("../models/index.ts"),index_0=__webpack_require__("./index.ts"),_shoki_board=__webpack_require__("../../@shoki/board/index.ts"),board_react=__webpack_require__("../../@shoki/board-react/index.ts"),redux_toolkit_esm=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),gamemode=__webpack_require__("../gamemode/index.ts"),state_useAppSelector=function useAppSelector(selector){return Object(es.c)(selector)},controlSlice=Object(redux_toolkit_esm.c)({name:"controls",initialState:{selectedTile:null},reducers:{setSelectedTile:function setSelectedTile(state,action){state.selectedTile=action.payload.tile}}}),state_board=Object(_shoki_board.b)("battle-tester",models.j),definitions=Object(gamemode.b)(),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),BattleBoard_renderPiece=function renderPiece(onClickPiece){return function(piece){return Object(jsx_runtime.jsx)(index_0.l,{value:{piece:piece,viewingPlayerId:"A"},children:Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%"},onClick:function onClick(){return onClickPiece(piece.id)},children:Object(jsx_runtime.jsx)(index_0.j,{})})})}};function BattleBoard(){var dispatch=Object(es.b)(),board=state_useAppSelector((function(state){return state.board})),context={board:board,bench:{id:"",locked:!1,size:{width:models.b,height:1},pieces:{},piecePositions:{},pieceLimit:0}},onClickTile=react_default.a.useCallback((function(event){dispatch(controlSlice.actions.setSelectedTile({tile:{x:event.location.x,y:event.location.y}}))}),[dispatch]),onClickPiece=react_default.a.useCallback((function(pieceId){var piecePosition=_shoki_board.a.getPiecePosition(board,pieceId);piecePosition&&dispatch(controlSlice.actions.setSelectedTile({tile:{x:piecePosition.x,y:piecePosition.y}}))}),[board]);return Object(jsx_runtime.jsx)(board_react.DndProvider,{children:Object(jsx_runtime.jsx)(index_0.e,{value:context,children:Object(jsx_runtime.jsx)(index_0.d,{renderBoardPiece:BattleBoard_renderPiece(onClickPiece),renderBenchPiece:BattleBoard_renderPiece(onClickPiece),onClick:onClickTile,onDropPiece:function onDropPiece(){}})})})}BattleBoard.displayName="BattleBoard";__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var _pieces,_piecePositions,piece_makePiece=function makePiece(id,ownerId,definition,facingAway){return models.e.buildPieceModel({id:id,ownerId:ownerId,definition:definitions[definition],definitionId:definitions[definition].id,facingAway:facingAway})},initialBoardPieces={pieces:(_pieces={},_pieces["001"]=piece_makePiece("001","A",1,!1),_pieces["002"]=piece_makePiece("002","A",2,!1),_pieces["003"]=piece_makePiece("003","A",3,!1),_pieces["004"]=piece_makePiece("004","A",4,!1),_pieces[101]=piece_makePiece("101","B",9,!0),_pieces[102]=piece_makePiece("102","B",10,!0),_pieces[103]=piece_makePiece("103","B",11,!0),_pieces),piecePositions:(_piecePositions={},_piecePositions["3,2"]="001",_piecePositions["2,2"]="002",_piecePositions["4,2"]="003",_piecePositions["3,1"]="004",_piecePositions["2,3"]="101",_piecePositions["3,3"]="102",_piecePositions["4,3"]="103",_piecePositions),size:models.j};function BoardLogger(){var board=state_useAppSelector((function(state){return state.board})),onClickLog=react.useCallback((function(){console.log(board)}),[board]);return Object(jsx_runtime.jsx)("button",{onClick:onClickLog,children:"Log Board"})}BoardLogger.displayName="BoardLogger";__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js");var v4=__webpack_require__("../../../node_modules/uuid/dist/esm-browser/v4.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PiecePicker(){var dispatch=Object(es.b)(),tile=state_useAppSelector((function(state){return state.controls.selectedTile})),selectedPiece=state_useAppSelector((function(state){return tile?_shoki_board.a.getPieceForPosition(state.board,tile.x,tile.y):null})),_React$useState2=_slicedToArray(react_default.a.useState(!1),2),selectorOpen=_React$useState2[0],setSelectorOpen=_React$useState2[1],onClickChoose=react_default.a.useCallback((function(){setSelectorOpen(!selectorOpen)}),[setSelectorOpen,selectorOpen]),onClickRemove=react_default.a.useCallback((function(){selectedPiece&&dispatch(state_board.commands.removeBoardPiecesCommand([selectedPiece.id]))}),[selectedPiece]);react_default.a.useEffect((function(){selectedPiece&&setSelectorOpen(!1)}),[selectedPiece,setSelectorOpen]);var onChoosePiece=react_default.a.useCallback((function(definitionIndex){if(tile){var topHalf=tile.y<3,piece=piece_makePiece(Object(v4.a)(),topHalf?"A":"B",definitionIndex,!topHalf);dispatch(state_board.commands.addBoardPieceCommand({x:tile.x,y:tile.y,piece:piece}))}}),[dispatch,tile]);return tile?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!selectedPiece&&Object(jsx_runtime.jsx)("button",{onClick:onClickChoose,children:"Choose Piece"}),selectedPiece&&Object(jsx_runtime.jsx)("button",{onClick:onClickRemove,children:"Remove Piece"}),selectorOpen&&Object(jsx_runtime.jsx)("div",{style:{border:"2px solid grey",height:"300px",overflow:"scroll"},children:definitions.map((function(d,index){return Object(jsx_runtime.jsx)("div",{onClick:function onClick(){return onChoosePiece(index)},style:{cursor:"pointer",margin:"0.2em 0"},children:d.name},d.id)}))})]}):null}__webpack_require__("../../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.index-of.js");function PieceCombatInfo(_ref){var piece=_ref.piece,combatStore=state_useAppSelector((function(state){return state.combatStore}));if(!combatStore||!piece)return null;var pieceToPrint=JSON.stringify(combatStore.getPiece(piece.id),null,2);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("h2",{children:"Combat Info"}),Object(jsx_runtime.jsx)("pre",{style:{height:"240px",overflowY:"scroll",fontSize:"0.9em",background:"#ccc"},children:pieceToPrint})]})}try{PieceCombatInfo.displayName="PieceCombatInfo",PieceCombatInfo.__docgenInfo={description:"",displayName:"PieceCombatInfo",props:{piece:{defaultValue:null,description:"",name:"piece",required:!0,type:{name:"PieceModel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../@tools/battle-tester/src/controls/PieceCombatInfo.tsx#PieceCombatInfo"]={docgenInfo:PieceCombatInfo.__docgenInfo,name:"PieceCombatInfo",path:"../../@tools/battle-tester/src/controls/PieceCombatInfo.tsx#PieceCombatInfo"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["definition"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SelectedPiece(){state_useAppSelector((function(state){return state.combatStore}));var tile=state_useAppSelector((function(state){return state.controls.selectedTile})),selectedPiece=state_useAppSelector((function(state){return tile?_shoki_board.a.getPieceForPosition(state.board,tile.x,tile.y):null}));if(!selectedPiece)return null;var definition=selectedPiece.definition,pieceProps=_objectWithoutProperties(selectedPiece,_excluded),pieceToPrint=JSON.stringify(Object.assign({},pieceProps,{definition:definition}),null,2);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("h2",{children:"Selected Piece"}),Object(jsx_runtime.jsxs)("p",{children:[selectedPiece.definition.name," (",selectedPiece.id,")"]}),Object(jsx_runtime.jsxs)("div",{style:{width:"100%",height:"240px",fontSize:"0.9em",display:"flex",flexDirection:"row"},children:[Object(jsx_runtime.jsx)("div",{style:{width:"49%",height:"100%",background:"#ccc"},children:Object(jsx_runtime.jsx)("pre",{style:{height:"100%",overflowY:"scroll"},children:pieceToPrint})}),Object(jsx_runtime.jsx)("div",{style:{width:"49%",height:"100%",overflowY:"scroll",background:"#ccc"},children:Object(jsx_runtime.jsx)(PieceCombatInfo,{piece:selectedPiece})})]})]})}function SelectedTileInfo(){var tile=state_useAppSelector((function(state){return state.controls.selectedTile}));return tile?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("h2",{children:"Selected Tile"}),tile&&Object(jsx_runtime.jsx)("div",{children:tile.x+", "+tile.y}),Object(jsx_runtime.jsx)(SelectedPiece,{}),Object(jsx_runtime.jsx)(PiecePicker,{})]}):null}function BattleControls_slicedToArray(arr,i){return function BattleControls_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function BattleControls_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function BattleControls_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return BattleControls_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BattleControls_arrayLikeToArray(o,minLen)}(arr,i)||function BattleControls_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BattleControls_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function BattleControls(){var dispatch=Object(es.b)(),_React$useState2=BattleControls_slicedToArray(react_default.a.useState(!1),2),isPaused=_React$useState2[0],setIsPaused=_React$useState2[1],currentTurn=state_useAppSelector((function(state){return state.currentTurn})),onClickStart=react_default.a.useCallback((function(){dispatch(battle.a.startBattleCommand({})),setIsPaused(!1)}),[dispatch]),onClickPause=react_default.a.useCallback((function(){dispatch(battle.a.pauseBattleCommand()),setIsPaused(!0)}),[dispatch]),onClickResume=react_default.a.useCallback((function(){dispatch(battle.a.resumeBattleCommand()),setIsPaused(!1)}),[dispatch]),onClickReset=react_default.a.useCallback((function(){return dispatch(state_board.commands.setBoardPiecesCommand(initialBoardPieces))}),[dispatch]);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("h1",{children:"Controls"}),Object(jsx_runtime.jsx)("button",{onClick:onClickStart,children:"Start Battle"}),Object(jsx_runtime.jsxs)("button",{onClick:isPaused?onClickResume:onClickPause,children:[isPaused?"Resume":"Pause"," Battle"]}),Object(jsx_runtime.jsx)("button",{onClick:onClickReset,children:"Reset"}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)(BoardLogger,{}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsxs)("span",{children:["Turn ",currentTurn]}),Object(jsx_runtime.jsx)(SelectedTileInfo,{})]})}BattleControls.displayName="BattleControls";__webpack_exports__.default={title:"@tools / Battle Tester",component:index_0.d,argTypes:{}};var store=function makeStore(){var sagaMiddleware=Object(redux_saga_core_npm_proxy_esm.a)(),newStore=Object(redux.d)(Object(redux.b)({board:state_board.boardReducer,controls:controlSlice.reducer,currentTurn:function currentTurn(s,a){return a.type!==battle.b.battleTurnEvent.toString()?s||0:a.payload.turn},combatStore:function combatStore(s,a){return a.type!==battle.b.exposeStoreEvent.toString()?s||null:a.payload.stores.combat}}),Object(redux.a)(sagaMiddleware));return sagaMiddleware.run(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects_esm.k)(battle.c,(function(state){return state.board}),models.D,state_board);case 2:return _context2.next=4,Object(redux_saga_effects_esm.w)(battle.b.battleTurnEvent,regeneratorRuntime.mark((function _callee(_ref){var newBoard;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return newBoard=_ref.payload.board,_context.next=3,Object(redux_saga_effects_esm.n)(state_board.commands.setBoardPiecesCommand(newBoard));case 3:case"end":return _context.stop()}}),_callee)})));case 4:return _context2.next=6,Object(redux_saga_effects_esm.n)(state_board.commands.setBoardPiecesCommand(initialBoardPieces));case 6:case"end":return _context2.stop()}}),_callee2)}))),newStore}(),battle_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(es.a,{store:store,children:Object(jsx_runtime.jsxs)("div",{style:{display:"flex",width:"100%",height:"100%"},children:[Object(jsx_runtime.jsx)("div",{style:{width:"60%",height:"100%",border:"2px solid grey"},children:Object(jsx_runtime.jsx)(BattleBoard,{})}),Object(jsx_runtime.jsx)("div",{style:{width:"40%",height:"100%",border:"2px solid grey"},children:Object(jsx_runtime.jsx)(BattleControls,{})})]})})};battle_stories_Template.displayName="Template";var Default=battle_stories_Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:'(args) => (\n\t<Provider store={store}>\n\t\t<div style={{ display: "flex", width: "100%", height: "100%" }}>\n\t\t\t<div style={{ width: "60%", height: "100%", border: "2px solid grey" }}>\n\t\t\t\t<BattleBoard />\n\t\t\t</div>\n\t\t\t<div style={{ width: "40%", height: "100%", border: "2px solid grey" }}>\n\t\t\t\t<BattleControls />\n\t\t\t</div>\n\t\t</div>\n\t</Provider>\n)'}},Default.parameters)},"../auth-web/config.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",(function(){return auth0Config}));var auth0Config={domain:process.env.AUTH0_DOMAIN,clientID:process.env.AUTH0_SPA_CLIENT_ID,redirectUri:process.env.CREATURE_CHESS_APP_URL,audience:"https://"+process.env.AUTH0_DOMAIN+"/api/v2/",scope:"openid profile email"}}).call(this,__webpack_require__("../../../node_modules/process/browser.js"))},"../auth-web/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AuthContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return context_usePlayerId}));var react=__webpack_require__("../../../node_modules/react/index.js"),auth0_react_esm=__webpack_require__("../../../node_modules/@auth0/auth0-react/dist/auth0-react.esm.js"),config=__webpack_require__("../auth-web/config.ts"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),provider_AuthProvider=function AuthProvider(_ref){var children=_ref.children,onRedirectCallback=_ref.onRedirectCallback,domain=config.a.domain,clientID=config.a.clientID,redirectUri=config.a.redirectUri;if(!domain)throw Error("no auth0 domain");if(!clientID)throw Error("no auth0 clientID");if(!redirectUri)throw Error("no auth0 redirectUri");return Object(jsx_runtime.jsx)(auth0_react_esm.a,{domain:domain,clientId:clientID,redirectUri:config.a.redirectUri,audience:config.a.audience,scope:config.a.scope,cacheLocation:"localstorage",onRedirectCallback:onRedirectCallback,useRefreshTokens:!0,children:children})};provider_AuthProvider.displayName="AuthProvider";try{provider_AuthProvider.displayName="AuthProvider",provider_AuthProvider.__docgenInfo={description:"",displayName:"AuthProvider",props:{onRedirectCallback:{defaultValue:null,description:"",name:"onRedirectCallback",required:!1,type:{name:"((appState: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../auth-web/provider.tsx#AuthProvider"]={docgenInfo:provider_AuthProvider.__docgenInfo,name:"AuthProvider",path:"../auth-web/provider.tsx#AuthProvider"})}catch(__react_docgen_typescript_loader_error){}var AuthContext=react.createContext({user:null});AuthContext.displayName="AuthContext";var AuthContextProvider=AuthContext.Provider;var context_usePlayerId=function usePlayerId(){var user=react.useContext(AuthContext).user;return user?user["https://creaturechess.jamesmonger.com/playerId"]:""};try{AuthContext.displayName="AuthContext",AuthContext.__docgenInfo={description:"",displayName:"AuthContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../auth-web/context.tsx#AuthContext"]={docgenInfo:AuthContext.__docgenInfo,name:"AuthContext",path:"../auth-web/context.tsx#AuthContext"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../auth-web/types.ts")},"../auth-web/types.ts":function(module,exports){},"../battle/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return events})),__webpack_require__.d(__webpack_exports__,"a",(function(){return commands_namespaceObject})),__webpack_require__.d(__webpack_exports__,"c",(function(){return battleSaga_battleSaga}));var commands_namespaceObject={};__webpack_require__.r(commands_namespaceObject),__webpack_require__.d(commands_namespaceObject,"startBattleCommand",(function(){return startBattleCommand})),__webpack_require__.d(commands_namespaceObject,"pauseBattleCommand",(function(){return pauseBattleCommand})),__webpack_require__.d(commands_namespaceObject,"resumeBattleCommand",(function(){return resumeBattleCommand}));var events=__webpack_require__("../battle/src/events.ts"),redux_toolkit_esm=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),startBattleCommand=Object(redux_toolkit_esm.b)("startBattleCommand"),pauseBattleCommand=Object(redux_toolkit_esm.b)("pauseBattleCommand"),resumeBattleCommand=Object(redux_toolkit_esm.b)("resumeBattleCommand"),redux_saga_effects_esm=(__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js")),_shoki_board=(__webpack_require__("../../../node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../@shoki/board/index.ts")),getStats=function getStats(piece){return piece.definition.stages[piece.stage]};var _typeInteractions,models=__webpack_require__("../models/index.ts"),getCooldownForSpeed=function getCooldownForSpeed(speed){return Math.ceil((180-speed)/24)},typeInteractions=((_typeInteractions={})[models.g.Earth]={generatedBy:models.g.Fire,overcomeBy:models.g.Wood},_typeInteractions[models.g.Metal]={generatedBy:models.g.Earth,overcomeBy:models.g.Fire},_typeInteractions[models.g.Water]={generatedBy:models.g.Metal,overcomeBy:models.g.Earth},_typeInteractions[models.g.Wood]={generatedBy:models.g.Water,overcomeBy:models.g.Metal},_typeInteractions[models.g.Fire]={generatedBy:models.g.Wood,overcomeBy:models.g.Water},_typeInteractions),getHitDamage_getHitDamage=function getHitDamage(attacker,defender){var attackerStats=getStats(attacker),defenderStats=getStats(defender),attackBonus=function getTypeAttackBonus(attackType,defenceType){return typeInteractions[defenceType].overcomeBy===attackType?1.7:typeInteractions[defenceType].overcomeBy===defenceType?.3:1}(attacker.definition.type,defender.definition.type);return Math.ceil(attackerStats.attack/defenderStats.defense*attackBonus*8)},inAttackRange_inAttackRange=function inAttackRange(attacker,target,attackType){var _getDelta=Object(models.F)(attacker,target),deltaX=_getDelta.x,deltaY=_getDelta.y;return 0===Math.min(deltaX,deltaY)&&Math.max(deltaX,deltaY)<=attackType.range};var actionFunctions={move:function doMove(currentTurn,board,boardSlice,piece,piecePosition,action,_ref){var combatStore=_ref.combatStore;if((combatStore.getPiece(piece.id).canMoveAtTurn||0)>currentTurn)return board;var stats=getStats(piece),canMoveAtTurn=currentTurn+2+getCooldownForSpeed(stats.speed);return combatStore.updatePiecePartial(piece.id,{canMoveAtTurn:canMoveAtTurn}),boardSlice.boardReducer(board,boardSlice.commands.moveBoardPieceCommand({pieceId:piece.id,from:piecePosition,to:action.payload}))},delete:function doDelete(currentTurn,board,boardSlice,piece,piecePosition,action,_ref){return _ref.combatStore,boardSlice.boardReducer(board,boardSlice.commands.removeBoardPiecesCommand([piece.id]))},hit:function doHit(currentTurn,board,boardSlice,attacker,attackerPosition,action,_ref){var combatStore=_ref.combatStore,target=_shoki_board.a.getPiece(board,action.payload.targetId),targetPosition=_shoki_board.a.getPiecePosition(board,action.payload.targetId);if(!target||!targetPosition)return board;var attackerStats=getStats(attacker);if(!inAttackRange_inAttackRange(attackerPosition,targetPosition,attackerStats.attackType))return board;var damage=getHitDamage_getHitDamage(attacker,target),newDefenderHealth=Math.max(target.currentHealth-damage,0),attackerDirection=Object(models.I)(attackerPosition,targetPosition),attackerDistance=Object(models.G)(attackerPosition,targetPosition),attackerFacingAway=function getNewAttackerFacingAway(oldFacingAway,direction){return direction===models.i.LEFT||direction===models.i.RIGHT?oldFacingAway:direction===models.i.UP}(attacker.facingAway,attackerDirection),canAttackAtTurn=currentTurn+2+getCooldownForSpeed(attackerStats.speed),canMoveAtTurn=currentTurn+2+getCooldownForSpeed(attackerStats.speed);combatStore.updatePiecePartial(attacker.id,{canAttackAtTurn:canAttackAtTurn,canMoveAtTurn:canMoveAtTurn});var canBeAttackedAtTurn=currentTurn+2+2;combatStore.updatePiecePartial(target.id,{canBeAttackedAtTurn:canBeAttackedAtTurn});var newAttacker=Object.assign({},attacker,{attacking:{attackType:attackerStats.attackType,distance:attackerDistance,direction:attackerDirection,damage:damage},facingAway:attackerFacingAway}),defender=Object.assign({},target,{currentHealth:newDefenderHealth,hit:{direction:Object(models.I)(targetPosition,attackerPosition),damage:damage}});return boardSlice.boardReducer(board,boardSlice.commands.updateBoardPiecesCommand([newAttacker,defender]))}};function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__("../../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.split.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../../node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.search.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js");function getTargetAttackPositions_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function getTargetAttackPositions_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return getTargetAttackPositions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return getTargetAttackPositions_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function getTargetAttackPositions_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isInsideGrid=function isInsideGrid(_ref){var width=_ref.width,height=_ref.height;return function(position){var x=position.x,y=position.y;return x>=0&&y>=0&&x<width&&y<height}};var getTargetAttackPositions_getTargetAttackPositions=function getTargetAttackPositions(board,_ref2){for(var positionX=_ref2.x,positionY=_ref2.y,range=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,positions=[],x=positionX-range;x<=positionX+range;x++)x!==positionX&&positions.push(Object(models.C)(x,positionY));for(var y=positionY-range;y<=positionY+range;y++)y!==positionY&&positions.push(Object(models.C)(positionX,y));return positions.filter(isInsideGrid(board.size))};function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function pathfinding_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return pathfinding_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pathfinding_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pathfinding_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _require=__webpack_require__("../../../node_modules/javascript-astar/astar.js"),astar=_require.astar,Graph=_require.Graph,findPath=function findPath(board,start,end){var weights=function createWeightGrid(start,board){var grid=function createEmptyWeightGrid(_ref){for(var width=_ref.width,height=_ref.height,grid=[],x=0;x<width;x++){for(var column=[],y=0;y<height;y++)column.push(1);grid.push(column)}return grid}(board.size);return Object.entries(board.piecePositions).forEach((function(_ref2){var _ref3=_slicedToArray(_ref2,2),position=_ref3[0],pieceId=_ref3[1],_position$split$map2=_slicedToArray(position.split(",").map((function(p){return parseInt(p,10)})),2),x=_position$split$map2[0],y=_position$split$map2[1];pieceId&&(grid[x][y]=0)})),grid[start.x][start.y]=1,grid}(start,board),graph=new Graph(weights),startGraphItem=graph.grid[start.x][start.y],endGraphItem=graph.grid[end.x][end.y],path=astar.search(graph,startGraphItem,endGraphItem),firstPathNode=path[0];if(!firstPathNode)return null;var firstStep=firstPathNode;return{stepCount:path.length,firstStep:firstStep}},pathNotNull=function pathNotNull(path){return null!==path};function findTargetId_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function findTargetId_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return findTargetId_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return findTargetId_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function findTargetId_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var findTargetId_getLivingEnemies=function getLivingEnemies(piece,board){return _shoki_board.a.getAllPieces(board).filter((function(other){return other.ownerId!==piece.ownerId&&other.currentHealth>0}))},findTargetId_getEnemyDeltas=function getEnemyDeltas(board,enemies,attackerPosition,attackRange){var _step,enemyDeltas=[],_iterator=findTargetId_createForOfIteratorHelper(enemies);try{for(_iterator.s();!(_step=_iterator.n()).done;){var enemy=_step.value,enemyPosition=_shoki_board.a.getPiecePosition(board,enemy.id);if(enemyPosition){var _step2,_iterator2=findTargetId_createForOfIteratorHelper(getTargetAttackPositions_getTargetAttackPositions(board,enemyPosition,attackRange));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var position=_step2.value;enemyDeltas.push({enemy:enemy,delta:Object(models.F)(attackerPosition,position)})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return enemyDeltas};function findBestState(currentTurn,board,state,piece,piecePosition,_ref){if(_ref.combatStore.getPiece(piece.id).canAttackAtTurn<=currentTurn){var targetId=function findTargetId(piece,board){var attackRange=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,enemies=findTargetId_getLivingEnemies(piece,board);if(0===enemies.length)return null;var attackerPosition=_shoki_board.a.getPiecePosition(board,piece.id);if(!attackerPosition)return null;var enemyDeltas=findTargetId_getEnemyDeltas(board,enemies,attackerPosition,attackRange);return enemyDeltas.sort((function(a,b){return a.delta.y<b.delta.y?-1:a.delta.y>b.delta.y?1:a.delta.x<b.delta.x?-1:a.delta.x>b.delta.x?1:a.enemy.definition.cost>b.enemy.definition.cost?-1:1})),enemyDeltas[0].enemy.id}(piece,board,getStats(piece).attackType.range);if(targetId)return{type:"attacking",payload:{targetId:targetId}}}return{type:"wandering"}}function simulate_slicedToArray(arr,i){return function simulate_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function simulate_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function simulate_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return simulate_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return simulate_arrayLikeToArray(o,minLen)}(arr,i)||function simulate_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function simulate_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var stateFunctions={wandering:function doWander(currentTurn,board,state,piece,piecePosition,_ref){var combatStore=_ref.combatStore,bestState=findBestState(currentTurn,board,0,piece,0,{combatStore:combatStore});if("wandering"!==bestState.type)return[bestState];if((combatStore.getPiece(piece.id).canMoveAtTurn||0)>currentTurn)return[state];var emptyPositions=getTargetAttackPositions_getTargetAttackPositions(board,piecePosition).filter((function(p){return null===_shoki_board.a.getPieceForPosition(board,p.x,p.y)}));return 0===emptyPositions.length?[state]:[state,[{type:"move",payload:{x:emptyPositions[0].x,y:emptyPositions[0].y}}]]},attacking:function doAttack(currentTurn,board,state,piece,piecePosition,_ref){var combatStore=_ref.combatStore,combat=combatStore.getPiece(piece.id),otherCombat=combatStore.getPiece(state.payload.targetId);if(combat.canAttackAtTurn>currentTurn||otherCombat.canBeAttackedAtTurn>currentTurn)return[state];var attackerStats=getStats(piece),target=_shoki_board.a.getPiece(board,state.payload.targetId),targetPosition=_shoki_board.a.getPiecePosition(board,state.payload.targetId),targetAlive=((null==target?void 0:target.currentHealth)||0)>0;if(!target||!targetPosition||!targetAlive)return[{type:"wandering"}];if(inAttackRange_inAttackRange(piecePosition,targetPosition,attackerStats.attackType))return[state,[{type:"hit",payload:{targetId:state.payload.targetId}}]];var otherEnemyInRange=function findEnemyInAttackRange(board,friendlyOwnerId,piecePosition){var _step,_iterator=getTargetAttackPositions_createForOfIteratorHelper(getTargetAttackPositions_getTargetAttackPositions(board,piecePosition,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1));try{for(_iterator.s();!(_step=_iterator.n()).done;){var position=_step.value,piece=_shoki_board.a.getPieceForPosition(board,position.x,position.y);if(piece&&piece.ownerId!==friendlyOwnerId)return{piece:piece,position:position}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return null}(board,piece.ownerId,piecePosition,attackerStats.attackType.range);if(otherEnemyInRange)return[{type:"attacking",payload:{targetId:otherEnemyInRange.piece.id}}];var nextPosition=function getNextPiecePosition(attackerPosition,attackerStats,targetPosition,board){var attackRange=attackerStats.attackType.range,paths=getTargetAttackPositions_getTargetAttackPositions(board,targetPosition,attackRange).map((function(pos){return findPath(board,attackerPosition,pos)})).filter(pathNotNull);return 0===paths.length?null:(paths.sort((function(a,b){return a.stepCount-b.stepCount})),paths[0].firstStep)}(piecePosition,attackerStats,targetPosition,board);return nextPosition?[state,[{type:"move",payload:nextPosition}]]:[state]},dying:function doDying(currentTurn,board,state,piece,piecePosition,_ref){return _ref.combatStore,state.payload.dieAtTurn<=currentTurn?[state,[{type:"delete"}]]:[state]}};function simulatePiece(currentTurn,board,boardSlice,piece,piecePosition,_ref2){var combatStore=_ref2.combatStore,state=function getPieceState(currentTurn,piece,_ref){var combatStore=_ref.combatStore,combatState=combatStore.getPiece(piece.id);if(0===piece.currentHealth&&"dying"!==combatState.state.type){var newState={type:"dying",payload:{dieAtTurn:currentTurn+10}};return combatStore.updatePiecePartial(piece.id,{state:newState}),newState}return combatState.state}(currentTurn,piece,{combatStore:combatStore}),_stateFunctions$state2=simulate_slicedToArray(stateFunctions[state.type](currentTurn,board,state,piece,piecePosition,{combatStore:combatStore}),2),newState=_stateFunctions$state2[0],actions=_stateFunctions$state2[1];return newState!==state&&combatStore.updatePiecePartial(piece.id,{state:newState}),actions&&(board=function doActions(currentTurn,board,boardSlice,piece,piecePosition,actions,_ref){var _step,combatStore=_ref.combatStore,_iterator=_createForOfIteratorHelper(actions);try{for(_iterator.s();!(_step=_iterator.n()).done;){var action=_step.value;board=(0,actionFunctions[action.type])(currentTurn,board,boardSlice,piece,piecePosition,action,{combatStore:combatStore})}}catch(err){_iterator.e(err)}finally{_iterator.f()}return board}(currentTurn,board,boardSlice,piece,piecePosition,actions,{combatStore:combatStore})),board}function turnSimulator_slicedToArray(arr,i){return function turnSimulator_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function turnSimulator_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function turnSimulator_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return turnSimulator_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return turnSimulator_arrayLikeToArray(o,minLen)}(arr,i)||function turnSimulator_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function turnSimulator_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var turnSimulator_simulateTurn=function simulateTurn(currentTurn,board,boardSlice,stores){var pieceEntries=Object.entries(board.pieces);return pieceEntries.sort((function(_ref,_ref2){var aPiece=turnSimulator_slicedToArray(_ref,2)[1],bPiece=turnSimulator_slicedToArray(_ref2,2)[1],aStats=getStats(aPiece);return getStats(bPiece).speed-aStats.speed})),pieceEntries.reduce((function(b,_ref5){var pieceId=turnSimulator_slicedToArray(_ref5,1)[0];return turnSimulator_takePieceTurn(currentTurn,pieceId,b,boardSlice,stores)}),board)},turnSimulator_takePieceTurn=function takePieceTurn(currentTurn,pieceId,board,boardSlice,_ref7){var combatStore=_ref7.combatStore,piece=_shoki_board.a.getPiece(board,pieceId);if(!piece)return board;var attacker=Object.assign({},piece,{attacking:null,hit:null}),attackerPosition=_shoki_board.a.getPiecePosition(board,pieceId);return attackerPosition?simulatePiece(currentTurn,board,boardSlice,attacker,attackerPosition,{combatStore:combatStore}):board};__webpack_require__("../../../node_modules/core-js/modules/es.map.js");function pieceInfoStore(initialState){var map=new Map;return{getPiece:function getPiece(pieceId){var state=map.get(pieceId);return state||(map.set(pieceId,initialState),initialState)},updatePiece:function updatePiece(pieceId,state){map.set(pieceId,state)},updatePiecePartial:function updatePiecePartial(pieceId,state){var currentState=map.get(pieceId);currentState&&map.set(pieceId,Object.assign({},currentState,state))},_getMap:function _getMap(){return map}}}__webpack_require__("../../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../../node_modules/core-js/modules/web.timers.js");var present=__webpack_require__("../../../node_modules/present/lib/present-browser.js"),duration=function duration(ms){var startTime=present();return{remaining:function remaining(){return new Promise((function(resolve){var timePassed=present()-startTime,remaining=Math.max(ms-timePassed,0);0!==remaining?setTimeout((function(){return resolve()}),remaining):resolve()}))}}},isATeamDefeated_isATeamDefeated=(__webpack_require__("../../../node_modules/core-js/modules/es.set.js"),function isATeamDefeated(board){var pieceOwnerIds=_shoki_board.a.getAllPieces(board).map((function(p){return p.ownerId}));return 1===new Set(pieceOwnerIds).size}),battleSaga_runBattle=regeneratorRuntime.mark((function runBattle(controls,initialBoard,boardSlice,startingTurn,options){var board,turnCount,combatStore,turnTimer;return regeneratorRuntime.wrap((function runBattle$(_context){for(;;)switch(_context.prev=_context.next){case 0:return board={id:initialBoard.id,pieces:Object.assign({},initialBoard.pieces),piecePositions:Object.assign({},initialBoard.piecePositions),locked:initialBoard.locked,size:initialBoard.size,pieceLimit:null},turnCount=startingTurn,combatStore=pieceInfoStore({state:{type:"wandering"},canMoveAtTurn:15,canBeAttackedAtTurn:0,canAttackAtTurn:15}),_context.next=5,Object(redux_saga_effects_esm.n)(Object(events.exposeStoreEvent)({stores:{combat:combatStore}}));case 5:if(!(turnCount>=options.turnCount||isATeamDefeated_isATeamDefeated(board))){_context.next=13;break}return _context.next=10,duration(1e3).remaining();case 10:return _context.next=12,Object(redux_saga_effects_esm.n)(Object(events.battleFinishEvent)({turn:turnCount}));case 12:return _context.abrupt("break",26);case 13:if(!controls.paused){_context.next=18;break}return _context.next=16,duration(1e3).remaining();case 16:_context.next=13;break;case 18:return turnTimer=duration(options.turnDuration),board=turnSimulator_simulateTurn(++turnCount,board,boardSlice,{combatStore:combatStore}),_context.next=22,Object(redux_saga_effects_esm.n)(Object(events.battleTurnEvent)({turn:turnCount,board:board}));case 22:return _context.next=24,turnTimer.remaining();case 24:_context.next=5;break;case 26:case"end":return _context.stop()}}),runBattle)})),battleSaga_battleSaga=regeneratorRuntime.mark((function battleSaga(boardSelector,gameOptions,boardSlice){return regeneratorRuntime.wrap((function battleSaga$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,Object(redux_saga_effects_esm.w)(startBattleCommand,regeneratorRuntime.mark((function _callee3(_ref){var turn,board,controls;return regeneratorRuntime.wrap((function _callee3$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return turn=_ref.payload.turn,_context4.next=3,Object(redux_saga_effects_esm.r)(boardSelector);case 3:return board=_context4.sent,controls={paused:!1},_context4.next=7,Object(redux_saga_effects_esm.b)([Object(redux_saga_effects_esm.w)(pauseBattleCommand,regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:controls.paused=!0;case 1:case"end":return _context2.stop()}}),_callee)}))),Object(redux_saga_effects_esm.w)(resumeBattleCommand,regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:controls.paused=!1;case 1:case"end":return _context3.stop()}}),_callee2)}))),Object(redux_saga_effects_esm.d)(battleSaga_runBattle,controls,board,boardSlice,turn||0,gameOptions)]);case 7:case"end":return _context4.stop()}}),_callee3)})));case 2:case"end":return _context5.stop()}}),battleSaga)}))},"../battle/src/events.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"battleTurnEvent",(function(){return battleTurnEvent})),__webpack_require__.d(__webpack_exports__,"exposeStoreEvent",(function(){return exposeStoreEvent})),__webpack_require__.d(__webpack_exports__,"battleFinishEvent",(function(){return battleFinishEvent}));var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),battleTurnEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.b)("battleTurnEvent"),exposeStoreEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.b)("exposeStoreEvent"),battleFinishEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.b)("battleFinishEvent")},"../gamemode/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return playerActions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return pieceSelectors.b})),__webpack_require__.d(__webpack_exports__,"e",(function(){return selectors.getPlayerLevel})),__webpack_require__.d(__webpack_exports__,"f",(function(){return selectors.getPlayerMoney})),__webpack_require__.d(__webpack_exports__,"g",(function(){return selectors.getPlayerXp})),__webpack_require__.d(__webpack_exports__,"c",(function(){return definitions.b})),__webpack_require__.d(__webpack_exports__,"b",(function(){return definitions.a}));__webpack_require__("../gamemode/src/game/roundInfo/index.ts"),__webpack_require__("../gamemode/src/game/events.ts"),__webpack_require__("../../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),__webpack_require__("../../../node_modules/events/events.js"),__webpack_require__("../models/index.ts");var selectors=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts");__webpack_require__("../../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/uuid/dist/esm-browser/v4.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("../../../node_modules/lodash.shuffle/index.js");var definitions=__webpack_require__("../gamemode/src/definitions/index.ts");__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../../node_modules/lodash/lodash.js"),__webpack_require__("../gamemode/src/entities/player/index.ts");__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),__webpack_require__("../gamemode/src/entities/player/events.ts"),__webpack_require__("../gamemode/src/entities/player/selectors.ts"),__webpack_require__("../gamemode/src/entities/player/state/cardShop.ts");var pieceSelectors=__webpack_require__("../gamemode/src/player/pieceSelectors.ts");__webpack_require__("../../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../gamemode/src/game/playerPropertyUpdates.ts");var PlayerListEvents;!function(PlayerListEvents){PlayerListEvents.UPDATE="UPDATE"}(PlayerListEvents||(PlayerListEvents={}));__webpack_require__("../gamemode/src/game/sagas.ts"),__webpack_require__("../../../node_modules/redux/es/redux.js"),__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js");__webpack_require__("../gamemode/src/entities/player/state/playerInfo/index.ts");var playerActions=__webpack_require__("../gamemode/src/playerActions/index.ts");__webpack_require__("../gamemode/src/game/match.ts")},"../gamemode/src/definitions/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getDefinitionById})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getAllDefinitions}));__webpack_require__("../../../node_modules/core-js/modules/es.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.concat.js");var _classBuilds,models=__webpack_require__("../models/index.ts"),classBuilds=((_classBuilds={})[models.h.VALIANT]={hp:.4,attack:.2,defense:.3,speed:.2},_classBuilds[models.h.ARCANE]={hp:.2,attack:.4,defense:.2,speed:.3},_classBuilds[models.h.CUNNING]={hp:.1,attack:.4,defense:.1,speed:.45},_classBuilds),getStat=function getStat(baseStat,buildStat,availablePoints){return baseStat+Math.ceil(buildStat*availablePoints)},definitionClass_getStats=function getStats(definitionClass,cost,stage){var baseStats={hp:10,attack:10,defense:10,speed:10},availablePoints=function getPoints(cost,stage){return 0===stage?1.5*cost*20:1===stage?1.5*cost*80:2===stage?1.5*cost*210:0}(cost,stage),build=classBuilds[definitionClass],attackType=definitionClass===models.h.ARCANE?models.B.shoot:models.B.basic;return{hp:getStat(baseStats.hp,build.hp,availablePoints),attack:getStat(baseStats.attack,build.attack,availablePoints),defense:getStat(baseStats.defense,build.defense,availablePoints),speed:getStat(baseStats.speed,build.speed,availablePoints),attackType:attackType}},getStages=function getStages(definitionClass,cost){return[definitionClass_getStats(definitionClass,cost,0),definitionClass_getStats(definitionClass,cost,1),definitionClass_getStats(definitionClass,cost,2)]},definitions_createDefinition=function createDefinition(id,name,type,definitionClass,cost){return{id:id,name:name,type:type,class:definitionClass,cost:cost,stages:getStages(definitionClass,cost)}},definitionsArray=[definitions_createDefinition(1,"Budaye",models.g.Wood,models.h.VALIANT,1),definitions_createDefinition(2,"Anoleaf",models.g.Wood,models.h.CUNNING,1),definitions_createDefinition(3,"Rockitten",models.g.Earth,models.h.VALIANT,1),definitions_createDefinition(4,"Aardorn",models.g.Earth,models.h.CUNNING,1),definitions_createDefinition(5,"Nut",models.g.Metal,models.h.VALIANT,1),definitions_createDefinition(6,"Puparmor",models.g.Metal,models.h.VALIANT,1),definitions_createDefinition(7,"Embra",models.g.Fire,models.h.ARCANE,1),definitions_createDefinition(8,"Tweesher",models.g.Water,models.h.ARCANE,1),definitions_createDefinition(9,"Bamboon",models.g.Wood,models.h.VALIANT,2),definitions_createDefinition(10,"Chenipode",models.g.Earth,models.h.CUNNING,2),definitions_createDefinition(11,"Bolt",models.g.Metal,models.h.VALIANT,2),definitions_createDefinition(12,"Weavifly",models.g.Metal,models.h.ARCANE,1),definitions_createDefinition(13,"Cardiling",models.g.Fire,models.h.CUNNING,2),definitions_createDefinition(14,"Agnite",models.g.Fire,models.h.VALIANT,2),definitions_createDefinition(15,"Elowind",models.g.Water,models.h.ARCANE,2),definitions_createDefinition(16,"Fluttaflap",models.g.Water,models.h.VALIANT,2),definitions_createDefinition(17,"Velocitile",models.g.Wood,models.h.CUNNING,3),definitions_createDefinition(18,"Sapsnap",models.g.Wood,models.h.VALIANT,3),definitions_createDefinition(19,"Rockat",models.g.Earth,models.h.CUNNING,3),definitions_createDefinition(20,"Grintot",models.g.Earth,models.h.VALIANT,3),definitions_createDefinition(21,"Propellorcat",models.g.Metal,models.h.CUNNING,3),definitions_createDefinition(22,"Sumchon",models.g.Metal,models.h.VALIANT,3),definitions_createDefinition(23,"Ignibus",models.g.Fire,models.h.VALIANT,3),definitions_createDefinition(24,"Ruption",models.g.Fire,models.h.ARCANE,3),definitions_createDefinition(25,"Noctalo",models.g.Water,models.h.CUNNING,3),definitions_createDefinition(26,"Lightmare",models.g.Water,models.h.VALIANT,3),definitions_createDefinition(27,"Narcileaf",models.g.Wood,models.h.ARCANE,4),definitions_createDefinition(28,"Coleorus",models.g.Wood,models.h.CUNNING,4),definitions_createDefinition(29,"Aardart",models.g.Earth,models.h.CUNNING,4),definitions_createDefinition(30,"Hubursa",models.g.Earth,models.h.ARCANE,4),definitions_createDefinition(31,"Sampsack",models.g.Metal,models.h.VALIANT,4),definitions_createDefinition(32,"Cairfrey",models.g.Metal,models.h.ARCANE,3),definitions_createDefinition(33,"Prophetoise",models.g.Fire,models.h.ARCANE,4),definitions_createDefinition(34,"Tikorch",models.g.Fire,models.h.CUNNING,4),definitions_createDefinition(35,"Nudimind",models.g.Water,models.h.ARCANE,4),definitions_createDefinition(36,"Dollfin",models.g.Water,models.h.VALIANT,4),definitions_createDefinition(37,"Arbelder",models.g.Wood,models.h.VALIANT,5),definitions_createDefinition(38,"Viviphyta",models.g.Wood,models.h.CUNNING,5),definitions_createDefinition(39,"Grintrock",models.g.Earth,models.h.VALIANT,5),definitions_createDefinition(40,"Jemuar",models.g.Earth,models.h.CUNNING,5),definitions_createDefinition(41,"Pyraminx",models.g.Metal,models.h.VALIANT,5),definitions_createDefinition(42,"AV8R",models.g.Metal,models.h.CUNNING,5),definitions_createDefinition(43,"Agnigon",models.g.Fire,models.h.VALIANT,5),definitions_createDefinition(44,"Cardinale",models.g.Fire,models.h.CUNNING,5),definitions_createDefinition(45,"Nudikill",models.g.Water,models.h.VALIANT,5),definitions_createDefinition(46,"Eaglace",models.g.Water,models.h.CUNNING,5),definitions_createDefinition(47,"Kirkanon",models.g.Metal,models.h.ARCANE,5)],definitionMap=new Map;definitionsArray.forEach((function(d){definitionMap.set(d.id,d)}));var getDefinitionById=function getDefinitionById(id){return definitionMap.get(id)},getAllDefinitions=function getAllDefinitions(){return[].concat(definitionsArray)}},"../gamemode/src/entities/player/dependencies.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getPlayerEntityDependencies}));var typed_redux_saga__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),getPlayerEntityDependencies=function getPlayerEntityDependencies(){return Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_0__.c)("dependencies")}},"../gamemode/src/entities/player/events.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return afterSellPieceEvent})),__webpack_require__.d(__webpack_exports__,"a",(function(){return afterRerollCardsEvent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return clientFinishMatchEvent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return playerDeathEvent})),__webpack_require__.d(__webpack_exports__,"f",(function(){return playerMatchRewardsEvent})),__webpack_require__.d(__webpack_exports__,"e",(function(){return playerFinishMatchEvent})),__webpack_require__.d(__webpack_exports__,"g",(function(){return playerReceiveQuickChatEvent}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),afterSellPieceEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("afterSellPieceEvent"),afterRerollCardsEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("afterRerollCardsEvent"),clientFinishMatchEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("clientFinishMatchEvent"),playerDeathEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerDeathEvent"),playerMatchRewardsEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerMatchRewardsEvent"),playerFinishMatchEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerFinishMatchEvent"),playerReceiveQuickChatEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerReceiveQuickChatEvent");playerDeathEvent.toString(),playerMatchRewardsEvent.toString(),playerReceiveQuickChatEvent.toString()},"../gamemode/src/entities/player/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return commands})),__webpack_require__.d(__webpack_exports__,"b",(function(){return state_selectors}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var redux_saga_effects_npm_proxy_esm=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),engine=__webpack_require__("../../@shoki/engine/index.ts"),roundInfo=__webpack_require__("../gamemode/src/game/roundInfo/index.ts"),es=(__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js")),events=__webpack_require__("../gamemode/src/entities/player/events.ts"),selectors=__webpack_require__("../gamemode/src/features/match/selectors.ts"),clientFinishMatch_clientFinishMatch=regeneratorRuntime.mark((function clientFinishMatch(){var playerId;return regeneratorRuntime.wrap((function clientFinishMatch$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(es.c)("id"),"t0",1);case 1:return playerId=_context2.t0,_context2.next=4,Object(redux_saga_effects_npm_proxy_esm.w)(events.c.toString(),regeneratorRuntime.mark((function _callee(){var match;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(selectors.a)(),"t0",1);case 1:null==(match=_context.t0)||match.onClientFinishMatch(playerId);case 3:case"end":return _context.stop()}}),_callee)})));case 4:case"end":return _context2.stop()}}),clientFinishMatch)})),game_events=(__webpack_require__("../../../node_modules/core-js/modules/es.string.match.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../gamemode/src/game/events.ts")),updateMatchVariable_updateMatchVariable=regeneratorRuntime.mark((function updateMatchVariable(){return regeneratorRuntime.wrap((function updateMatchVariable$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.v)(game_events.f.toString(),regeneratorRuntime.mark((function _callee(_ref){var match;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return match=_ref.payload.match,_context.delegateYield(Object(engine.d)({match:match}),"t0",2);case 2:case"end":return _context.stop()}}),_callee)}))),Object(redux_saga_effects_npm_proxy_esm.v)(events.e.toString(),regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(engine.d)({match:null}),"t0",1);case 1:case"end":return _context2.stop()}}),_callee2)})))]);case 2:case"end":return _context3.stop()}}),updateMatchVariable)})),root_rootSaga=regeneratorRuntime.mark((function rootSaga(){return regeneratorRuntime.wrap((function rootSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.d)(updateMatchVariable_updateMatchVariable),Object(redux_saga_effects_npm_proxy_esm.d)(clientFinishMatch_clientFinishMatch)]);case 2:case"end":return _context.stop()}}),rootSaga)})),features_featuresRootSaga=regeneratorRuntime.mark((function featuresRootSaga(){return regeneratorRuntime.wrap((function featuresRootSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.d)(root_rootSaga)]);case 2:case"end":return _context.stop()}}),featuresRootSaga)})),buyCard=__webpack_require__("../gamemode/src/playerActions/buyCard.ts"),buyXp=__webpack_require__("../gamemode/src/playerActions/buyXp.ts"),dropPiece=__webpack_require__("../gamemode/src/playerActions/dropPiece.ts"),quickChat=__webpack_require__("../gamemode/src/playerActions/quickChat.ts"),readyUp=__webpack_require__("../gamemode/src/playerActions/readyUp.ts"),rerollCards=__webpack_require__("../gamemode/src/playerActions/rerollCards.ts"),sellPiece=__webpack_require__("../gamemode/src/playerActions/sellPiece.ts"),spectate=__webpack_require__("../gamemode/src/playerActions/spectate.ts"),swapPiece=__webpack_require__("../gamemode/src/playerActions/swapPiece.ts"),toggleShopLock=__webpack_require__("../gamemode/src/playerActions/toggleShopLock.ts"),saga_playerActionsSaga=regeneratorRuntime.mark((function playerActionsSaga(){return regeneratorRuntime.wrap((function playerActionsSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.d)(buyXp.c),Object(redux_saga_effects_npm_proxy_esm.d)(buyCard.c),Object(redux_saga_effects_npm_proxy_esm.d)(rerollCards.c),Object(redux_saga_effects_npm_proxy_esm.d)(toggleShopLock.c),Object(redux_saga_effects_npm_proxy_esm.d)(sellPiece.c),Object(redux_saga_effects_npm_proxy_esm.d)(dropPiece.c),Object(redux_saga_effects_npm_proxy_esm.d)(swapPiece.c),Object(redux_saga_effects_npm_proxy_esm.d)(spectate.c),Object(redux_saga_effects_npm_proxy_esm.d)(readyUp.c),Object(redux_saga_effects_npm_proxy_esm.d)(quickChat.c)]);case 2:case"end":return _context.stop()}}),playerActionsSaga)})),models=__webpack_require__("../models/index.ts"),commands=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),state_selectors=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),redux_saga_effects_esm=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),subtractHealthCommand=function subtractHealthCommand(amount){return{type:"HEALTH_SUBTRACT_COMMAND",payload:{amount:amount}}},health_healthSaga=regeneratorRuntime.mark((function healthSaga(){return regeneratorRuntime.wrap((function healthSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects_esm.b)([Object(redux_saga_effects_esm.v)("HEALTH_SUBTRACT_COMMAND",regeneratorRuntime.mark((function _callee(_ref){var amount,state,oldValue,newValue;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return amount=_ref.payload.amount,_context.next=3,Object(redux_saga_effects_esm.r)();case 3:return state=_context.sent,oldValue=state.playerInfo.health,newValue=(newValue=oldValue-amount)<0?0:newValue,_context.next=9,Object(redux_saga_effects_esm.n)(Object(commands.updateHealthCommand)(newValue));case 9:case"end":return _context.stop()}}),_callee)})))]);case 2:case"end":return _context2.stop()}}),healthSaga)})),getMoneyForMatch=function getMoneyForMatch(currentMoney,streak,win){var winBonus=win?1:0,streakBonus=function getStreakBonus(streak){return streak>=9?3:streak>=6?2:streak>=3?1:0}(streak),interest=Math.min(Math.floor(currentMoney/10),5);return{total:3+winBonus+streakBonus+interest,base:3,winBonus:winBonus,streakBonus:streakBonus,interest:interest}},matchRewards_updateStreak=regeneratorRuntime.mark((function updateStreak(win){var type,existingStreak,newAmount;return regeneratorRuntime.wrap((function updateStreak$(_context){for(;;)switch(_context.prev=_context.next){case 0:return type=win?models.z.WIN:models.z.LOSS,_context.next=3,Object(es.e)(state_selectors.getPlayerStreak);case 3:return existingStreak=_context.sent,newAmount=type===existingStreak.type?existingStreak.amount+1:0,_context.next=7,Object(redux_saga_effects_esm.n)(Object(commands.updateStreakCommand)({type:type,amount:newAmount}));case 7:case"end":return _context.stop()}}),updateStreak)})),matchRewards_playerMatchRewards=regeneratorRuntime.mark((function playerMatchRewards(){return regeneratorRuntime.wrap((function playerMatchRewards$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_esm.w)(events.e.toString(),regeneratorRuntime.mark((function _callee(_ref){var _ref$payload,homeScore,awayScore,isHomePlayer,win,damage,oldValue,newValue,justDied,currentMoney,streak,_getMoneyForMatch,total,base,winBonus,streakBonus,interest;return regeneratorRuntime.wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _ref$payload=_ref.payload,homeScore=_ref$payload.homeScore,awayScore=_ref$payload.awayScore,isHomePlayer=_ref$payload.isHomePlayer,win=isHomePlayer?homeScore>awayScore:awayScore>homeScore,_context2.next=4,Object(redux_saga_effects_esm.d)(matchRewards_updateStreak,win);case 4:return damage=(isHomePlayer?awayScore:homeScore)*models.l,_context2.delegateYield(Object(es.e)(state_selectors.getPlayerHealth),"t0",7);case 7:return oldValue=_context2.t0,_context2.next=10,Object(redux_saga_effects_esm.n)(subtractHealthCommand(damage));case 10:return _context2.next=12,Object(redux_saga_effects_esm.u)(commands.updateHealthCommand.toString());case 12:return _context2.delegateYield(Object(es.e)(state_selectors.getPlayerHealth),"t1",13);case 13:if(newValue=_context2.t1,!(justDied=0===newValue&&0!==oldValue)){_context2.next=20;break}return _context2.next=18,Object(redux_saga_effects_esm.n)(Object(commands.updateStatusCommand)(models.s.DEAD));case 18:return _context2.next=20,Object(redux_saga_effects_esm.n)(Object(events.d)());case 20:return _context2.delegateYield(Object(es.e)(state_selectors.getPlayerMoney),"t2",21);case 21:return currentMoney=_context2.t2,_context2.delegateYield(Object(es.e)(state_selectors.getPlayerStreak),"t3",23);case 23:return streak=_context2.t3,_getMoneyForMatch=getMoneyForMatch(currentMoney,streak.amount,win),total=_getMoneyForMatch.total,base=_getMoneyForMatch.base,winBonus=_getMoneyForMatch.winBonus,streakBonus=_getMoneyForMatch.streakBonus,interest=_getMoneyForMatch.interest,_context2.next=27,Object(redux_saga_effects_esm.n)(Object(events.f)({damage:damage,justDied:justDied,rewardMoney:{total:total,base:base,winBonus:winBonus,streakBonus:streakBonus,interest:interest}}));case 27:case"end":return _context2.stop()}}),_callee)})));case 2:case"end":return _context3.stop()}}),playerMatchRewards)})),battle_playerBattle=regeneratorRuntime.mark((function playerBattle(){return regeneratorRuntime.wrap((function playerBattle$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.w)(commands.updateOpponentCommand,regeneratorRuntime.mark((function _callee(_ref){var opponentId;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(opponentId=_ref.payload)){_context.next=4;break}return _context.next=4,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateBattleCommand)(Object(models.K)(opponentId)));case 4:case"end":return _context.stop()}}),_callee)}))),Object(redux_saga_effects_npm_proxy_esm.w)(events.e.toString(),regeneratorRuntime.mark((function _callee2(_ref2){var _ref2$payload,isHomePlayer,homeScore,awayScore,opponentId;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _ref2$payload=_ref2.payload,isHomePlayer=_ref2$payload.isHomePlayer,homeScore=_ref2$payload.homeScore,awayScore=_ref2$payload.awayScore,_context2.delegateYield(Object(es.e)(state_selectors.getOpponentId),"t0",2);case 2:return opponentId=_context2.t0,_context2.next=5,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateBattleCommand)(Object(models.E)(opponentId,isHomePlayer,homeScore,awayScore)));case 5:case"end":return _context2.stop()}}),_callee2)}))),Object(redux_saga_effects_npm_proxy_esm.d)(matchRewards_playerMatchRewards)]);case 2:case"end":return _context3.stop()}}),playerBattle)})),board=(__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../@shoki/board/index.ts")),definitions=__webpack_require__("../gamemode/src/definitions/index.ts"),pieceSelectors=__webpack_require__("../gamemode/src/player/pieceSelectors.ts"),dependencies=__webpack_require__("../gamemode/src/entities/player/dependencies.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var evolution_pieceCanEvolve=function pieceCanEvolve(piece){var definition=Object(definitions.b)(piece.definitionId);return!!definition&&piece.stage<definition.stages.length-1},evolution_evolutionSaga=regeneratorRuntime.mark((function evolutionSaga(){var _yield$getPlayerEntit,_yield$getPlayerEntit2,boardSlice,benchSlice;return regeneratorRuntime.wrap((function evolutionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(dependencies.a)(),"t0",1);case 1:return _yield$getPlayerEntit=_context2.t0,_yield$getPlayerEntit2=_yield$getPlayerEntit.boardSlices,boardSlice=_yield$getPlayerEntit2.boardSlice,benchSlice=_yield$getPlayerEntit2.benchSlice,_context2.next=7,Object(redux_saga_effects_esm.w)([boardSlice.commands.addBoardPieceCommand,benchSlice.commands.addBoardPieceCommand],regeneratorRuntime.mark((function _callee(_ref){var piece,targetDefinitionId,targetStage,getCombinablePieces,matchingBoardPieces,matchingBenchPieces,pieceToReplace,piecePosition,x,y,boardPieceIds,benchPieceIds,newPiece,_benchPieceIds,_newPiece,_piecePosition,_x,_y;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(piece=_ref.payload.piece,evolution_pieceCanEvolve(piece)){_context.next=3;break}return _context.abrupt("return");case 3:return _context.delegateYield(Object(es.e)(state_selectors.isPlayerBoardLocked),"t0",4);case 4:if(!_context.t0){_context.next=10;break}return _context.next=8,Object(redux_saga_effects_esm.u)(boardSlice.commands.unlockBoardCommand);case 8:return _context.next=10,Object(redux_saga_effects_esm.i)(500);case 10:return targetDefinitionId=piece.definitionId,targetStage=piece.stage,getCombinablePieces=function getCombinablePieces(pieces){return pieces.filter((function(p){return p.stage===targetStage}))},_context.delegateYield(Object(es.e)((function(state){return getCombinablePieces(pieceSelectors.c(state.board,targetDefinitionId))})),"t1",14);case 14:return matchingBoardPieces=_context.t1,_context.delegateYield(Object(es.e)((function(state){return getCombinablePieces(pieceSelectors.c(state.bench,targetDefinitionId))})),"t2",16);case 16:if(matchingBenchPieces=_context.t2,!(matchingBoardPieces.length+matchingBenchPieces.length<models.q)){_context.next=20;break}return _context.abrupt("return");case 20:if(!(matchingBoardPieces.length>0)){_context.next=38;break}return pieceToReplace=matchingBoardPieces.pop(),_context.delegateYield(Object(es.e)((function(s){return board.a.getPiecePosition(s.board,pieceToReplace.id)})),"t3",23);case 23:if(piecePosition=_context.t3){_context.next=26;break}return _context.abrupt("return");case 26:return x=piecePosition.x,y=piecePosition.y,boardPieceIds=[].concat(_toConsumableArray(matchingBoardPieces),[pieceToReplace]).map((function(p){return p.id})),_context.next=30,Object(redux_saga_effects_esm.n)(boardSlice.commands.removeBoardPiecesCommand(boardPieceIds));case 30:return benchPieceIds=matchingBenchPieces.map((function(p){return p.id})),_context.next=33,Object(redux_saga_effects_esm.n)(benchSlice.commands.removeBoardPiecesCommand([].concat(_toConsumableArray(benchPieceIds),[piece.id])));case 33:return newPiece=Object.assign({},pieceToReplace,{stage:targetStage+1}),_context.next=36,Object(redux_saga_effects_esm.n)(boardSlice.commands.addBoardPieceCommand({x:x,y:y,piece:newPiece}));case 36:_context.next=49;break;case 38:return _benchPieceIds=matchingBenchPieces.map((function(p){return p.id})),_newPiece=Object.assign({},piece,{stage:targetStage+1}),_context.delegateYield(Object(es.e)((function(s){return board.a.getPiecePosition(s.bench,piece.id)})),"t4",41);case 41:if(_piecePosition=_context.t4){_context.next=44;break}return _context.abrupt("return");case 44:return _x=_piecePosition.x,_y=_piecePosition.y,_context.next=47,Object(redux_saga_effects_esm.n)(benchSlice.commands.removeBoardPiecesCommand([].concat(_toConsumableArray(_benchPieceIds),[piece.id])));case 47:return _context.next=49,Object(redux_saga_effects_esm.n)(benchSlice.commands.addBoardPieceCommand({x:_x,y:_y,piece:_newPiece}));case 49:case"end":return _context.stop()}}),_callee)})));case 7:case"end":return _context2.stop()}}),evolutionSaga)})),playerActions=__webpack_require__("../gamemode/src/playerActions/index.ts"),fillBoard_fillBoard=regeneratorRuntime.mark((function fillBoard(){var playerId;return regeneratorRuntime.wrap((function fillBoard$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(es.c)("id"),"t0",1);case 1:return playerId=_context2.t0,_context2.next=4,Object(redux_saga_effects_npm_proxy_esm.v)("FILL_BOARD_COMMAND",regeneratorRuntime.mark((function _callee(){var state,benchPiece,destination,benchPiecePosition,fromLocation,toLocation;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(es.e)(state_selectors.isPlayerAlive),"t0",1);case 1:if(_context.t0){_context.next=4;break}return _context.abrupt("return");case 4:return _context.delegateYield(Object(es.e)(),"t1",6);case 6:if(state=_context.t1,Object(state_selectors.getPlayerBelowPieceLimit)(state,playerId)){_context.next=10;break}return _context.abrupt("return");case 10:if(benchPiece=Object(state_selectors.getMostExpensiveBenchPiece)(state)){_context.next=13;break}return _context.abrupt("return");case 13:if(destination=board.a.getFirstEmptySlot(state.board)){_context.next=16;break}return _context.abrupt("return");case 16:if(benchPiecePosition=board.a.getPiecePosition(state.bench,benchPiece.id)){_context.next=19;break}return _context.abrupt("return");case 19:return fromLocation={type:"bench",location:benchPiecePosition},toLocation={type:"board",location:{x:destination.x,y:destination.y}},_context.next=23,Object(redux_saga_effects_npm_proxy_esm.n)(Object(playerActions.dropPiecePlayerAction)({pieceId:benchPiece.id,from:fromLocation,to:toLocation}));case 23:_context.next=4;break;case 25:case"end":return _context.stop()}}),_callee)})));case 4:case"end":return _context2.stop()}}),fillBoard)})),player_selectors=__webpack_require__("../gamemode/src/entities/player/selectors.ts"),xp=__webpack_require__("../gamemode/src/entities/player/sagas/xp.ts"),preparing_playerPreparingPhase=regeneratorRuntime.mark((function playerPreparingPhase(){var boardSlice;return regeneratorRuntime.wrap((function playerPreparingPhase$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(player_selectors.b)(),"t0",1);case 1:return boardSlice=_context2.t0,_context2.next=4,Object(redux_saga_effects_npm_proxy_esm.v)(game_events.e.toString(),regeneratorRuntime.mark((function _callee(){var matchRewards,currentMoney,totalMatchReward,level;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(es.e)(state_selectors.isPlayerAlive),"t0",1);case 1:if(_context.t0){_context.next=4;break}return _context.abrupt("return");case 4:return _context.delegateYield(Object(es.e)((function(state){return state.playerInfo.matchRewards})),"t1",5);case 5:if(!(matchRewards=_context.t1)){_context.next=14;break}return _context.delegateYield(Object(es.e)(state_selectors.getPlayerMoney),"t2",8);case 8:return currentMoney=_context.t2,totalMatchReward=matchRewards.rewardMoney.total,_context.next=12,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateMoneyCommand)(currentMoney+totalMatchReward));case 12:return _context.next=14,Object(redux_saga_effects_npm_proxy_esm.n)(Object(xp.a)(1));case 14:return _context.delegateYield(Object(es.e)(state_selectors.isPlayerShopLocked),"t3",15);case 15:if(_context.t3){_context.next=19;break}return _context.next=19,Object(redux_saga_effects_npm_proxy_esm.n)(Object(events.a)());case 19:if(!matchRewards){_context.next=24;break}return _context.next=22,Object(redux_saga_effects_npm_proxy_esm.n)(Object(events.f)(null));case 22:return _context.next=24,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateOpponentCommand)(null));case 24:return _context.delegateYield(Object(es.e)(state_selectors.getPlayerLevel),"t4",25);case 25:return level=_context.t4,_context.next=28,Object(redux_saga_effects_npm_proxy_esm.n)(boardSlice.commands.setPieceLimitCommand(level));case 28:return _context.next=30,Object(redux_saga_effects_npm_proxy_esm.n)(boardSlice.commands.unlockBoardCommand());case 30:case"end":return _context.stop()}}),_callee)})));case 4:case"end":return _context2.stop()}}),playerPreparingPhase)})),ready_playerReadyPhase=regeneratorRuntime.mark((function playerReadyPhase(){var playerId,boardSlice;return regeneratorRuntime.wrap((function playerReadyPhase$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.delegateYield(Object(es.c)("id"),"t0",1);case 1:return playerId=_context3.t0,_context3.delegateYield(Object(player_selectors.b)(),"t1",3);case 3:return boardSlice=_context3.t1,_context3.next=6,Object(redux_saga_effects_npm_proxy_esm.v)(game_events.c.toString(),regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.n)({type:"FILL_BOARD_COMMAND"});case 2:return _context.next=4,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateReadyCommand)(!1));case 4:case"end":return _context.stop()}}),_callee)})));case 6:return _context3.next=8,Object(redux_saga_effects_npm_proxy_esm.v)(game_events.f.toString(),regeneratorRuntime.mark((function _callee2(_ref){var match,opponentId;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return match=_ref.payload.match,_context2.next=3,Object(redux_saga_effects_npm_proxy_esm.n)(boardSlice.commands.lockBoardCommand());case 3:return opponentId=match.home.id===playerId?match.away.id:match.home.id,_context2.next=6,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateOpponentCommand)(opponentId));case 6:case"end":return _context2.stop()}}),_callee2)})));case 8:case"end":return _context3.stop()}}),playerReadyPhase)})),phases_playerPhases=regeneratorRuntime.mark((function playerPhases(){return regeneratorRuntime.wrap((function playerPhases$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.d)(preparing_playerPreparingPhase),Object(redux_saga_effects_npm_proxy_esm.d)(ready_playerReadyPhase)]);case 2:case"end":return _context.stop()}}),playerPhases)})),setStatusOnQuit_setStatusOnQuit=regeneratorRuntime.mark((function setStatusOnQuit(){return regeneratorRuntime.wrap((function setStatusOnQuit$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.u)(playerActions.quitGamePlayerAction.toString());case 2:return _context.next=4,Object(redux_saga_effects_npm_proxy_esm.n)(Object(commands.updateStatusCommand)(models.s.QUIT));case 4:case"end":return _context.stop()}}),setStatusOnQuit)})),root_playerRootSaga=regeneratorRuntime.mark((function playerRootSaga(){return regeneratorRuntime.wrap((function playerRootSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.b)([Object(redux_saga_effects_npm_proxy_esm.d)(phases_playerPhases),Object(redux_saga_effects_npm_proxy_esm.d)(saga_playerActionsSaga),Object(redux_saga_effects_npm_proxy_esm.d)(evolution_evolutionSaga),Object(redux_saga_effects_npm_proxy_esm.d)(health_healthSaga),Object(redux_saga_effects_npm_proxy_esm.d)(xp.b),Object(redux_saga_effects_npm_proxy_esm.d)(fillBoard_fillBoard),Object(redux_saga_effects_npm_proxy_esm.d)(setStatusOnQuit_setStatusOnQuit),Object(redux_saga_effects_npm_proxy_esm.d)(battle_playerBattle),Object(redux_saga_effects_npm_proxy_esm.d)(features_featuresRootSaga)]);case 2:case"end":return _context.stop()}}),playerRootSaga)})),cardShop=__webpack_require__("../gamemode/src/entities/player/state/cardShop.ts"),playerInfo=__webpack_require__("../gamemode/src/entities/player/state/playerInfo/index.ts"),playerReducers={spectating:__webpack_require__("../gamemode/src/entities/player/state/spectating.ts").b,cardShop:cardShop.a,playerInfo:playerInfo.a};Object(engine.a)((function(_ref){var boardSlices=_ref.boardSlices;return{reducers:Object.assign({},playerReducers,{board:boardSlices.boardSlice.boardReducer,bench:boardSlices.benchSlice.boardReducer,roundInfo:roundInfo.b}),rootSaga:regeneratorRuntime.mark((function rootSaga(){return regeneratorRuntime.wrap((function rootSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.d)(root_playerRootSaga);case 2:case"end":return _context.stop()}}),rootSaga)}))}}))},"../gamemode/src/entities/player/sagas/xp.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addXpCommand})),__webpack_require__.d(__webpack_exports__,"b",(function(){return playerXpSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var redux_saga_effects__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../models/index.ts"),_dependencies__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../gamemode/src/entities/player/dependencies.ts"),_state_commands__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),_state_selectors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),addXpCommand=function addXpCommand(amount){return{type:"ADD_XP_COMMAND",payload:{amount:amount}}},playerXpSaga=regeneratorRuntime.mark((function playerXpSaga(){var _yield$getPlayerEntit,_yield$getPlayerEntit2,boardSlice,_yield$take,amount,level,xp,oldLevel,i,toNextLevel,newXp;return regeneratorRuntime.wrap((function playerXpSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(_dependencies__WEBPACK_IMPORTED_MODULE_6__.a)(),"t0",1);case 1:_yield$getPlayerEntit=_context.t0,_yield$getPlayerEntit2=_yield$getPlayerEntit.boardSlices,boardSlice=_yield$getPlayerEntit2.boardSlice,_yield$getPlayerEntit2.benchSlice;case 5:return _context.next=8,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_3__.u)("ADD_XP_COMMAND");case 8:return _yield$take=_context.sent,amount=_yield$take.payload.amount,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_4__.e)(_state_selectors__WEBPACK_IMPORTED_MODULE_8__.getPlayerLevel),"t1",11);case 11:return level=_context.t1,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_4__.e)(_state_selectors__WEBPACK_IMPORTED_MODULE_8__.getPlayerXp),"t2",13);case 13:for(xp=_context.t2,oldLevel=level,i=0;i<amount;i++)toNextLevel=Object(_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.J)(level),(newXp=xp+1)===toNextLevel?(xp=0,level++):xp=newXp;return _context.next=18,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_3__.n)(Object(_state_commands__WEBPACK_IMPORTED_MODULE_7__.updateLevelCommand)({level:level,xp:xp}));case 18:if(level===oldLevel){_context.next=25;break}return _context.next=21,Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_4__.e)((function(state){return state.roundInfo.phase===_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.k.PREPARING}));case 21:if(!_context.sent){_context.next=25;break}return _context.next=25,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_3__.n)(boardSlice.commands.setPieceLimitCommand(level));case 25:_context.next=5;break;case 27:case"end":return _context.stop()}}),playerXpSaga)}))},"../gamemode/src/entities/player/selectors.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getBoardSlice})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getBenchSlice}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var _shoki_engine__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../@shoki/engine/index.ts"),getBoardSlices=function getBoardSlices(){return Object(_shoki_engine__WEBPACK_IMPORTED_MODULE_3__.b)("boardSlices")},getBoardSlice=regeneratorRuntime.mark((function getBoardSlice(){var _yield$getBoardSlices,boardSlice;return regeneratorRuntime.wrap((function getBoardSlice$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(getBoardSlices(),"t0",1);case 1:return _yield$getBoardSlices=_context.t0,boardSlice=_yield$getBoardSlices.boardSlice,_context.abrupt("return",boardSlice);case 4:case"end":return _context.stop()}}),getBoardSlice)})),getBenchSlice=regeneratorRuntime.mark((function getBenchSlice(){var _yield$getBoardSlices2,benchSlice;return regeneratorRuntime.wrap((function getBenchSlice$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(getBoardSlices(),"t0",1);case 1:return _yield$getBoardSlices2=_context2.t0,benchSlice=_yield$getBoardSlices2.benchSlice,_context2.abrupt("return",benchSlice);case 4:case"end":return _context2.stop()}}),getBenchSlice)}))},"../gamemode/src/entities/player/state/cardShop.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return updateCardsCommand})),__webpack_require__.d(__webpack_exports__,"c",(function(){return updateShopLockCommand})),__webpack_require__.d(__webpack_exports__,"a",(function(){return cardShopReducer}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_createSlice=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.c)({name:"cards",initialState:{cards:[],locked:!1},reducers:{updateCardsCommand:function updateCardsCommand(state,_ref){var cards=_ref.payload;return Object.assign({},state,{cards:cards})},updateShopLockCommand:function updateShopLockCommand(state,_ref2){var locked=_ref2.payload;return Object.assign({},state,{locked:locked})}}}),actions=_createSlice.actions,cardShopReducer=_createSlice.reducer,updateCardsCommand=actions.updateCardsCommand,updateShopLockCommand=actions.updateShopLockCommand},"../gamemode/src/entities/player/state/commands.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"updateBattleCommand",(function(){return updateBattleCommand})),__webpack_require__.d(__webpack_exports__,"updateStreakCommand",(function(){return updateStreakCommand})),__webpack_require__.d(__webpack_exports__,"updateHealthCommand",(function(){return updateHealthCommand})),__webpack_require__.d(__webpack_exports__,"updateMoneyCommand",(function(){return updateMoneyCommand})),__webpack_require__.d(__webpack_exports__,"updateLevelCommand",(function(){return updateLevelCommand})),__webpack_require__.d(__webpack_exports__,"updateStatusCommand",(function(){return updateStatusCommand})),__webpack_require__.d(__webpack_exports__,"updateReadyCommand",(function(){return updateReadyCommand})),__webpack_require__.d(__webpack_exports__,"updateOpponentCommand",(function(){return updateOpponentCommand})),__webpack_require__.d(__webpack_exports__,"PlayerInfoUpdateCommandActionTypesArray",(function(){return PlayerInfoUpdateCommandActionTypesArray}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_cardShop__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../gamemode/src/entities/player/state/cardShop.ts");__webpack_require__.d(__webpack_exports__,"updateCardsCommand",(function(){return _cardShop__WEBPACK_IMPORTED_MODULE_4__.b})),__webpack_require__.d(__webpack_exports__,"updateShopLockCommand",(function(){return _cardShop__WEBPACK_IMPORTED_MODULE_4__.c}));var _spectating__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../gamemode/src/entities/player/state/spectating.ts");__webpack_require__.d(__webpack_exports__,"setSpectatingIdCommand",(function(){return _spectating__WEBPACK_IMPORTED_MODULE_5__.a}));var updateBattleCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateBattleCommand"),updateStreakCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateStreakCommand"),updateHealthCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateHealthCommand"),updateMoneyCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateMoneyCommand"),updateLevelCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateLevelCommand"),updateStatusCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateStatusCommand"),updateReadyCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateReadyCommand"),updateOpponentCommand=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("updateOpponentCommand"),PlayerInfoUpdateCommandActionTypesArray=[_spectating__WEBPACK_IMPORTED_MODULE_5__.a.toString(),_cardShop__WEBPACK_IMPORTED_MODULE_4__.b.toString(),_cardShop__WEBPACK_IMPORTED_MODULE_4__.c.toString(),updateMoneyCommand.toString(),updateLevelCommand.toString(),updateHealthCommand.toString(),updateOpponentCommand.toString()]},"../gamemode/src/entities/player/state/playerInfo/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return playerInfoReducer}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var models=__webpack_require__("../models/index.ts"),initialState={status:models.s.CONNECTED,health:models.w,streak:{type:models.z.WIN,amount:0},battle:null,matchRewards:null,opponentId:null,money:models.y,ready:!1,level:models.x,xp:0},playerInfoReducer=function playerInfoReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,command=arguments.length>1?arguments[1]:void 0;switch(command.type){case"playerMatchRewardsEvent":return Object.assign({},state,{matchRewards:command.payload});case"updateStatusCommand":return Object.assign({},state,{status:command.payload});case"updateReadyCommand":return Object.assign({},state,{ready:command.payload});case"updateOpponentCommand":return Object.assign({},state,{opponentId:command.payload});case"updateBattleCommand":return Object.assign({},state,{battle:command.payload});case"updateHealthCommand":return Object.assign({},state,{health:command.payload});case"updateStreakCommand":return Object.assign({},state,{streak:{amount:command.payload.amount,type:command.payload.type}});case"updateLevelCommand":return Object.assign({},state,{level:command.payload.level,xp:command.payload.xp});case"updateMoneyCommand":return Object.assign({},state,{money:command.payload});default:return state}}},"../gamemode/src/entities/player/state/selectors.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getPlayerBoard",(function(){return getPlayerBoard})),__webpack_require__.d(__webpack_exports__,"isPlayerBoardLocked",(function(){return isPlayerBoardLocked})),__webpack_require__.d(__webpack_exports__,"getPlayerBench",(function(){return getPlayerBench})),__webpack_require__.d(__webpack_exports__,"getPlayerMoney",(function(){return getPlayerMoney})),__webpack_require__.d(__webpack_exports__,"getPlayerHealth",(function(){return getPlayerHealth})),__webpack_require__.d(__webpack_exports__,"getPlayerLevel",(function(){return getPlayerLevel})),__webpack_require__.d(__webpack_exports__,"getPlayerXp",(function(){return getPlayerXp})),__webpack_require__.d(__webpack_exports__,"getPlayerBattle",(function(){return getPlayerBattle})),__webpack_require__.d(__webpack_exports__,"getPlayerStatus",(function(){return getPlayerStatus})),__webpack_require__.d(__webpack_exports__,"isNotQuit",(function(){return isNotQuit})),__webpack_require__.d(__webpack_exports__,"getPlayerStreak",(function(){return getPlayerStreak})),__webpack_require__.d(__webpack_exports__,"isPlayerReady",(function(){return isPlayerReady})),__webpack_require__.d(__webpack_exports__,"getOpponentId",(function(){return getOpponentId})),__webpack_require__.d(__webpack_exports__,"isPlayerAlive",(function(){return isPlayerAlive})),__webpack_require__.d(__webpack_exports__,"getPlayerCards",(function(){return getPlayerCards})),__webpack_require__.d(__webpack_exports__,"isPlayerShopLocked",(function(){return isPlayerShopLocked})),__webpack_require__.d(__webpack_exports__,"getAllPieceCount",(function(){return getAllPieceCount})),__webpack_require__.d(__webpack_exports__,"getPlayerBelowPieceLimit",(function(){return getPlayerBelowPieceLimit})),__webpack_require__.d(__webpack_exports__,"getMostExpensiveBenchPiece",(function(){return getMostExpensiveBenchPiece}));__webpack_require__("../../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.values.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js");var _shoki_board__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../@shoki/board/index.ts"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../models/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getPlayerBoard=function getPlayerBoard(state){return state.board},isPlayerBoardLocked=function isPlayerBoardLocked(state){return state.board.locked},getPlayerBench=function getPlayerBench(state){return state.bench},getPlayerMoney=function getPlayerMoney(state){return state.playerInfo.money},getPlayerHealth=function getPlayerHealth(state){return state.playerInfo.health},getPlayerLevel=function getPlayerLevel(state){return state.playerInfo.level},getPlayerXp=function getPlayerXp(state){return state.playerInfo.xp},getPlayerBattle=function getPlayerBattle(state){return state.playerInfo.battle},getPlayerStatus=function getPlayerStatus(state){return state.playerInfo.status},isNotQuit=function isNotQuit(state){return state.playerInfo.status!==_creature_chess_models__WEBPACK_IMPORTED_MODULE_16__.s.QUIT},getPlayerStreak=function getPlayerStreak(state){return state.playerInfo.streak},isPlayerReady=function isPlayerReady(state){return state.playerInfo.ready},getOpponentId=function getOpponentId(state){return state.playerInfo.opponentId},isPlayerAlive=function isPlayerAlive(state){return state.playerInfo.health>0},getPlayerCards=function getPlayerCards(state){return state.cardShop.cards},isPlayerShopLocked=function isPlayerShopLocked(state){return state.cardShop.locked},getAllPieceCount=function getAllPieceCount(state){return[].concat(_toConsumableArray(_shoki_board__WEBPACK_IMPORTED_MODULE_15__.a.getAllPieces(state.board)),_toConsumableArray(_shoki_board__WEBPACK_IMPORTED_MODULE_15__.a.getAllPieces(state.bench))).length},getPlayerBelowPieceLimit=function getPlayerBelowPieceLimit(state,playerId){return _shoki_board__WEBPACK_IMPORTED_MODULE_15__.a.getAllPieces(state.board).filter((function(p){return p.ownerId===playerId})).length<getPlayerLevel(state)},getMostExpensiveBenchPiece=function getMostExpensiveBenchPiece(state){var benchPieces=Object.values(state.bench.pieces);return benchPieces.length?(benchPieces.sort((function(a,b){return b.definition.cost-a.definition.cost})),benchPieces[0]):null}},"../gamemode/src/entities/player/state/spectating.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return setSpectatingIdCommand})),__webpack_require__.d(__webpack_exports__,"b",(function(){return spectatingReducer}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_createSlice=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.c)({name:"spectating",initialState:{id:null},reducers:{setSpectatingIdCommand:function setSpectatingIdCommand(state,_ref){var id=_ref.payload;return Object.assign({},state,{id:id})}}}),actions=_createSlice.actions,spectatingReducer=_createSlice.reducer,setSpectatingIdCommand=actions.setSpectatingIdCommand},"../gamemode/src/features/match/selectors.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getMatch})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getMatches}));__webpack_require__("../../../node_modules/core-js/modules/es.string.match.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var typed_redux_saga__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_shoki_engine__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../@shoki/engine/index.ts"),getMatch=function getMatch(){return Object(_shoki_engine__WEBPACK_IMPORTED_MODULE_7__.c)((function(variables){return variables.match}))},getMatches=regeneratorRuntime.mark((function getMatches(players){var promises;return regeneratorRuntime.wrap((function getMatches$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return promises=players.map((function(p){return p.runSaga(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(getMatch(),"t0",1);case 1:return _context.abrupt("return",_context.t0);case 2:case"end":return _context.stop()}}),_callee)}))).toPromise()})),_context2.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_6__.a)(promises),"t0",2);case 2:return _context2.abrupt("return",_context2.t0);case 3:case"end":return _context2.stop()}}),getMatches)}))},"../gamemode/src/game/events.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return gamePhaseStartedEvent})),__webpack_require__.d(__webpack_exports__,"a",(function(){return gameFinishEvent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return playerListChangedEvent})),__webpack_require__.d(__webpack_exports__,"e",(function(){return playerRunPreparingPhaseEvent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return playerBeforeReadyPhaseEvent})),__webpack_require__.d(__webpack_exports__,"f",(function(){return playerRunReadyPhaseEvent}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),gamePhaseStartedEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("gamePhaseStartedEvent"),gameFinishEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("gameFinishEvent"),playerListChangedEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerListChangedEvent"),playerRunPreparingPhaseEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerRunPreparingPhaseEvent"),playerBeforeReadyPhaseEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerBeforeReadyPhaseEvent"),playerRunReadyPhaseEvent=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.b)("playerRunReadyPhaseEvent");gameFinishEvent.toString(),gamePhaseStartedEvent.toString(),playerListChangedEvent.toString()},"../gamemode/src/game/gameLoop/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return gameLoop_gameLoopSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js");var redux_saga_effects_esm=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),delay=(__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.now.js"),__webpack_require__("../../../node_modules/core-js/modules/es.set.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/delay/index.js")),delay_default=__webpack_require__.n(delay),p_defer=__webpack_require__("../../../node_modules/p-defer/index.js"),p_defer_default=__webpack_require__.n(p_defer),es=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),models=__webpack_require__("../models/index.ts"),player_events=__webpack_require__("../gamemode/src/entities/player/events.ts"),selectors=__webpack_require__("../gamemode/src/features/match/selectors.ts"),roundInfo=__webpack_require__("../gamemode/src/game/roundInfo/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var playing_waitForFinishMatchSaga=regeneratorRuntime.mark((function waitForFinishMatchSaga(){return regeneratorRuntime.wrap((function waitForFinishMatchSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(es.f)(player_events.e.toString()),"t0",1);case 1:case"end":return _context.stop()}}),waitForFinishMatchSaga)})),playing_runPlayingPhase=regeneratorRuntime.mark((function runPlayingPhase(){var options,players,battleTimeoutDeferred,phase,startedAt,livingPlayers,matches,uniqueMatches,finishMatchTasks;return regeneratorRuntime.wrap((function runPlayingPhase$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(es.c)("options"),"t0",1);case 1:return options=_context2.t0,_context2.delegateYield(Object(es.c)("players"),"t1",3);case 3:return players=_context2.t1,battleTimeoutDeferred=p_defer_default()(),phase=models.k.PLAYING,delay_default()(1e3*options.phaseLengths[models.k.PLAYING]).then((function(){return battleTimeoutDeferred.resolve()})),startedAt=Date.now()/1e3,_context2.next=10,Object(es.d)(roundInfo.a.setRoundInfoCommand({phase:phase,startedAt:startedAt}));case 10:return livingPlayers=players.getLiving(),_context2.delegateYield(Object(es.b)(selectors.b,livingPlayers),"t2",12);case 12:return matches=_context2.t2,uniqueMatches=_toConsumableArray(new Set(matches.filter((function(match){return null!==match})))),finishMatchTasks=livingPlayers.map((function(p){return p.runSaga(playing_waitForFinishMatchSaga)})),uniqueMatches.forEach((function(m){return m.fight(battleTimeoutDeferred.promise)})),_context2.next=18,Promise.all(finishMatchTasks.map((function(t){return t.toPromise()})));case 18:return _context2.next=20,delay_default()(5e3);case 20:case"end":return _context2.stop()}}),runPlayingPhase)})),game_events=__webpack_require__("../gamemode/src/game/events.ts"),redux_saga_effects_npm_proxy_esm=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),state_selectors=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),playerActions=__webpack_require__("../gamemode/src/playerActions/index.ts"),playerPropertyUpdates=__webpack_require__("../gamemode/src/game/playerPropertyUpdates.ts"),events_events=(__webpack_require__("../../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../../node_modules/events/events.js")),limitedQueue_limitedQueue=function limitedQueue(size){var events=new events_events.EventEmitter,items=[];return{clear:function clear(){return items=[]},isFull:function isFull(){return items.length===size},onReachLimit:function onReachLimit(fn){return events.on("reachLimit",fn)},add:function add(item){if(items.length===size){if(items.includes(item))return;throw Error("Limit "+size+" reached")}items.push(item),function checkFull(){items.length===size&&events.emit("reachLimit")}()},dispose:function dispose(){return events.removeAllListeners()}}},readyNotifier_readyNotifier=function readyNotifier(livingPlayers){var queue=limitedQueue_limitedQueue(livingPlayers.length),disposePlayerFns=livingPlayers.map((function(player){var disposeReady=Object(playerPropertyUpdates.a)(player,{ready:function ready(_ready){_ready&&queue.add(player.id)}}),watchQuitTask=player.runSaga(regeneratorRuntime.mark((function _callee(){var isAlive,isReady;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.u)(playerActions.quitGamePlayerAction.toString());case 2:return _context.delegateYield(Object(es.e)(state_selectors.isPlayerAlive),"t0",3);case 3:return isAlive=_context.t0,_context.delegateYield(Object(es.e)(state_selectors.isPlayerReady),"t1",5);case 5:isReady=_context.t1,isAlive&&!isReady&&queue.add(player.id);case 7:case"end":return _context.stop()}}),_callee)})));return function(){disposeReady(),watchQuitTask.cancel()}})),deferred=function deferLimitedQueue(queue){var deferred=p_defer_default()();return queue.onReachLimit((function(){deferred.resolve(),queue.dispose()})),{promise:deferred.promise,dispose:queue.dispose}}(queue);return{promise:deferred.promise,dispose:function dispose(){disposePlayerFns.forEach((function(fn){return fn()})),deferred.dispose()}}},preparing_runPreparingPhase=regeneratorRuntime.mark((function runPreparingPhase(){var options,players,round,phase,startedAt,notifier;return regeneratorRuntime.wrap((function runPreparingPhase$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_esm.l)("options");case 2:return options=_context.sent,_context.next=5,Object(redux_saga_effects_esm.l)("players");case 5:return players=_context.sent,_context.next=8,Object(redux_saga_effects_esm.r)((function(state){return state.roundInfo.round}));case 8:return round=_context.sent,phase=models.k.PREPARING,startedAt=Date.now()/1e3,_context.next=13,Object(redux_saga_effects_esm.n)(roundInfo.a.setRoundInfoCommand({phase:phase,startedAt:startedAt,round:round+1}));case 13:return players.getLiving().forEach((function(p){return p.put(Object(game_events.e)())})),notifier=readyNotifier_readyNotifier(players.getLiving()),_context.next=17,Object(redux_saga_effects_esm.p)([notifier.promise,Object(redux_saga_effects_esm.i)(1e3*options.phaseLengths[models.k.PREPARING])]);case 17:notifier.dispose();case 18:case"end":return _context.stop()}}),runPreparingPhase)})),game_match=__webpack_require__("../gamemode/src/game/match.ts"),ready_runReadyPhase=regeneratorRuntime.mark((function runReadyPhase(){var options,players,getMatchups,logger,phase,startedAt;return regeneratorRuntime.wrap((function runReadyPhase$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.l)("options");case 2:return options=_context.sent,_context.next=5,Object(redux_saga_effects_npm_proxy_esm.l)("players");case 5:return players=_context.sent,_context.next=8,Object(redux_saga_effects_npm_proxy_esm.l)("getMatchups");case 8:return getMatchups=_context.sent,_context.next=11,Object(redux_saga_effects_npm_proxy_esm.l)("logger");case 11:return logger=_context.sent,players.getAll().forEach((function(p){return p.put(Object(game_events.c)())})),_context.next=15,Object(redux_saga_effects_npm_proxy_esm.i)(500);case 15:return getMatchups().forEach((function(_ref){var homeId=_ref.homeId,awayId=_ref.awayId,awayIsClone=_ref.awayIsClone,homePlayer=players.getById(homeId),awayPlayer=players.getById(awayId);if(homePlayer&&awayPlayer){var match=new game_match.a(homePlayer,awayPlayer,awayIsClone,logger,options);homePlayer.put(Object(game_events.f)({match:match})),awayIsClone||awayPlayer.put(Object(game_events.f)({match:match}))}})),phase=models.k.READY,startedAt=Date.now()/1e3,_context.next=21,Object(redux_saga_effects_npm_proxy_esm.n)(roundInfo.a.setRoundInfoCommand({phase:phase,startedAt:startedAt}));case 21:return _context.next=23,Object(redux_saga_effects_npm_proxy_esm.i)(1e3*options.phaseLengths[models.k.READY]);case 23:case"end":return _context.stop()}}),runReadyPhase)})),gameLoop_gameLoopSaga=regeneratorRuntime.mark((function gameLoopSaga(){var players,logger,winner;return regeneratorRuntime.wrap((function gameLoopSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_esm.l)("players");case 2:return players=_context.sent,_context.next=5,Object(redux_saga_effects_esm.l)("logger");case 5:logger=_context.sent;case 6:return _context.next=9,Object(redux_saga_effects_esm.d)(preparing_runPreparingPhase);case 9:return _context.next=11,Object(redux_saga_effects_esm.d)(ready_runReadyPhase);case 11:return _context.next=13,Object(redux_saga_effects_esm.d)(playing_runPlayingPhase);case 13:if(!(players.getLiving().length<2)){_context.next=15;break}return _context.abrupt("break",17);case 15:_context.next=6;break;case 17:return winner=players.getLiving()[0],logger.info("Game finished, won by "+winner.getVariable((function(v){return v.name}))),_context.abrupt("return",{winnerId:winner.id});case 20:case"end":return _context.stop()}}),gameLoopSaga)}))},"../gamemode/src/game/match.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Match}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),delay__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../../node_modules/delay/index.js"),delay__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(delay__WEBPACK_IMPORTED_MODULE_20__),p_defer__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../../node_modules/p-defer/index.js"),p_defer__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(p_defer__WEBPACK_IMPORTED_MODULE_21__),redux__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../../node_modules/redux/es/redux.js"),redux_saga__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../../node_modules/uuid/dist/esm-browser/v4.js"),_shoki_board__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../../@shoki/board/index.ts"),_creature_chess_battle__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../battle/index.ts"),_creature_chess_battle_src_events__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("../battle/src/events.ts"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("../models/index.ts"),_entities_player__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("../gamemode/src/entities/player/index.ts"),_entities_player_events__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("../gamemode/src/entities/player/events.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var turnReducer=function turnReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,event=arguments.length>1?arguments[1]:void 0;return event.type===_creature_chess_battle_src_events__WEBPACK_IMPORTED_MODULE_28__.battleTurnEvent.toString()?event.payload.turn:state},Match=function(){function Match(home,away,awayIsClone,logger,gameOptions){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Match),this.store=void 0,this.finalBoard=void 0,this.boardId=Object(uuid__WEBPACK_IMPORTED_MODULE_25__.a)(),this.board=Object(_shoki_board__WEBPACK_IMPORTED_MODULE_26__.b)(this.boardId,_creature_chess_models__WEBPACK_IMPORTED_MODULE_29__.j),this.serverFinishedMatch=p_defer__WEBPACK_IMPORTED_MODULE_21___default()(),this.clientFinishedMatchHome=p_defer__WEBPACK_IMPORTED_MODULE_21___default()(),this.clientFinishedMatchAway=p_defer__WEBPACK_IMPORTED_MODULE_21___default()(),this.store=this.createStore(gameOptions);var mergedBoard=Object(_shoki_board__WEBPACK_IMPORTED_MODULE_26__.d)(this.boardId,home.select(_entities_player__WEBPACK_IMPORTED_MODULE_30__.b.getPlayerBoard),away.select(_entities_player__WEBPACK_IMPORTED_MODULE_30__.b.getPlayerBoard)),board=Object.assign({},mergedBoard,{pieces:Object.entries(mergedBoard.pieces).reduce((function(acc,_ref){var _Object$assign,_ref2=_slicedToArray(_ref,2),id=_ref2[0],piece=_ref2[1];return Object.assign({},acc,((_Object$assign={})[id]=Object.assign({},piece,{facingAway:piece.ownerId===home.id}),_Object$assign))}),{})});this.store.dispatch(this.board.commands.setBoardPiecesCommand(board)),awayIsClone&&this.clientFinishedMatchAway.resolve()}var _fight;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Match,[{key:"onClientFinishMatch",value:function onClientFinishMatch(playerId){playerId===this.home.id?this.clientFinishedMatchHome.resolve():playerId===this.away.id&&this.clientFinishedMatchAway.resolve()}},{key:"getBoardForPlayer",value:function getBoardForPlayer(playerId){var board=this.store.getState().board;if(playerId===this.away.id){var rotatedBoard=Object(_shoki_board__WEBPACK_IMPORTED_MODULE_26__.e)(board);return Object.assign({},rotatedBoard,{pieces:Object.entries(rotatedBoard.pieces).reduce((function(acc,_ref3){var _Object$assign2,_ref4=_slicedToArray(_ref3,2),id=_ref4[0],piece=_ref4[1];return Object.assign({},acc,((_Object$assign2={})[id]=Object.assign({},piece,{facingAway:!piece.facingAway}),_Object$assign2))}),{})})}return board}},{key:"getTurn",value:function getTurn(){return this.store.getState().turn}},{key:"getFinalBoard",value:function getFinalBoard(){return this.finalBoard}},{key:"fight",value:(_fight=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(battleTimeout){var survivingPieces,surviving,homeScore,awayScore,_this2=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.store.dispatch(_creature_chess_battle__WEBPACK_IMPORTED_MODULE_27__.a.startBattleCommand({})),_context.next=3,Promise.race([battleTimeout,Promise.all([this.serverFinishedMatch.promise,this.clientFinishedMatchHome.promise,this.clientFinishedMatchAway.promise])]);case 3:return _context.next=5,delay__WEBPACK_IMPORTED_MODULE_20___default()(500);case 5:return this.finalBoard=this.store.getState().board,survivingPieces=_shoki_board__WEBPACK_IMPORTED_MODULE_26__.a.getAllPieces(this.finalBoard).filter((function(p){return p.currentHealth>0})),surviving={home:survivingPieces.filter((function(p){return p.ownerId===_this2.home.id})),away:survivingPieces.filter((function(p){return p.ownerId===_this2.away.id}))},homeScore=surviving.home.length,awayScore=surviving.away.length,this.home.put(Object(_entities_player_events__WEBPACK_IMPORTED_MODULE_31__.e)({homeScore:homeScore,awayScore:awayScore,isHomePlayer:!0})),this.awayIsClone||this.away.put(Object(_entities_player_events__WEBPACK_IMPORTED_MODULE_31__.e)({homeScore:homeScore,awayScore:awayScore,isHomePlayer:!1})),_context.abrupt("return",this.finalBoard);case 13:case"end":return _context.stop()}}),_callee,this)}))),function fight(_x){return _fight.apply(this,arguments)})},{key:"createStore",value:function createStore(gameOptions){var _this=this,rootSaga=regeneratorRuntime.mark((function rootSaga(){return regeneratorRuntime.wrap((function rootSaga$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_19__.b)([Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_24__.d)(_creature_chess_battle__WEBPACK_IMPORTED_MODULE_27__.c,(function(state){return state.board}),gameOptions,_this.board),Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_19__.v)(_creature_chess_battle__WEBPACK_IMPORTED_MODULE_27__.b.battleFinishEvent,regeneratorRuntime.mark((function _callee2(_ref5){var turn;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:turn=_ref5.payload.turn,_this.onServerFinishMatch(),_this.logger.info("Battle finished",{meta:{home:_this.home.getVariable((function(v){return v.name})),away:_this.away.getVariable((function(v){return v.name})),turns:turn}});case 3:case"end":return _context2.stop()}}),_callee2)}))),Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_19__.w)(_creature_chess_battle__WEBPACK_IMPORTED_MODULE_27__.b.battleTurnEvent,regeneratorRuntime.mark((function _callee3(_ref6){var board;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return board=_ref6.payload.board,_context3.next=3,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_19__.n)(_this.board.commands.setBoardPiecesCommand({pieces:board.pieces,piecePositions:board.piecePositions,size:void 0}));case 3:case"end":return _context3.stop()}}),_callee3)})))]);case 2:case"end":return _context4.stop()}}),rootSaga)})),sagaMiddleware=Object(redux_saga__WEBPACK_IMPORTED_MODULE_23__.a)(),store=Object(redux__WEBPACK_IMPORTED_MODULE_22__.d)(Object(redux__WEBPACK_IMPORTED_MODULE_22__.b)({board:this.board.boardReducer,turn:turnReducer}),Object(redux__WEBPACK_IMPORTED_MODULE_22__.a)(sagaMiddleware));return sagaMiddleware.run(rootSaga),store}},{key:"onServerFinishMatch",value:function onServerFinishMatch(){this.serverFinishedMatch.resolve()}}]),Match}()},"../gamemode/src/game/playerPropertyUpdates.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return listenForPropertyUpdates}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_entities_player__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../gamemode/src/entities/player/index.ts"),listenForPropertyUpdates=function listenForPropertyUpdates(player,_ref){var emitHealth=_ref.health,emitStreak=_ref.streak,emitStatus=_ref.status,emitBattle=_ref.battle,emitReady=_ref.ready,saga=player.runSaga(regeneratorRuntime.mark((function _callee6(){var sagas,initialHealth,initialStreak,initialStatus,initialBattle,initialReady;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(sagas=[],!emitHealth){_context6.next=6;break}return _context6.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__.e)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.b.getPlayerHealth),"t0",3);case 3:initialHealth=_context6.t0,emitHealth(initialHealth),sagas.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__.w)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.a.updateHealthCommand.toString(),regeneratorRuntime.mark((function _callee(_ref2){var health;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:health=_ref2.payload,emitHealth(health);case 2:case"end":return _context.stop()}}),_callee)}))));case 6:if(!emitStreak){_context6.next=11;break}return _context6.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__.e)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.b.getPlayerStreak),"t1",8);case 8:initialStreak=_context6.t1,emitStreak(initialStreak),sagas.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__.w)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.a.updateStreakCommand.toString(),regeneratorRuntime.mark((function _callee2(_ref3){var streak;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:streak=_ref3.payload,emitStreak(streak);case 2:case"end":return _context2.stop()}}),_callee2)}))));case 11:if(!emitStatus){_context6.next=16;break}return _context6.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__.e)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.b.getPlayerStatus),"t2",13);case 13:initialStatus=_context6.t2,emitStatus(initialStatus),sagas.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__.w)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.a.updateStatusCommand.toString(),regeneratorRuntime.mark((function _callee3(_ref4){var status;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:status=_ref4.payload,emitStatus(status);case 2:case"end":return _context3.stop()}}),_callee3)}))));case 16:if(!emitBattle){_context6.next=21;break}return _context6.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__.e)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.b.getPlayerBattle),"t3",18);case 18:initialBattle=_context6.t3,emitBattle(initialBattle),sagas.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__.w)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.a.updateBattleCommand.toString(),regeneratorRuntime.mark((function _callee4(_ref5){var battle;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:battle=_ref5.payload,emitBattle(battle);case 2:case"end":return _context4.stop()}}),_callee4)}))));case 21:if(!emitReady){_context6.next=26;break}return _context6.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__.e)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.b.isPlayerReady),"t4",23);case 23:initialReady=_context6.t4,emitReady(initialReady),sagas.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__.w)(_entities_player__WEBPACK_IMPORTED_MODULE_8__.a.updateReadyCommand.toString(),regeneratorRuntime.mark((function _callee5(_ref6){var ready;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:ready=_ref6.payload,emitReady(ready);case 2:case"end":return _context5.stop()}}),_callee5)}))));case 26:return _context6.next=28,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_6__.b)(sagas);case 28:case"end":return _context6.stop()}}),_callee6)})));return function(){return saga.cancel()}}},"../gamemode/src/game/roundInfo/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RoundInfoCommands})),__webpack_require__.d(__webpack_exports__,"b",(function(){return reducer}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var redux_toolkit_esm=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_createSlice=Object(redux_toolkit_esm.c)({name:"roundInfo",initialState:{round:null,phase:null,phaseStartedAtSeconds:null},reducers:{setRoundInfoCommand:function setRoundInfoCommand(state,command){return command.payload.round?Object.assign({},state,{phase:command.payload.phase,phaseStartedAtSeconds:Math.floor(command.payload.startedAt),round:command.payload.round}):Object.assign({},state,{phase:command.payload.phase,phaseStartedAtSeconds:Math.floor(command.payload.startedAt)})}}}),reducer=_createSlice.reducer,RoundInfoCommands={setRoundInfoCommand:_createSlice.actions.setRoundInfoCommand}},"../gamemode/src/game/sagas.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",(function(){return gameSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_events__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../gamemode/src/game/events.ts"),_gameLoop__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../gamemode/src/game/gameLoop/index.ts"),startStopwatch=function startStopwatch(){return process.hrtime()},stopwatch=function stopwatch(start){var end=process.hrtime(start);return Math.round(1e3*end[0]+end[1]/1e6)},gameSaga=regeneratorRuntime.mark((function gameSaga(){var players,logger,startTime,_yield$call,winnerId,duration,round;return regeneratorRuntime.wrap((function gameSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.l)("players");case 2:return players=_context.sent,_context.next=5,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.l)("logger");case 5:return(logger=_context.sent).info("Game started with "+players.getAll().length+" players: "+players.getAll().map((function(p){return p.getVariable((function(v){return v.name}))})).join(", ")),_context.next=9,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.i)(100);case 9:return startTime=startStopwatch(),_context.next=12,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.d)(_gameLoop__WEBPACK_IMPORTED_MODULE_9__.a);case 12:return _yield$call=_context.sent,winnerId=_yield$call.winnerId,duration=stopwatch(startTime),_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_7__.e)((function(state){return state.roundInfo.round})),"t0",16);case 16:return round=_context.t0,logger.info("Match complete in "+duration+" ms ("+round+" rounds)"),_context.next=20,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.n)(Object(_events__WEBPACK_IMPORTED_MODULE_8__.a)({winnerId:winnerId}));case 20:case"end":return _context.stop()}}),gameSaga)}))}).call(this,__webpack_require__("../../../node_modules/process/browser.js"))},"../gamemode/src/player/pieceSelectors.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getPiece})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getAllPieces})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getPiecesForDefinition}));__webpack_require__("../../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js");var _shoki_board__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../@shoki/board/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getPiece=function getPiece(state,pieceId){return _shoki_board__WEBPACK_IMPORTED_MODULE_13__.a.getPiece(state.board,pieceId)||_shoki_board__WEBPACK_IMPORTED_MODULE_13__.a.getPiece(state.bench,pieceId)||null},getAllPieces=function getAllPieces(state,filter){var allPieces=[].concat(_toConsumableArray(_shoki_board__WEBPACK_IMPORTED_MODULE_13__.a.getAllPieces(state.board)),_toConsumableArray(_shoki_board__WEBPACK_IMPORTED_MODULE_13__.a.getAllPieces(state.bench)));return filter?allPieces.filter(filter):allPieces},getPiecesForDefinition=function getPiecesForDefinition(state,definitionId){return _shoki_board__WEBPACK_IMPORTED_MODULE_13__.a.getAllPieces(state).filter((function(p){return p.definitionId===definitionId}))}},"../gamemode/src/playerActions/buyCard.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return buyCardPlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return buyCardPlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js");var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),uuid__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/uuid/dist/esm-browser/v4.js"),_shoki_board__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../@shoki/board/index.ts"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../models/index.ts"),_definitions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../gamemode/src/definitions/index.ts"),_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../gamemode/src/entities/player/dependencies.ts"),_entities_player_selectors__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../gamemode/src/entities/player/selectors.ts"),_entities_player_state_cardShop__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../gamemode/src/entities/player/state/cardShop.ts"),_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),getCardDestination=function getCardDestination(state,playerId,sortPositions){var belowPieceLimit=Object(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_18__.getPlayerBelowPieceLimit)(state,playerId),inPreparingPhase=state.roundInfo.phase===_creature_chess_models__WEBPACK_IMPORTED_MODULE_12__.k.PREPARING;if(belowPieceLimit&&inPreparingPhase){var boardSlot=_shoki_board__WEBPACK_IMPORTED_MODULE_11__.a.getFirstEmptySlot(state.board,sortPositions);if(boardSlot)return{type:"board",location:boardSlot}}var benchSlot=_shoki_board__WEBPACK_IMPORTED_MODULE_11__.a.getFirstEmptySlot(state.bench,_shoki_board__WEBPACK_IMPORTED_MODULE_11__.f);return null!==benchSlot?{type:"bench",location:benchSlot}:null},createPieceFromCard=function createPieceFromCard(ownerId,card){var id=card.id,definitionId=card.definitionId,definition=Object(_definitions__WEBPACK_IMPORTED_MODULE_13__.b)(definitionId);if(!definition)return null;var stats=definition.stages[0];return{id:id||Object(uuid__WEBPACK_IMPORTED_MODULE_10__.a)(),ownerId:ownerId,definitionId:definitionId,definition:definition,facingAway:!1,maxHealth:stats.hp,currentHealth:stats.hp,stage:0}},buyCardPlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_8__.b)("buyCardPlayerAction"),buyCardPlayerActionSaga=regeneratorRuntime.mark((function buyCardPlayerActionSaga(){var _loop,_ret;return regeneratorRuntime.wrap((function buyCardPlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_loop=regeneratorRuntime.mark((function _loop(){var playerId,name,_yield$getPlayerEntit,logger,boardSlice,benchSlice,action,index,sortPositions,cards,money,card,destination,piece,remainingCards,_destination$location,x,y;return regeneratorRuntime.wrap((function _loop$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.c)("id"),"t0",1);case 1:return playerId=_context.t0,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.c)("playerName"),"t1",3);case 3:return name=_context.t1,_context.delegateYield(Object(_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_14__.a)(),"t2",5);case 5:return _yield$getPlayerEntit=_context.t2,logger=_yield$getPlayerEntit.logger,_context.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_15__.b)(),"t3",8);case 8:return boardSlice=_context.t3,_context.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_15__.a)(),"t4",10);case 10:return benchSlice=_context.t4,_context.next=13,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.u)(buyCardPlayerAction.toString());case 13:return action=_context.sent,index=action.payload.index,sortPositions=action.payload.sortPositions||void 0,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_18__.getPlayerCards),"t5",17);case 17:return cards=_context.t5,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_18__.getPlayerMoney),"t6",19);case 19:if(money=_context.t6,card=cards[index]){_context.next=28;break}return logger.warn("Player attempted to buy null/undefined card",{actor:{playerId:playerId,name:name}}),_context.next=25,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_17__.updateMoneyCommand)(money));case 25:return _context.next=27,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_cardShop__WEBPACK_IMPORTED_MODULE_16__.b)(cards));case 27:case 34:return _context.abrupt("return","continue");case 28:if(!(money<card.cost)){_context.next=35;break}return logger.warn("Not enough money to buy card",{actor:{playerId:playerId,name:name},details:{index:index}}),_context.next=32,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_17__.updateMoneyCommand)(money));case 32:return _context.next=34,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_cardShop__WEBPACK_IMPORTED_MODULE_16__.b)(cards));case 35:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)((function(state){return getCardDestination(state,playerId,sortPositions)})),"t7",36);case 36:if(null!==(destination=_context.t7)){_context.next=40;break}return logger.warn("Player attempted to buy a card but has no available destination",{actor:{playerId:playerId,name:name}}),_context.abrupt("return","continue");case 40:if(piece=createPieceFromCard(playerId,card)){_context.next=43;break}return _context.abrupt("return",{v:void 0});case 43:if(remainingCards=cards.map((function(c){return c===card?null:c})),"board"!==destination.type){_context.next=50;break}return _destination$location=destination.location,x=_destination$location.x,y=_destination$location.y,_context.next=48,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(boardSlice.commands.addBoardPieceCommand({piece:piece,x:x,y:y}));case 48:_context.next=53;break;case 50:if("bench"!==destination.type){_context.next=53;break}return _context.next=53,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(benchSlice.commands.addBoardPieceCommand({piece:piece,x:destination.location.x,y:0}));case 53:return _context.next=55,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_17__.updateMoneyCommand)(money-card.cost));case 55:return _context.next=57,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_cardShop__WEBPACK_IMPORTED_MODULE_16__.b)(remainingCards));case 57:case"end":return _context.stop()}}),_loop)}));case 1:return _context2.delegateYield(_loop(),"t0",3);case 3:if("continue"!==(_ret=_context2.t0)){_context2.next=6;break}return _context2.abrupt("continue",1);case 6:if("object"!=typeof _ret){_context2.next=8;break}return _context2.abrupt("return",_ret.v);case 8:_context2.next=1;break;case 10:case"end":return _context2.stop()}}),buyCardPlayerActionSaga)}))},"../gamemode/src/playerActions/buyXp.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return buyXpPlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return buyXpPlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../models/index.ts"),_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../gamemode/src/entities/player/dependencies.ts"),_entities_player_sagas_xp__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../gamemode/src/entities/player/sagas/xp.ts"),_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),buyXpPlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__.b)("buyXpPlayerAction"),buyXpPlayerActionSaga=regeneratorRuntime.mark((function buyXpPlayerActionSaga(){var playerId,name,_yield$getPlayerEntit,logger,money;return regeneratorRuntime.wrap((function buyXpPlayerActionSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.c)("id"),"t0",2);case 2:return playerId=_context.t0,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.c)("playerName"),"t1",4);case 4:return name=_context.t1,_context.delegateYield(Object(_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_10__.a)(),"t2",6);case 6:return _yield$getPlayerEntit=_context.t2,logger=_yield$getPlayerEntit.logger,_context.next=10,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.u)(buyXpPlayerAction.toString());case 10:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.e)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_13__.isPlayerAlive),"t3",11);case 11:if(!1!==_context.t3){_context.next=15;break}return logger.info("Player attempted to buy xp, but dead",{actor:{playerId:playerId,name:name}}),_context.abrupt("continue",0);case 15:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.e)((function(state){return state.playerInfo.level})),"t4",16);case 16:if(_context.t4!==_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.p){_context.next=20;break}return logger.info("Player attempted to buy xp, but at max level",{actor:{playerId:playerId,name:name}}),_context.abrupt("continue",0);case 20:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.e)((function(state){return state.playerInfo.money})),"t5",21);case 21:if(!((money=_context.t5)<_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.d)){_context.next=27;break}return logger.info("Not enough money to buy xp",{actor:{playerId:playerId,name:name},details:{money:money,cost:_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.d}}),_context.next=26,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_12__.updateMoneyCommand)(money));case 26:return _context.abrupt("continue",0);case 27:return _context.next=29,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.n)(Object(_entities_player_sagas_xp__WEBPACK_IMPORTED_MODULE_11__.a)(_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.c));case 29:return _context.next=31,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_12__.updateMoneyCommand)(money-_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.d));case 31:_context.next=0;break;case 33:case"end":return _context.stop()}}),buyXpPlayerActionSaga)}))},"../gamemode/src/playerActions/dropPiece.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return findPiece})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isLocationLocked})),__webpack_require__.d(__webpack_exports__,"b",(function(){return dropPiecePlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return dropPiecePlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_shoki_board__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../@shoki/board/index.ts"),_entities_player_selectors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../gamemode/src/entities/player/selectors.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),findPiece=function findPiece(state,location){if("board"===location.type){var _location$location=location.location,x=_location$location.x,y=_location$location.y;return _shoki_board__WEBPACK_IMPORTED_MODULE_10__.a.getPieceForPosition(state.board,x,y)}if("bench"===location.type){var _x=location.location.x;return _shoki_board__WEBPACK_IMPORTED_MODULE_10__.a.getPieceForPosition(state.bench,_x,0)}return null},isLocationLocked=function isLocationLocked(state,location){return"board"===location.type?state.board.locked:"bench"!==location.type||state.bench.locked},dropPiecePlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__.b)("dropPiecePlayerAction"),dropPiecePlayerActionSaga=regeneratorRuntime.mark((function dropPiecePlayerActionSaga(){var boardSlice,benchSlice;return regeneratorRuntime.wrap((function dropPiecePlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_11__.b)(),"t0",1);case 1:return boardSlice=_context2.t0,_context2.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_11__.a)(),"t1",3);case 3:return benchSlice=_context2.t1,_context2.next=6,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.v)(dropPiecePlayerAction.toString(),regeneratorRuntime.mark((function _callee(_ref){var _ref$payload,from,pieceId,to,playerId,state,fromPiece,fromBench,toBench,_to$location,x,y;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _ref$payload=_ref.payload,from=_ref$payload.from,pieceId=_ref$payload.pieceId,to=_ref$payload.to,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.c)("id"),"t0",2);case 2:return playerId=_context.t0,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)((function(s){return s})),"t1",4);case 4:if(state=_context.t1,!isLocationLocked(state,from)&&!isLocationLocked(state,to)){_context.next=7;break}return _context.abrupt("return");case 7:if(null!==(fromPiece=findPiece(state,from))&&fromPiece.id===pieceId){_context.next=10;break}return _context.abrupt("return");case 10:if(null===findPiece(state,to)){_context.next=13;break}return _context.abrupt("return");case 13:if("board"!==to.type||"board"===from.type){_context.next=17;break}if(Object(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_12__.getPlayerBelowPieceLimit)(state,playerId)){_context.next=17;break}return _context.abrupt("return");case 17:if("board"!==from.type||"board"!==to.type){_context.next=22;break}return _context.next=20,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.moveBoardPieceCommand({pieceId:pieceId,from:from.location,to:to.location}));case 20:case 27:case 34:_context.next=42;break;case 22:if("bench"!==from.type||"bench"!==to.type){_context.next=29;break}return fromBench={x:from.location.x,y:0},toBench={x:to.location.x,y:0},_context.next=27,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.moveBoardPieceCommand({pieceId:pieceId,from:fromBench,to:toBench}));case 29:if("board"!==from.type||"bench"!==to.type){_context.next=36;break}return _context.next=32,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.removeBoardPiecesCommand([pieceId]));case 32:return _context.next=34,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.addBoardPieceCommand({piece:Object.assign({},fromPiece,{facingAway:!1}),x:to.location.x,y:0}));case 36:if("bench"!==from.type||"board"!==to.type){_context.next=42;break}return _context.next=39,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.removeBoardPiecesCommand([pieceId]));case 39:return _to$location=to.location,x=_to$location.x,y=_to$location.y,_context.next=42,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.addBoardPieceCommand({piece:Object.assign({},fromPiece,{facingAway:!0}),x:x,y:y}));case 42:case"end":return _context.stop()}}),_callee)})));case 6:case"end":return _context2.stop()}}),dropPiecePlayerActionSaga)}))},"../gamemode/src/playerActions/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BuyCardPlayerAction",(function(){return buyCard.BuyCardPlayerAction})),__webpack_require__.d(__webpack_exports__,"buyCardPlayerAction",(function(){return buyCard.b})),__webpack_require__.d(__webpack_exports__,"BuyXpPlayerAction",(function(){return buyXp.BuyXpPlayerAction})),__webpack_require__.d(__webpack_exports__,"buyXpPlayerAction",(function(){return buyXp.b})),__webpack_require__.d(__webpack_exports__,"RerollCardsPlayerAction",(function(){return rerollCards.RerollCardsPlayerAction})),__webpack_require__.d(__webpack_exports__,"rerollCardsPlayerAction",(function(){return rerollCards.b})),__webpack_require__.d(__webpack_exports__,"ToggleShopLockPlayerAction",(function(){return toggleShopLock.ToggleShopLockPlayerAction})),__webpack_require__.d(__webpack_exports__,"toggleShopLockPlayerAction",(function(){return toggleShopLock.b})),__webpack_require__.d(__webpack_exports__,"SellPiecePlayerAction",(function(){return sellPiece.SellPiecePlayerAction})),__webpack_require__.d(__webpack_exports__,"sellPiecePlayerAction",(function(){return sellPiece.b})),__webpack_require__.d(__webpack_exports__,"ReadyUpPlayerAction",(function(){return readyUp.ReadyUpPlayerAction})),__webpack_require__.d(__webpack_exports__,"readyUpPlayerAction",(function(){return readyUp.b})),__webpack_require__.d(__webpack_exports__,"QuitGamePlayerAction",(function(){})),__webpack_require__.d(__webpack_exports__,"quitGamePlayerAction",(function(){return quitGamePlayerAction})),__webpack_require__.d(__webpack_exports__,"DropPiecePlayerAction",(function(){return dropPiece.DropPiecePlayerAction})),__webpack_require__.d(__webpack_exports__,"dropPiecePlayerAction",(function(){return dropPiece.b})),__webpack_require__.d(__webpack_exports__,"SwapPiecePlayerAction",(function(){return swapPiece.SwapPiecePlayerAction})),__webpack_require__.d(__webpack_exports__,"swapPiecePlayerAction",(function(){return swapPiece.b})),__webpack_require__.d(__webpack_exports__,"SpectatePlayerAction",(function(){return spectate.SpectatePlayerAction})),__webpack_require__.d(__webpack_exports__,"spectatePlayerAction",(function(){return spectate.b})),__webpack_require__.d(__webpack_exports__,"QuickChatPlayerAction",(function(){return quickChat.QuickChatPlayerAction})),__webpack_require__.d(__webpack_exports__,"quickChatPlayerAction",(function(){return quickChat.b})),__webpack_require__.d(__webpack_exports__,"PlayerActionTypesArray",(function(){return PlayerActionTypesArray}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var buyCard=__webpack_require__("../gamemode/src/playerActions/buyCard.ts"),buyXp=__webpack_require__("../gamemode/src/playerActions/buyXp.ts"),dropPiece=__webpack_require__("../gamemode/src/playerActions/dropPiece.ts"),quickChat=__webpack_require__("../gamemode/src/playerActions/quickChat.ts"),redux_toolkit_esm=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),quitGamePlayerAction=Object(redux_toolkit_esm.b)("quitGamePlayerAction"),readyUp=__webpack_require__("../gamemode/src/playerActions/readyUp.ts"),rerollCards=__webpack_require__("../gamemode/src/playerActions/rerollCards.ts"),sellPiece=__webpack_require__("../gamemode/src/playerActions/sellPiece.ts"),spectate=__webpack_require__("../gamemode/src/playerActions/spectate.ts"),swapPiece=__webpack_require__("../gamemode/src/playerActions/swapPiece.ts"),toggleShopLock=__webpack_require__("../gamemode/src/playerActions/toggleShopLock.ts"),PlayerActionTypesArray=[buyXp.b.toString(),buyCard.b.toString(),rerollCards.b.toString(),toggleShopLock.b.toString(),sellPiece.b.toString(),readyUp.b.toString(),quitGamePlayerAction.toString(),dropPiece.b.toString(),spectate.b.toString(),quickChat.b.toString(),spectate.b.toString()]},"../gamemode/src/playerActions/quickChat.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return quickChatPlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return quickChatPlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),_shoki_engine__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../@shoki/engine/index.ts"),_entities_player_events__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../gamemode/src/entities/player/events.ts"),quickChatPlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__.b)("quickChatAction"),quickChatPlayerActionSaga=regeneratorRuntime.mark((function quickChatPlayerActionSaga(){return regeneratorRuntime.wrap((function quickChatPlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_6__.w)(quickChatPlayerAction.toString(),regeneratorRuntime.mark((function _callee(_ref){var _ref$payload,sendingPlayerId,chatValue,game,player,opponentId,opponent;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_ref$payload=_ref.payload,sendingPlayerId=_ref$payload.sendingPlayerId,chatValue=_ref$payload.chatValue,null!==sendingPlayerId&&null!==chatValue){_context.next=3;break}return _context.abrupt("return");case 3:return _context.delegateYield(Object(_shoki_engine__WEBPACK_IMPORTED_MODULE_9__.b)("gamemode"),"t0",4);case 4:return game=_context.t0,player=game.getPlayerById(sendingPlayerId),_context.next=8,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.r)((function(state){return state.playerInfo.opponentId}));case 8:if(opponentId=_context.sent,(opponent=game.getPlayerById(opponentId))&&player){_context.next=12;break}return _context.abrupt("return");case 12:opponent.put(Object(_entities_player_events__WEBPACK_IMPORTED_MODULE_10__.g)({sendingPlayerId:sendingPlayerId,chatValue:chatValue})),player.put(Object(_entities_player_events__WEBPACK_IMPORTED_MODULE_10__.g)({sendingPlayerId:sendingPlayerId,chatValue:chatValue}));case 14:case"end":return _context.stop()}}),_callee)})));case 2:case"end":return _context2.stop()}}),quickChatPlayerActionSaga)}))},"../gamemode/src/playerActions/readyUp.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return readyUpPlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return readyUpPlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_shoki_engine__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../@shoki/engine/index.ts"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../models/index.ts"),_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../gamemode/src/entities/player/dependencies.ts"),_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),readyUpPlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__.b)("readyUpPlayerAction"),readyUpPlayerActionSaga=regeneratorRuntime.mark((function readyUpPlayerActionSaga(){return regeneratorRuntime.wrap((function readyUpPlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.w)(readyUpPlayerAction.toString(),regeneratorRuntime.mark((function _callee(){var name,_yield$getPlayerEntit,logger;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(_shoki_engine__WEBPACK_IMPORTED_MODULE_10__.c)((function(variables){return variables.name})),"t0",1);case 1:return name=_context.t0,_context.delegateYield(Object(_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_12__.a)(),"t1",3);case 3:return _yield$getPlayerEntit=_context.t1,logger=_yield$getPlayerEntit.logger,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_14__.isPlayerAlive),"t2",6);case 6:if(!1!==_context.t2){_context.next=10;break}return logger.info("Attempted to ready up, but dead",{actor:{name:name}}),_context.abrupt("return");case 10:return _context.delegateYield(Object(_shoki_engine__WEBPACK_IMPORTED_MODULE_10__.b)("gamemode"),"t3",11);case 11:if(_context.t3.getRoundInfo().phase===_creature_chess_models__WEBPACK_IMPORTED_MODULE_11__.k.PREPARING){_context.next=15;break}return logger.info("Attempted to ready up, but not in preparing phase",{actor:{name:name}}),_context.abrupt("return");case 15:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_14__.isPlayerReady),"t4",16);case 16:if(!_context.t4){_context.next=20;break}return logger.info("Attempted to ready up, but already ready",{actor:{name:name}}),_context.abrupt("return");case 20:return _context.next=22,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_13__.updateReadyCommand)(!0));case 22:case"end":return _context.stop()}}),_callee)})));case 2:case"end":return _context2.stop()}}),readyUpPlayerActionSaga)}))},"../gamemode/src/playerActions/rerollCards.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return rerollCardsPlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rerollCardsPlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../models/index.ts"),_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../gamemode/src/entities/player/dependencies.ts"),_entities_player_events__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../gamemode/src/entities/player/events.ts"),_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),rerollCardsPlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("rerollCardsPlayerAction"),rerollCardsPlayerActionSaga=regeneratorRuntime.mark((function rerollCardsPlayerActionSaga(){return regeneratorRuntime.wrap((function rerollCardsPlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.v)(rerollCardsPlayerAction.toString(),regeneratorRuntime.mark((function _callee(){var _yield$getPlayerEntit,logger,money;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(_entities_player_dependencies__WEBPACK_IMPORTED_MODULE_10__.a)(),"t0",1);case 1:return _yield$getPlayerEntit=_context.t0,logger=_yield$getPlayerEntit.logger,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.e)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_13__.isPlayerAlive),"t1",4);case 4:if(!1!==_context.t1){_context.next=8;break}return logger.info("Attempted to reroll, but dead"),_context.abrupt("return");case 8:return _context.next=10,Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_8__.e)((function(state){return state.playerInfo.money}));case 10:if(!((money=_context.sent)<_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.v)){_context.next=14;break}return logger.info("Attempted to reroll costing $"+_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.v+" but only had $"+money),_context.abrupt("return");case 14:return _context.next=16,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_12__.updateMoneyCommand)(money-_creature_chess_models__WEBPACK_IMPORTED_MODULE_9__.v));case 16:return _context.next=18,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_events__WEBPACK_IMPORTED_MODULE_11__.a)());case 18:case"end":return _context.stop()}}),_callee)})));case 2:case"end":return _context2.stop()}}),rerollCardsPlayerActionSaga)}))},"../gamemode/src/playerActions/sellPiece.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return sellPiecePlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return sellPiecePlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),_entities_player_events__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../gamemode/src/entities/player/events.ts"),_entities_player_selectors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../gamemode/src/entities/player/selectors.ts"),_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../gamemode/src/entities/player/state/commands.ts"),_player_pieceSelectors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../gamemode/src/player/pieceSelectors.ts"),sellPiecePlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("sellPiecePlayerAction"),PIECES_FOR_STAGE=[1,3,9],sellPiecePlayerActionSaga=regeneratorRuntime.mark((function sellPiecePlayerActionSaga(){var boardSlice,benchSlice;return regeneratorRuntime.wrap((function sellPiecePlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_9__.b)(),"t0",1);case 1:return boardSlice=_context2.t0,_context2.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_9__.a)(),"t1",3);case 3:return benchSlice=_context2.t1,_context2.next=6,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.v)(sellPiecePlayerAction.toString(),regeneratorRuntime.mark((function _callee(_ref){var pieceId,piece,piecesUsed,pieceCost,currentMoney;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return pieceId=_ref.payload.pieceId,_context.next=3,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.r)((function(state){return Object(_player_pieceSelectors__WEBPACK_IMPORTED_MODULE_11__.b)(state,pieceId)}));case 3:if(piece=_context.sent){_context.next=6;break}return _context.abrupt("return");case 6:return piecesUsed=PIECES_FOR_STAGE[piece.stage],pieceCost=piece.definition.cost,_context.next=10,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.r)((function(state){return state.playerInfo.money}));case 10:return currentMoney=_context.sent,_context.next=13,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_commands__WEBPACK_IMPORTED_MODULE_10__.updateMoneyCommand)(currentMoney+pieceCost*piecesUsed));case 13:return _context.next=15,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(benchSlice.commands.removeBoardPiecesCommand([pieceId]));case 15:return _context.next=17,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(boardSlice.commands.removeBoardPiecesCommand([pieceId]));case 17:return _context.next=19,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_events__WEBPACK_IMPORTED_MODULE_8__.b)({piece:piece}));case 19:case"end":return _context.stop()}}),_callee)})));case 6:case"end":return _context2.stop()}}),sellPiecePlayerActionSaga)}))},"../gamemode/src/playerActions/spectate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return spectatePlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return spectatePlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),_shoki_engine__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../@shoki/engine/index.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),_entities_player_state_spectating__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../gamemode/src/entities/player/state/spectating.ts"),spectatePlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_6__.b)("spectatePlayerAction"),spectatePlayerActionSaga=regeneratorRuntime.mark((function spectatePlayerActionSaga(){return regeneratorRuntime.wrap((function spectatePlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.w)(spectatePlayerAction.toString(),regeneratorRuntime.mark((function _callee(_ref){var playerId,game,other;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null!==(playerId=_ref.payload.playerId)){_context.next=5;break}return _context.next=4,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_spectating__WEBPACK_IMPORTED_MODULE_10__.a)(null));case 4:return _context.abrupt("return");case 5:return _context.delegateYield(Object(_shoki_engine__WEBPACK_IMPORTED_MODULE_8__.b)("gamemode"),"t0",6);case 6:if(game=_context.t0,(other=game.getPlayerById(playerId))&&other.select(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_9__.isPlayerAlive)){_context.next=10;break}return _context.abrupt("return");case 10:return _context.next=12,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_7__.n)(Object(_entities_player_state_spectating__WEBPACK_IMPORTED_MODULE_10__.a)(playerId));case 12:case"end":return _context.stop()}}),_callee)})));case 2:case"end":return _context2.stop()}}),spectatePlayerActionSaga)}))},"../gamemode/src/playerActions/swapPiece.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return swapPiecePlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return swapPiecePlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js"),typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/typed-redux-saga/dist/es/index.js"),_entities_player_selectors__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../gamemode/src/entities/player/selectors.ts"),_dropPiece__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../gamemode/src/playerActions/dropPiece.ts"),swapPiecePlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__.b)("swapPiecePlayerAction"),swapPiecePlayerActionSaga=regeneratorRuntime.mark((function swapPiecePlayerActionSaga(){var boardSlice,benchSlice,_yield$take,_yield$take$payload,pieceAId,pieceALocation,pieceBId,pieceBLocation,state,pieceA,pieceB;return regeneratorRuntime.wrap((function swapPiecePlayerActionSaga$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_10__.b)(),"t0",1);case 1:return boardSlice=_context.t0,_context.delegateYield(Object(_entities_player_selectors__WEBPACK_IMPORTED_MODULE_10__.a)(),"t1",3);case 3:benchSlice=_context.t1;case 4:return _context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.f)(swapPiecePlayerAction.toString()),"t2",6);case 6:return _yield$take=_context.t2,_yield$take$payload=_yield$take.payload,pieceAId=_yield$take$payload.pieceAId,pieceALocation=_yield$take$payload.pieceALocation,pieceBId=_yield$take$payload.pieceBId,pieceBLocation=_yield$take$payload.pieceBLocation,_context.delegateYield(Object(typed_redux_saga__WEBPACK_IMPORTED_MODULE_9__.e)((function(s){return s})),"t3",13);case 13:if(state=_context.t3,!Object(_dropPiece__WEBPACK_IMPORTED_MODULE_11__.e)(state,pieceALocation)&&!Object(_dropPiece__WEBPACK_IMPORTED_MODULE_11__.e)(state,pieceBLocation)){_context.next=16;break}return _context.abrupt("continue",4);case 16:if((pieceA=Object(_dropPiece__WEBPACK_IMPORTED_MODULE_11__.d)(state,pieceALocation))&&pieceA.id===pieceAId){_context.next=19;break}return _context.abrupt("continue",4);case 19:if((pieceB=Object(_dropPiece__WEBPACK_IMPORTED_MODULE_11__.d)(state,pieceBLocation))&&pieceB.id===pieceBId){_context.next=22;break}return _context.abrupt("continue",4);case 22:if("board"!==pieceALocation.type||"board"!==pieceBLocation.type){_context.next=27;break}return _context.next=25,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.swapPiecesCommand({aId:pieceAId,bId:pieceBId}));case 25:_context.next=52;break;case 27:if("bench"!==pieceALocation.type||"bench"!==pieceBLocation.type){_context.next=32;break}return _context.next=30,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.swapPiecesCommand({aId:pieceAId,bId:pieceBId}));case 30:_context.next=52;break;case 32:if("board"!==pieceALocation.type||"bench"!==pieceBLocation.type){_context.next=43;break}return _context.next=35,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.removeBoardPiecesCommand([pieceAId]));case 35:return _context.next=37,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.removeBoardPiecesCommand([pieceBId]));case 37:return _context.next=39,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.addBoardPieceCommand({piece:Object.assign({},pieceB,{facingAway:!1}),x:pieceALocation.location.x,y:pieceALocation.location.y}));case 39:return _context.next=41,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.addBoardPieceCommand({piece:Object.assign({},pieceA,{facingAway:!1}),x:pieceBLocation.location.x,y:0}));case 41:_context.next=52;break;case 43:if("bench"!==pieceALocation.type||"board"!==pieceBLocation.type){_context.next=52;break}return _context.next=46,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.removeBoardPiecesCommand([pieceBId]));case 46:return _context.next=48,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.removeBoardPiecesCommand([pieceAId]));case 48:return _context.next=50,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(boardSlice.commands.addBoardPieceCommand({piece:Object.assign({},pieceA,{facingAway:!1}),x:pieceBLocation.location.x,y:pieceBLocation.location.y}));case 50:return _context.next=52,Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_8__.n)(benchSlice.commands.addBoardPieceCommand({piece:Object.assign({},pieceB,{facingAway:!1}),x:pieceALocation.location.x,y:0}));case 52:_context.next=4;break;case 54:case"end":return _context.stop()}}),swapPiecePlayerActionSaga)}))},"../gamemode/src/playerActions/toggleShopLock.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return toggleShopLockPlayerAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return toggleShopLockPlayerActionSaga}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js");var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_entities_player_state_cardShop__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../gamemode/src/entities/player/state/cardShop.ts"),_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../gamemode/src/entities/player/state/selectors.ts"),toggleShopLockPlayerAction=Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__.b)("toggleShopLockPlayerAction"),toggleShopLockPlayerActionSaga=regeneratorRuntime.mark((function toggleShopLockPlayerActionSaga(){return regeneratorRuntime.wrap((function toggleShopLockPlayerActionSaga$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_3__.v)(toggleShopLockPlayerAction.toString(),regeneratorRuntime.mark((function _callee(){var currentLockState;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_3__.r)(_entities_player_state_selectors__WEBPACK_IMPORTED_MODULE_6__.isPlayerShopLocked);case 2:return currentLockState=_context.sent,_context.next=5,Object(_redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_3__.n)(Object(_entities_player_state_cardShop__WEBPACK_IMPORTED_MODULE_5__.c)(!currentLockState));case 5:case"end":return _context.stop()}}),_callee)})));case 2:case"end":return _context2.stop()}}),toggleShopLockPlayerActionSaga)}))},"../models/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"s",(function(){return PlayerStatus})),__webpack_require__.d(__webpack_exports__,"r",(function(){return PlayerBattleStatus})),__webpack_require__.d(__webpack_exports__,"K",(function(){return inProgressBattle})),__webpack_require__.d(__webpack_exports__,"E",(function(){return finishedBattle})),__webpack_require__.d(__webpack_exports__,"z",(function(){return StreakType})),__webpack_require__.d(__webpack_exports__,"f",(function(){return constants_namespaceObject})),__webpack_require__.d(__webpack_exports__,"j",(function(){return GRID_SIZE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return BENCH_SLOT_COUNT})),__webpack_require__.d(__webpack_exports__,"v",(function(){return REROLL_COST})),__webpack_require__.d(__webpack_exports__,"y",(function(){return STARTING_MONEY})),__webpack_require__.d(__webpack_exports__,"x",(function(){return STARTING_LEVEL})),__webpack_require__.d(__webpack_exports__,"w",(function(){return STARTING_HEALTH})),__webpack_require__.d(__webpack_exports__,"p",(function(){return MAX_PLAYER_LEVEL})),__webpack_require__.d(__webpack_exports__,"l",(function(){return HEALTH_LOST_PER_PIECE})),__webpack_require__.d(__webpack_exports__,"d",(function(){return BUY_XP_COST})),__webpack_require__.d(__webpack_exports__,"c",(function(){return BUY_XP_AMOUNT})),__webpack_require__.d(__webpack_exports__,"q",(function(){return PIECES_TO_EVOLVE})),__webpack_require__.d(__webpack_exports__,"n",(function(){return MAX_NAME_LENGTH})),__webpack_require__.d(__webpack_exports__,"o",(function(){return MAX_PLAYERS_IN_GAME})),__webpack_require__.d(__webpack_exports__,"m",(function(){return LOBBY_WAIT_TIME})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AVAILABLE_PROFILE_PICTURES})),__webpack_require__.d(__webpack_exports__,"L",(function(){return nickname_validateNicknameFormat})),__webpack_require__.d(__webpack_exports__,"k",(function(){return GamePhase})),__webpack_require__.d(__webpack_exports__,"t",(function(){return PlayerTitle})),__webpack_require__.d(__webpack_exports__,"A",(function(){return TITLES})),__webpack_require__.d(__webpack_exports__,"i",(function(){return Directions})),__webpack_require__.d(__webpack_exports__,"C",(function(){return createTileCoordinates})),__webpack_require__.d(__webpack_exports__,"G",(function(){return getDistance})),__webpack_require__.d(__webpack_exports__,"F",(function(){return getDelta})),__webpack_require__.d(__webpack_exports__,"I",(function(){return getRelativeDirection})),__webpack_require__.d(__webpack_exports__,"B",(function(){return attackTypes})),__webpack_require__.d(__webpack_exports__,"h",(function(){return DefinitionClass})),__webpack_require__.d(__webpack_exports__,"g",(function(){return CreatureType})),__webpack_require__.d(__webpack_exports__,"H",(function(){return getOptions})),__webpack_require__.d(__webpack_exports__,"D",(function(){return defaultOptions})),__webpack_require__.d(__webpack_exports__,"J",(function(){return getXpToNextLevel_getXpToNextLevel})),__webpack_require__.d(__webpack_exports__,"u",(function(){return QuickChatOption})),__webpack_require__.d(__webpack_exports__,"e",(function(){return builders_namespaceObject}));var constants_namespaceObject={};__webpack_require__.r(constants_namespaceObject),__webpack_require__.d(constants_namespaceObject,"GRID_SIZE",(function(){return GRID_SIZE})),__webpack_require__.d(constants_namespaceObject,"BENCH_SLOT_COUNT",(function(){return BENCH_SLOT_COUNT})),__webpack_require__.d(constants_namespaceObject,"PHASE_LENGTHS",(function(){return PHASE_LENGTHS})),__webpack_require__.d(constants_namespaceObject,"REROLL_COST",(function(){return REROLL_COST})),__webpack_require__.d(constants_namespaceObject,"STARTING_MONEY",(function(){return STARTING_MONEY})),__webpack_require__.d(constants_namespaceObject,"STARTING_LEVEL",(function(){return STARTING_LEVEL})),__webpack_require__.d(constants_namespaceObject,"STARTING_HEALTH",(function(){return STARTING_HEALTH})),__webpack_require__.d(constants_namespaceObject,"MAX_PLAYER_LEVEL",(function(){return MAX_PLAYER_LEVEL})),__webpack_require__.d(constants_namespaceObject,"HEALTH_LOST_PER_PIECE",(function(){return HEALTH_LOST_PER_PIECE})),__webpack_require__.d(constants_namespaceObject,"BUY_XP_COST",(function(){return BUY_XP_COST})),__webpack_require__.d(constants_namespaceObject,"BUY_XP_AMOUNT",(function(){return BUY_XP_AMOUNT})),__webpack_require__.d(constants_namespaceObject,"PIECES_TO_EVOLVE",(function(){return PIECES_TO_EVOLVE})),__webpack_require__.d(constants_namespaceObject,"DEFAULT_TURN_COUNT",(function(){return DEFAULT_TURN_COUNT})),__webpack_require__.d(constants_namespaceObject,"DEFAULT_TURN_DURATION",(function(){return DEFAULT_TURN_DURATION})),__webpack_require__.d(constants_namespaceObject,"MAX_NAME_LENGTH",(function(){return MAX_NAME_LENGTH})),__webpack_require__.d(constants_namespaceObject,"MAX_PLAYERS_IN_GAME",(function(){return MAX_PLAYERS_IN_GAME})),__webpack_require__.d(constants_namespaceObject,"LOBBY_WAIT_TIME",(function(){return LOBBY_WAIT_TIME})),__webpack_require__.d(constants_namespaceObject,"AVAILABLE_PROFILE_PICTURES",(function(){return AVAILABLE_PROFILE_PICTURES}));var GamePhase,_PHASE_LENGTHS,builders_namespaceObject={};__webpack_require__.r(builders_namespaceObject),__webpack_require__.d(builders_namespaceObject,"buildDefinition",(function(){return builders_buildDefinition})),__webpack_require__.d(builders_namespaceObject,"buildPieceModel",(function(){return buildPieceModel})),__webpack_require__.d(builders_namespaceObject,"buildCard",(function(){return builders_buildCard})),function(GamePhase){GamePhase[GamePhase.PREPARING=0]="PREPARING",GamePhase[GamePhase.READY=1]="READY",GamePhase[GamePhase.PLAYING=2]="PLAYING"}(GamePhase||(GamePhase={}));var PlayerBattleStatus,PlayerStatus,GRID_SIZE={width:7,height:6},BENCH_SLOT_COUNT=9,PHASE_LENGTHS=((_PHASE_LENGTHS={})[GamePhase.PREPARING]=30,_PHASE_LENGTHS[GamePhase.READY]=5,_PHASE_LENGTHS[GamePhase.PLAYING]=30,_PHASE_LENGTHS),REROLL_COST=2,STARTING_MONEY=3,STARTING_LEVEL=1,STARTING_HEALTH=100,MAX_PLAYER_LEVEL=10,HEALTH_LOST_PER_PIECE=3,BUY_XP_COST=5,BUY_XP_AMOUNT=4,PIECES_TO_EVOLVE=3,DEFAULT_TURN_COUNT=300,DEFAULT_TURN_DURATION=100,MAX_NAME_LENGTH=16,MAX_PLAYERS_IN_GAME=8,LOBBY_WAIT_TIME=60,AVAILABLE_PROFILE_PICTURES={1:"Budaye",4:"Aardorn",5:"Nut",7:"Embra",8:"Tweesher"};!function(PlayerBattleStatus){PlayerBattleStatus[PlayerBattleStatus.IN_PROGRESS=0]="IN_PROGRESS",PlayerBattleStatus[PlayerBattleStatus.FINISHED=1]="FINISHED"}(PlayerBattleStatus||(PlayerBattleStatus={})),function(PlayerStatus){PlayerStatus[PlayerStatus.CONNECTED=0]="CONNECTED",PlayerStatus[PlayerStatus.DEAD=1]="DEAD",PlayerStatus[PlayerStatus.QUIT=2]="QUIT"}(PlayerStatus||(PlayerStatus={}));var StreakType,inProgressBattle=function inProgressBattle(opponentId){return{status:PlayerBattleStatus.IN_PROGRESS,opponentId:opponentId}},finishedBattle=function finishedBattle(opponentId,isHomePlayer,homeScore,awayScore){return{status:PlayerBattleStatus.FINISHED,opponentId:opponentId,isHomePlayer:isHomePlayer,homeScore:homeScore,awayScore:awayScore}};!function(StreakType){StreakType[StreakType.WIN=0]="WIN",StreakType[StreakType.LOSS=1]="LOSS"}(StreakType||(StreakType={}));__webpack_require__("../models/src/playerPieceLocation.ts"),__webpack_require__("../../../node_modules/core-js/modules/es.string.match.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.exec.js");var _TITLES,PlayerTitle,NAME_REGEX=/^[a-zA-Z0-9\ ]*$/,nickname_validateNicknameFormat=function validateNicknameFormat(nickname){return!nickname||!nickname.length||nickname.length<4?"Nickname must be at least 4 characters long":nickname.length>MAX_NAME_LENGTH?"Name too long":null===nickname.match(NAME_REGEX)?"Invalid characters in name":null};!function(PlayerTitle){PlayerTitle[PlayerTitle.Developer=1]="Developer",PlayerTitle[PlayerTitle.Contributor=2]="Contributor",PlayerTitle[PlayerTitle.HallOfFame=3]="HallOfFame"}(PlayerTitle||(PlayerTitle={}));var TileType,DefinitionClass,TITLES=((_TITLES={})[PlayerTitle.Developer]={text:"Developer"},_TITLES[PlayerTitle.Contributor]={text:"Contributor"},_TITLES[PlayerTitle.HallOfFame]={text:"Hall of Fame"},_TITLES),createTileCoordinates=(__webpack_require__("../models/src/user.ts"),function createTileCoordinates(x,y){return{x:x,y:y}}),getDelta=function getDelta(a,b){return{x:Math.abs(a.x-b.x),y:Math.abs(a.y-b.y)}},getDistance=function getDistance(a,b){var _getDelta=getDelta(a,b);return _getDelta.x+_getDelta.y},Directions={UP:{x:0,y:-1},RIGHT:{x:1,y:0},DOWN:{x:0,y:1},LEFT:{x:-1,y:0}},getRelativeDirection=function getRelativeDirection(from,to){return from.x<to.x?Directions.RIGHT:from.x>to.x?Directions.LEFT:from.y<to.y?Directions.DOWN:from.y>to.y?Directions.UP:{x:0,y:0}};!function(TileType){TileType[TileType.BOARD=0]="BOARD",TileType[TileType.BENCH=1]="BENCH"}(TileType||(TileType={})),function(DefinitionClass){DefinitionClass.VALIANT="Valiant",DefinitionClass.ARCANE="Arcane",DefinitionClass.CUNNING="Cunning"}(DefinitionClass||(DefinitionClass={}));var CreatureType,attackTypes={basic:{name:"basic",range:1},shoot:{name:"shoot",range:2}};!function(CreatureType){CreatureType.Wood="Wood",CreatureType.Earth="Earth",CreatureType.Water="Water",CreatureType.Fire="Fire",CreatureType.Metal="Metal"}(CreatureType||(CreatureType={}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var QuickChatOption,defaultOptions={phaseLengths:PHASE_LENGTHS,turnCount:DEFAULT_TURN_COUNT,turnDuration:DEFAULT_TURN_DURATION},getOptions=function getOptions(options){return Object.assign({},defaultOptions,options)},XP_TO_NEXT_LEVEL=[1,1,2,4,8,13,18,24,30],getXpToNextLevel_getXpToNextLevel=function getXpToNextLevel(level){if(level===MAX_PLAYER_LEVEL)return 0;var result=XP_TO_NEXT_LEVEL[level-1];return void 0===result?0:result};!function(QuickChatOption){QuickChatOption.GL="GL",QuickChatOption.HAPPY="ðŸ˜ƒ",QuickChatOption.SHOCKED="ðŸ˜±",QuickChatOption.ANGRY="ðŸ˜ "}(QuickChatOption||(QuickChatOption={}));var builders_buildDefinition=function buildDefinition(){var definition=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({id:1,name:"Creature",type:CreatureType.Earth,class:DefinitionClass.ARCANE,cost:1,stages:[]},definition)},buildPieceModel=function buildPieceModel(){var piece=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({id:"123",ownerId:"abc",definitionId:1,definition:builders_buildDefinition(),facingAway:!1,maxHealth:100,currentHealth:100,stage:0},piece)},builders_buildCard=function buildCard(){var card=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({id:"123",name:"Card",definitionId:1,type:CreatureType.Metal,class:DefinitionClass.ARCANE,cost:1},card)}},"../models/src/playerPieceLocation.ts":function(module,exports){},"../models/src/user.ts":function(module,exports){},"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("../../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("../../../node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./gameBoard/GameBoard.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Portrait_HalfBoard",(function(){return Portrait_HalfBoard})),__webpack_require__.d(__webpack_exports__,"Portrait_FullBoard",(function(){return Portrait_FullBoard})),__webpack_require__.d(__webpack_exports__,"Landscape_HalfBoard",(function(){return Landscape_HalfBoard})),__webpack_require__.d(__webpack_exports__,"Landscape_FullBoard",(function(){return Landscape_FullBoard})),__webpack_require__.d(__webpack_exports__,"Square_HalfBoard",(function(){return Square_HalfBoard})),__webpack_require__.d(__webpack_exports__,"Square_FullBoard",(function(){return Square_FullBoard}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _shoki_board__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../@shoki/board/index.ts"),_shoki_board_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../@shoki/board-react/index.ts"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../models/index.ts"),_piece__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./piece/index.ts"),_GameBoard__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./gameBoard/GameBoard.tsx"),_GameBoardContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./gameBoard/GameBoardContext.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / GameBoard",component:_GameBoard__WEBPACK_IMPORTED_MODULE_7__.a,argTypes:{onClick:{action:"onClick"},onDropPiece:{action:"onDropPiece"}}};var renderPiece=function renderPiece(piece){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_piece__WEBPACK_IMPORTED_MODULE_6__.c,{value:{piece:piece,viewingPlayerId:piece.ownerId},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_piece__WEBPACK_IMPORTED_MODULE_6__.b,{healthbar:"none"})})};renderPiece.displayName="renderPiece";var Template=function Template(args){var _context$board$pieces,context={board:Object(_shoki_board__WEBPACK_IMPORTED_MODULE_3__.c)("board",{width:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.width,height:args.boardHeight}),bench:Object(_shoki_board__WEBPACK_IMPORTED_MODULE_3__.c)("bench",{width:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.width,height:1})},piece=_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.e.buildPieceModel();return context.board.pieces=((_context$board$pieces={})[piece.id]=piece,_context$board$pieces),context.board.piecePositions={"4,4":piece.id},Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_shoki_board_react__WEBPACK_IMPORTED_MODULE_4__.DndProvider,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{style:{width:args.width,height:args.height,border:"2px solid red"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_GameBoardContext__WEBPACK_IMPORTED_MODULE_8__.a,{value:context,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_GameBoard__WEBPACK_IMPORTED_MODULE_7__.a,{renderBoardPiece:renderPiece,renderBenchPiece:renderPiece,onClick:args.onClick,onDropPiece:args.onDropPiece})})})})};Template.displayName="Template";var Portrait_HalfBoard=Template.bind({});Portrait_HalfBoard.args={width:"300px",height:"500px",boardHeight:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.height/2};var Portrait_FullBoard=Template.bind({});Portrait_FullBoard.args={width:"300px",height:"500px",boardHeight:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.height};var Landscape_HalfBoard=Template.bind({});Landscape_HalfBoard.args={width:"500px",height:"300px",boardHeight:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.height/2};var Landscape_FullBoard=Template.bind({});Landscape_FullBoard.args={width:"500px",height:"300px",boardHeight:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.height};var Square_HalfBoard=Template.bind({});Square_HalfBoard.args={width:"400px",height:"400px",boardHeight:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.height/2};var Square_FullBoard=Template.bind({});Square_FullBoard.args={width:"400px",height:"400px",boardHeight:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.j.height},Portrait_HalfBoard.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst context = {\n\t\tboard: createInitialBoardState<PieceModel>("board", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: args.boardHeight,\n\t\t}),\n\t\tbench: createInitialBoardState<PieceModel>("bench", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: 1,\n\t\t}),\n\t};\n\n\tconst piece = Builders.buildPieceModel();\n\n\tcontext.board.pieces = {\n\t\t[piece.id]: piece,\n\t};\n\n\tcontext.board.piecePositions = {\n\t\t"4,4": piece.id,\n\t};\n\n\treturn (\n\t\t<DndProvider>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: args.width,\n\t\t\t\t\theight: args.height,\n\t\t\t\t\tborder: "2px solid red",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GameBoardContextProvider value={context}>\n\t\t\t\t\t<GameBoard\n\t\t\t\t\t\trenderBoardPiece={renderPiece}\n\t\t\t\t\t\trenderBenchPiece={renderPiece}\n\t\t\t\t\t\tonClick={args.onClick}\n\t\t\t\t\t\tonDropPiece={args.onDropPiece}\n\t\t\t\t\t/>\n\t\t\t\t</GameBoardContextProvider>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}'}},Portrait_HalfBoard.parameters),Portrait_FullBoard.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst context = {\n\t\tboard: createInitialBoardState<PieceModel>("board", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: args.boardHeight,\n\t\t}),\n\t\tbench: createInitialBoardState<PieceModel>("bench", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: 1,\n\t\t}),\n\t};\n\n\tconst piece = Builders.buildPieceModel();\n\n\tcontext.board.pieces = {\n\t\t[piece.id]: piece,\n\t};\n\n\tcontext.board.piecePositions = {\n\t\t"4,4": piece.id,\n\t};\n\n\treturn (\n\t\t<DndProvider>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: args.width,\n\t\t\t\t\theight: args.height,\n\t\t\t\t\tborder: "2px solid red",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GameBoardContextProvider value={context}>\n\t\t\t\t\t<GameBoard\n\t\t\t\t\t\trenderBoardPiece={renderPiece}\n\t\t\t\t\t\trenderBenchPiece={renderPiece}\n\t\t\t\t\t\tonClick={args.onClick}\n\t\t\t\t\t\tonDropPiece={args.onDropPiece}\n\t\t\t\t\t/>\n\t\t\t\t</GameBoardContextProvider>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}'}},Portrait_FullBoard.parameters),Landscape_HalfBoard.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst context = {\n\t\tboard: createInitialBoardState<PieceModel>("board", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: args.boardHeight,\n\t\t}),\n\t\tbench: createInitialBoardState<PieceModel>("bench", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: 1,\n\t\t}),\n\t};\n\n\tconst piece = Builders.buildPieceModel();\n\n\tcontext.board.pieces = {\n\t\t[piece.id]: piece,\n\t};\n\n\tcontext.board.piecePositions = {\n\t\t"4,4": piece.id,\n\t};\n\n\treturn (\n\t\t<DndProvider>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: args.width,\n\t\t\t\t\theight: args.height,\n\t\t\t\t\tborder: "2px solid red",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GameBoardContextProvider value={context}>\n\t\t\t\t\t<GameBoard\n\t\t\t\t\t\trenderBoardPiece={renderPiece}\n\t\t\t\t\t\trenderBenchPiece={renderPiece}\n\t\t\t\t\t\tonClick={args.onClick}\n\t\t\t\t\t\tonDropPiece={args.onDropPiece}\n\t\t\t\t\t/>\n\t\t\t\t</GameBoardContextProvider>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}'}},Landscape_HalfBoard.parameters),Landscape_FullBoard.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst context = {\n\t\tboard: createInitialBoardState<PieceModel>("board", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: args.boardHeight,\n\t\t}),\n\t\tbench: createInitialBoardState<PieceModel>("bench", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: 1,\n\t\t}),\n\t};\n\n\tconst piece = Builders.buildPieceModel();\n\n\tcontext.board.pieces = {\n\t\t[piece.id]: piece,\n\t};\n\n\tcontext.board.piecePositions = {\n\t\t"4,4": piece.id,\n\t};\n\n\treturn (\n\t\t<DndProvider>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: args.width,\n\t\t\t\t\theight: args.height,\n\t\t\t\t\tborder: "2px solid red",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GameBoardContextProvider value={context}>\n\t\t\t\t\t<GameBoard\n\t\t\t\t\t\trenderBoardPiece={renderPiece}\n\t\t\t\t\t\trenderBenchPiece={renderPiece}\n\t\t\t\t\t\tonClick={args.onClick}\n\t\t\t\t\t\tonDropPiece={args.onDropPiece}\n\t\t\t\t\t/>\n\t\t\t\t</GameBoardContextProvider>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}'}},Landscape_FullBoard.parameters),Square_HalfBoard.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst context = {\n\t\tboard: createInitialBoardState<PieceModel>("board", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: args.boardHeight,\n\t\t}),\n\t\tbench: createInitialBoardState<PieceModel>("bench", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: 1,\n\t\t}),\n\t};\n\n\tconst piece = Builders.buildPieceModel();\n\n\tcontext.board.pieces = {\n\t\t[piece.id]: piece,\n\t};\n\n\tcontext.board.piecePositions = {\n\t\t"4,4": piece.id,\n\t};\n\n\treturn (\n\t\t<DndProvider>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: args.width,\n\t\t\t\t\theight: args.height,\n\t\t\t\t\tborder: "2px solid red",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GameBoardContextProvider value={context}>\n\t\t\t\t\t<GameBoard\n\t\t\t\t\t\trenderBoardPiece={renderPiece}\n\t\t\t\t\t\trenderBenchPiece={renderPiece}\n\t\t\t\t\t\tonClick={args.onClick}\n\t\t\t\t\t\tonDropPiece={args.onDropPiece}\n\t\t\t\t\t/>\n\t\t\t\t</GameBoardContextProvider>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}'}},Square_HalfBoard.parameters),Square_FullBoard.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst context = {\n\t\tboard: createInitialBoardState<PieceModel>("board", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: args.boardHeight,\n\t\t}),\n\t\tbench: createInitialBoardState<PieceModel>("bench", {\n\t\t\twidth: GRID_SIZE.width,\n\t\t\theight: 1,\n\t\t}),\n\t};\n\n\tconst piece = Builders.buildPieceModel();\n\n\tcontext.board.pieces = {\n\t\t[piece.id]: piece,\n\t};\n\n\tcontext.board.piecePositions = {\n\t\t"4,4": piece.id,\n\t};\n\n\treturn (\n\t\t<DndProvider>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: args.width,\n\t\t\t\t\theight: args.height,\n\t\t\t\t\tborder: "2px solid red",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GameBoardContextProvider value={context}>\n\t\t\t\t\t<GameBoard\n\t\t\t\t\t\trenderBoardPiece={renderPiece}\n\t\t\t\t\t\trenderBenchPiece={renderPiece}\n\t\t\t\t\t\tonClick={args.onClick}\n\t\t\t\t\t\tonDropPiece={args.onDropPiece}\n\t\t\t\t\t/>\n\t\t\t\t</GameBoardContextProvider>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}'}},Square_FullBoard.parameters)},"./gameBoard/GameBoard.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GameBoard}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react/index.js"),react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_shoki_board_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../@shoki/board-react/index.ts"),_shoki_board_react_src_useElementSize__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../@shoki/board-react/src/useElementSize.tsx"),_GameBoardContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./gameBoard/GameBoardContext.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),createClickEvent=function createClickEvent(location){return{location:location}},createDropPieceEvent=function createDropPieceEvent(id,location){return{id:id,location:location}};var useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.a)({gameBoard:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center","& .tile.dark":{background:"#38b764"},"& .tile.light":{background:"#a7f070"}},board:function board(_ref7){var isPortrait=_ref7.isPortrait;return Object.assign({},isPortrait?{}:{height:"78%"},{display:"flex",justifyContent:"center",marginBottom:"1em"})},bench:function bench(_ref8){var isPortrait=_ref8.isPortrait,boardWidth=_ref8.boardWidth;return Object.assign({},isPortrait?{}:{height:"14%"},{width:boardWidth+"px",margin:"0 auto","& .tile":{background:"#9e9e9e !important",boxShadow:"inset 0 0 2px #404040"}})}});function GameBoard(_ref9){var renderBoardPiece=_ref9.renderBoardPiece,renderBenchPiece=_ref9.renderBenchPiece,onClick=_ref9.onClick,onDropPiece=_ref9.onDropPiece,_useGameBoard2=Object(_GameBoardContext__WEBPACK_IMPORTED_MODULE_5__.b)(),board=_useGameBoard2.board,bench=_useGameBoard2.bench,_useRenderers=function useRenderers(_ref6){var renderBoardPiece=_ref6.renderBoardPiece,renderBenchPiece=_ref6.renderBenchPiece,_useGameBoard=Object(_GameBoardContext__WEBPACK_IMPORTED_MODULE_5__.b)(),board=_useGameBoard.board,bench=_useGameBoard.bench;return{boardPieceRenderer:react__WEBPACK_IMPORTED_MODULE_1__.useMemo((function(){return function(item){var piece=item,draggable=!board.locked;return{item:renderBoardPiece(piece),draggable:draggable}}}),[renderBoardPiece]),benchPieceRenderer:react__WEBPACK_IMPORTED_MODULE_1__.useMemo((function(){return function(item){var piece=item,draggable=!bench.locked;return{item:renderBenchPiece(piece),draggable:draggable}}}),[renderBoardPiece])}}({renderBoardPiece:renderBoardPiece,renderBenchPiece:renderBenchPiece}),boardPieceRenderer=_useRenderers.boardPieceRenderer,benchPieceRenderer=_useRenderers.benchPieceRenderer,_useEvents=function useEvents(_ref){var onClick=_ref.onClick,onDropPiece=_ref.onDropPiece;return{onClickBoard:react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(_ref2){var x=_ref2.x,y=_ref2.y;onClick&&onClick(createClickEvent({locationType:"board",x:x,y:y}))}),[onClick]),onClickBench:react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(_ref3){var x=_ref3.x;onClick&&onClick(createClickEvent({locationType:"bench",x:x}))}),[onClick]),onDropBoard:react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(_ref4){var id=_ref4.id,x=_ref4.x,y=_ref4.y;onDropPiece&&onDropPiece(createDropPieceEvent(id,{locationType:"board",x:x,y:y}))}),[onDropPiece]),onDropBench:react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(_ref5){var id=_ref5.id,x=_ref5.x;onDropPiece&&onDropPiece(createDropPieceEvent(id,{locationType:"bench",x:x}))}),[onDropPiece])}}({onClick:onClick,onDropPiece:onDropPiece}),onClickBoard=_useEvents.onClickBoard,onClickBench=_useEvents.onClickBench,onDropBoard=_useEvents.onDropBoard,onDropBench=_useEvents.onDropBench,_useElementSize=Object(_shoki_board_react_src_useElementSize__WEBPACK_IMPORTED_MODULE_4__.a)(),ref=_useElementSize.ref,isPortrait=_useElementSize.isPortrait,_useElementSize2=(_useElementSize.size,Object(_shoki_board_react_src_useElementSize__WEBPACK_IMPORTED_MODULE_4__.a)()),boardRef=_useElementSize2.ref,boardSize=_useElementSize2.size,styles=useStyles({isPortrait:isPortrait,boardWidth:boardSize.width});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:styles.gameBoard,ref:ref,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:styles.board,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_shoki_board_react__WEBPACK_IMPORTED_MODULE_3__.BoardGrid,{state:board,onDropItem:onDropBoard,onClickTile:onClickBoard,renderItem:boardPieceRenderer,scaleMode:isPortrait?"width":"height",ref:boardRef})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:styles.bench,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_shoki_board_react__WEBPACK_IMPORTED_MODULE_3__.BoardGrid,{state:bench,onDropItem:onDropBench,onClickTile:onClickBench,renderItem:benchPieceRenderer})})]})}GameBoard.displayName="GameBoard";try{GameBoard.displayName="GameBoard",GameBoard.__docgenInfo={description:"",displayName:"GameBoard",props:{renderBoardPiece:{defaultValue:null,description:"",name:"renderBoardPiece",required:!0,type:{name:"(piece: PieceModel) => ReactNode | ReactNode[]"}},renderBenchPiece:{defaultValue:null,description:"",name:"renderBenchPiece",required:!0,type:{name:"(piece: PieceModel) => ReactNode | ReactNode[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: GameBoardClickEvent) => void)"}},onDropPiece:{defaultValue:null,description:"",name:"onDropPiece",required:!1,type:{name:"((event: GameBoardDropPieceEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["gameBoard/GameBoard.tsx#GameBoard"]={docgenInfo:GameBoard.__docgenInfo,name:"GameBoard",path:"gameBoard/GameBoard.tsx#GameBoard"})}catch(__react_docgen_typescript_loader_error){}},"./gameBoard/GameBoardContext.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GameBoardContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useGameBoard}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/react/index.js"),GameBoardContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);GameBoardContext.displayName="GameBoardContext";var GameBoardContextProvider=GameBoardContext.Provider,useGameBoard=function useGameBoard(){var GameBoard=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(GameBoardContext);if(!GameBoard)throw new Error("No valid GameBoardContext found for useGameBoard");return GameBoard}},"./gameScreen/LandscapeGameScreen.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Portrait",(function(){return Portrait})),__webpack_require__.d(__webpack_exports__,"Landscape",(function(){return Landscape})),__webpack_require__.d(__webpack_exports__,"Hallam",(function(){return Hallam})),__webpack_require__.d(__webpack_exports__,"Hallam2",(function(){return Hallam2}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _LandscapeGameScreen__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./gameScreen/LandscapeGameScreen.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Game Screen/LandscapeGameScreen",component:_LandscapeGameScreen__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{}};var Expander=function Expander(_ref){var background=_ref.background;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{width:"100%",height:"100%",background:background}})};Expander.displayName="Expander";var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{width:args.width,height:args.height,border:"2px solid red"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_LandscapeGameScreen__WEBPACK_IMPORTED_MODULE_3__.a,{leftColumnContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Expander,{background:"#566c86"}),middleColumnContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Expander,{background:"#566c86"}),rightColumnContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Expander,{background:"#566c86"})})})};Template.displayName="Template";var Portrait=Template.bind({});Portrait.args={width:"300px",height:"500px"};var Landscape=Template.bind({});Landscape.args={width:"500px",height:"300px"};var Hallam=Template.bind({});Hallam.args={width:"1280px",height:"720px"};var Hallam2=Template.bind({});Hallam2.args={width:"700px",height:"720px"},Portrait.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<LandscapeGameScreen\n\t\t\tleftColumnContent={<Expander background="#566c86" />}\n\t\t\tmiddleColumnContent={<Expander background="#566c86" />}\n\t\t\trightColumnContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Portrait.parameters),Landscape.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<LandscapeGameScreen\n\t\t\tleftColumnContent={<Expander background="#566c86" />}\n\t\t\tmiddleColumnContent={<Expander background="#566c86" />}\n\t\t\trightColumnContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Landscape.parameters),Hallam.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<LandscapeGameScreen\n\t\t\tleftColumnContent={<Expander background="#566c86" />}\n\t\t\tmiddleColumnContent={<Expander background="#566c86" />}\n\t\t\trightColumnContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Hallam.parameters),Hallam2.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<LandscapeGameScreen\n\t\t\tleftColumnContent={<Expander background="#566c86" />}\n\t\t\tmiddleColumnContent={<Expander background="#566c86" />}\n\t\t\trightColumnContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Hallam2.parameters)},"./gameScreen/LandscapeGameScreen.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LandscapeGameScreen}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_layout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./layout/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({wrapper:{width:"100%",height:"100%",boxSizing:"border-box"},left:{height:"100%",marginRight:"0.5rem"},middle:{flex:"initial",height:"100%",width:"50%",marginRight:"0.5rem"},right:{height:"100%"}});function LandscapeGameScreen(_ref){var leftColumnContent=_ref.leftColumnContent,middleColumnContent=_ref.middleColumnContent,rightColumnContent=_ref.rightColumnContent,styles=useStyles();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.c,{direction:"row",className:styles.wrapper,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.a,{spacer:!1,className:styles.left,children:leftColumnContent}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.a,{spacer:!1,className:styles.middle,children:middleColumnContent}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.a,{spacer:!1,className:styles.right,children:rightColumnContent})]})}LandscapeGameScreen.displayName="LandscapeGameScreen";try{LandscapeGameScreen.displayName="LandscapeGameScreen",LandscapeGameScreen.__docgenInfo={description:"",displayName:"LandscapeGameScreen",props:{leftColumnContent:{defaultValue:null,description:"",name:"leftColumnContent",required:!0,type:{name:"ReactNode | ReactNode[]"}},middleColumnContent:{defaultValue:null,description:"",name:"middleColumnContent",required:!0,type:{name:"ReactNode | ReactNode[]"}},rightColumnContent:{defaultValue:null,description:"",name:"rightColumnContent",required:!0,type:{name:"ReactNode | ReactNode[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["gameScreen/LandscapeGameScreen.tsx#LandscapeGameScreen"]={docgenInfo:LandscapeGameScreen.__docgenInfo,name:"LandscapeGameScreen",path:"gameScreen/LandscapeGameScreen.tsx#LandscapeGameScreen"})}catch(__react_docgen_typescript_loader_error){}},"./gameScreen/PortraitGameScreen.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Portrait",(function(){return Portrait})),__webpack_require__.d(__webpack_exports__,"Landscape",(function(){return Landscape})),__webpack_require__.d(__webpack_exports__,"Hallam",(function(){return Hallam})),__webpack_require__.d(__webpack_exports__,"Hallam2",(function(){return Hallam2}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _PortraitGameScreen__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./gameScreen/PortraitGameScreen.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Game Screen/PortraitGameScreen",component:_PortraitGameScreen__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{}};var Expander=function Expander(_ref){var background=_ref.background;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{width:"100%",height:"100%",background:background}})};Expander.displayName="Expander";var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{width:args.width,height:args.height,border:"2px solid red"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_PortraitGameScreen__WEBPACK_IMPORTED_MODULE_3__.a,{topRowContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Expander,{background:"#566c86"}),middleRowContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Expander,{background:"#566c86"}),bottomRowContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Expander,{background:"#566c86"})})})};Template.displayName="Template";var Portrait=Template.bind({});Portrait.args={width:"300px",height:"500px"};var Landscape=Template.bind({});Landscape.args={width:"500px",height:"300px"};var Hallam=Template.bind({});Hallam.args={width:"1280px",height:"720px"};var Hallam2=Template.bind({});Hallam2.args={width:"700px",height:"720px"},Portrait.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<PortraitGameScreen\n\t\t\ttopRowContent={<Expander background="#566c86" />}\n\t\t\tmiddleRowContent={<Expander background="#566c86" />}\n\t\t\tbottomRowContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Portrait.parameters),Landscape.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<PortraitGameScreen\n\t\t\ttopRowContent={<Expander background="#566c86" />}\n\t\t\tmiddleRowContent={<Expander background="#566c86" />}\n\t\t\tbottomRowContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Landscape.parameters),Hallam.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<PortraitGameScreen\n\t\t\ttopRowContent={<Expander background="#566c86" />}\n\t\t\tmiddleRowContent={<Expander background="#566c86" />}\n\t\t\tbottomRowContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Hallam.parameters),Hallam2.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div\n\t\tstyle={{\n\t\t\twidth: args.width,\n\t\t\theight: args.height,\n\t\t\tborder: "2px solid red",\n\t\t}}\n\t>\n\t\t<PortraitGameScreen\n\t\t\ttopRowContent={<Expander background="#566c86" />}\n\t\t\tmiddleRowContent={<Expander background="#566c86" />}\n\t\t\tbottomRowContent={<Expander background="#566c86" />}\n\t\t/>\n\t</div>\n)'}},Hallam2.parameters)},"./gameScreen/PortraitGameScreen.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PortraitGameScreen}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_layout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./layout/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({wrapper:{display:"block",position:"relative",width:"100%",height:"100%",boxSizing:"border-box",padding:"0"},top:{position:"absolute",top:"0",height:"4%",width:"100%"},middle:{position:"absolute",top:"6%",height:"82%",width:"100%",boxSizing:"border-box",padding:"0 0.5rem"},bottom:{position:"absolute",bottom:"0",height:"10%",width:"100%"}});function PortraitGameScreen(_ref){var topRowContent=_ref.topRowContent,middleRowContent=_ref.middleRowContent,bottomRowContent=_ref.bottomRowContent,styles=useStyles();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_2__.c,{direction:"column",className:styles.wrapper,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.a,{spacer:!1,className:styles.top,children:topRowContent}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.a,{spacer:!1,className:styles.middle,children:middleRowContent}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout__WEBPACK_IMPORTED_MODULE_2__.a,{spacer:!1,className:styles.bottom,children:bottomRowContent})]})}PortraitGameScreen.displayName="PortraitGameScreen";try{PortraitGameScreen.displayName="PortraitGameScreen",PortraitGameScreen.__docgenInfo={description:"",displayName:"PortraitGameScreen",props:{topRowContent:{defaultValue:null,description:"",name:"topRowContent",required:!0,type:{name:"ReactNode | ReactNode[]"}},middleRowContent:{defaultValue:null,description:"",name:"middleRowContent",required:!0,type:{name:"ReactNode | ReactNode[]"}},bottomRowContent:{defaultValue:null,description:"",name:"bottomRowContent",required:!0,type:{name:"ReactNode | ReactNode[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["gameScreen/PortraitGameScreen.tsx#PortraitGameScreen"]={docgenInfo:PortraitGameScreen.__docgenInfo,name:"PortraitGameScreen",path:"gameScreen/PortraitGameScreen.tsx#PortraitGameScreen"})}catch(__react_docgen_typescript_loader_error){}},"./gameScreen/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var _LandscapeGameScreen__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./gameScreen/LandscapeGameScreen.tsx");__webpack_require__.d(__webpack_exports__,"a",(function(){return _LandscapeGameScreen__WEBPACK_IMPORTED_MODULE_0__.a}));var _PortraitGameScreen__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./gameScreen/PortraitGameScreen.tsx");__webpack_require__.d(__webpack_exports__,"b",(function(){return _PortraitGameScreen__WEBPACK_IMPORTED_MODULE_1__.a}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("../../../node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("../../.. sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/webpack/buildin/module.js")(module))},"./index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return layout.a})),__webpack_require__.d(__webpack_exports__,"g",(function(){return layout.b})),__webpack_require__.d(__webpack_exports__,"i",(function(){return layout.c})),__webpack_require__.d(__webpack_exports__,"o",(function(){return player.b})),__webpack_require__.d(__webpack_exports__,"m",(function(){return player.a})),__webpack_require__.d(__webpack_exports__,"s",(function(){return player.d})),__webpack_require__.d(__webpack_exports__,"a",(function(){return cardShop.a})),__webpack_require__.d(__webpack_exports__,"t",(function(){return display.d})),__webpack_require__.d(__webpack_exports__,"h",(function(){return display.b})),__webpack_require__.d(__webpack_exports__,"p",(function(){return playerListItem.a})),__webpack_require__.d(__webpack_exports__,"q",(function(){return statusPlayerListItem.a})),__webpack_require__.d(__webpack_exports__,"r",(function(){return streakIndicator.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Footer.a})),__webpack_require__.d(__webpack_exports__,"u",(function(){return useGlobalStyles})),__webpack_require__.d(__webpack_exports__,"d",(function(){return GameBoard.a})),__webpack_require__.d(__webpack_exports__,"e",(function(){return GameBoardContext.a})),__webpack_require__.d(__webpack_exports__,"k",(function(){return piece.b})),__webpack_require__.d(__webpack_exports__,"l",(function(){return piece.c})),__webpack_require__.d(__webpack_exports__,"v",(function(){return piece.d})),__webpack_require__.d(__webpack_exports__,"j",(function(){return piece.a})),__webpack_require__.d(__webpack_exports__,"n",(function(){return PlayerGameProfile.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return countdown.a}));var _global,layout=__webpack_require__("./layout/index.ts"),player=__webpack_require__("./src/player/index.ts"),cardShop=(__webpack_require__("./src/cardShop/card.tsx"),__webpack_require__("./src/cardShop/cardSelector.tsx"),__webpack_require__("./src/cardShop/cardShop.tsx")),display=__webpack_require__("./src/display/index.ts"),playerListItem=__webpack_require__("./src/playerList/playerListItem.tsx"),statusPlayerListItem=__webpack_require__("./src/playerList/statusPlayerListItem.tsx"),streakIndicator=__webpack_require__("./src/playerList/streakIndicator.tsx"),Footer=__webpack_require__("./src/Footer.tsx"),react_jss_esm=(__webpack_require__("./pages/lobby/LobbyPage.tsx"),__webpack_require__("./pages/lobby/LobbyPageContext.ts"),__webpack_require__("./pages/menu/MenuPage.tsx"),__webpack_require__("./pages/menu/MenuPageContext.ts"),__webpack_require__("./pages/menu/registration/RegistrationPage.tsx"),__webpack_require__("./pages/menu/login/LoginPage.tsx"),__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js")),useResetStyles=Object(react_jss_esm.a)({"@global":(_global={},_global["html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p,blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em,img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i,center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption,tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure,figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary,time, mark, audio, video"]={padding:"0",margin:"0",font:"inherit",fontSize:"100%",verticalAlign:"baseline",border:"0"},_global["article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section"]={display:"block"},_global.body={lineHeight:"1"},_global["ol, ul"]={listStyle:"none"},_global["blockquote, q"]={quotes:"none"},_global["blockquote::before, blockquote::after, q::before, q::after"]={content:"none"},_global.table={borderSpacing:"0",borderCollapse:"collapse"},_global)}),useGlobalGameStyles=Object(react_jss_esm.a)({"@global":{"*":{userSelect:"none"},".approot":{position:"fixed",width:"100vw",height:"100vh"},body:{background:"#333c57"}}}),useGlobalStyles=function useGlobalStyles(){useResetStyles(),useGlobalGameStyles()},GameBoard=__webpack_require__("./gameBoard/GameBoard.tsx"),GameBoardContext=__webpack_require__("./gameBoard/GameBoardContext.ts"),piece=__webpack_require__("./piece/index.ts"),PlayerGameProfile=__webpack_require__("./player/PlayerGameProfile.tsx"),countdown=__webpack_require__("./src/countdown.tsx")},"./layout/Half.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Half}));__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),UnstyledHalf=function UnstyledHalf(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(props.classes.half,props.className),children:props.children})};UnstyledHalf.displayName="UnstyledHalf";var Half=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.b)((function styles(_ref){return{half:_ref.isVertical?{height:"50%"}:{width:"50%"}}}))(UnstyledHalf);try{Half.displayName="Half",Half.__docgenInfo={description:"",displayName:"Half",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["layout/Half.tsx#Half"]={docgenInfo:Half.__docgenInfo,name:"Half",path:"layout/Half.tsx#Half"})}catch(__react_docgen_typescript_loader_error){}},"./layout/Layout.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RowLayout",(function(){return RowLayout})),__webpack_require__.d(__webpack_exports__,"ColumnLayout",(function(){return ColumnLayout}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react_jss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_Half__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./layout/Half.tsx"),_Layout__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./layout/Layout.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Layout"};var useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_4__.a)({layout:{border:"2px solid blue"},half:{border:"2px solid red"},columnLayout:{height:"400px"},layoutStory:{maxWidth:"600px",maxHeight:"600px"}}),Template=function Template(args){var classes=useStyles();return args.row?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"layout-story",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_Layout__WEBPACK_IMPORTED_MODULE_6__.a,{direction:"row",className:classes.layout,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Half__WEBPACK_IMPORTED_MODULE_5__.a,{className:classes.half,children:"Half A"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Half__WEBPACK_IMPORTED_MODULE_5__.a,{className:classes.half,children:"Half B"})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"layout-story",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_Layout__WEBPACK_IMPORTED_MODULE_6__.a,{direction:"column",className:classnames__WEBPACK_IMPORTED_MODULE_3___default()(classes.layout,classes.columnLayout),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Half__WEBPACK_IMPORTED_MODULE_5__.a,{className:classes.half,children:"Half A"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Half__WEBPACK_IMPORTED_MODULE_5__.a,{className:classes.half,children:"Half B"})]})})};Template.displayName="Template";var RowLayout=Template.bind({});RowLayout.args={row:!0};var ColumnLayout=Template.bind({});ColumnLayout.args={row:!1},RowLayout.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst classes = useStyles();\n\n\tif (args.row) {\n\t\treturn (\n\t\t\t<div className="layout-story">\n\t\t\t\t<Layout direction="row" className={classes.layout}>\n\t\t\t\t\t<Half className={classes.half}>Half A</Half>\n\t\t\t\t\t<Half className={classes.half}>Half B</Half>\n\t\t\t\t</Layout>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className="layout-story">\n\t\t\t<Layout\n\t\t\t\tdirection="column"\n\t\t\t\tclassName={classNames(classes.layout, classes.columnLayout)}\n\t\t\t>\n\t\t\t\t<Half className={classes.half}>Half A</Half>\n\t\t\t\t<Half className={classes.half}>Half B</Half>\n\t\t\t</Layout>\n\t\t</div>\n\t);\n}'}},RowLayout.parameters),ColumnLayout.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst classes = useStyles();\n\n\tif (args.row) {\n\t\treturn (\n\t\t\t<div className="layout-story">\n\t\t\t\t<Layout direction="row" className={classes.layout}>\n\t\t\t\t\t<Half className={classes.half}>Half A</Half>\n\t\t\t\t\t<Half className={classes.half}>Half B</Half>\n\t\t\t\t</Layout>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className="layout-story">\n\t\t\t<Layout\n\t\t\t\tdirection="column"\n\t\t\t\tclassName={classNames(classes.layout, classes.columnLayout)}\n\t\t\t>\n\t\t\t\t<Half className={classes.half}>Half A</Half>\n\t\t\t\t<Half className={classes.half}>Half B</Half>\n\t\t\t</Layout>\n\t\t</div>\n\t);\n}'}},ColumnLayout.parameters)},"./layout/Layout.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Layout}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_jss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/theming/dist/theming.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),isVertical=function isVertical(direction){return"column"===direction||"column-reverse"===direction},useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_3__.a)({layout:function layout(_ref){var direction=_ref.direction,_ref$justifyContent=_ref.justifyContent,justifyContent=void 0===_ref$justifyContent?"space-between":_ref$justifyContent,_ref$noSpacer=_ref.noSpacer,noSpacer=void 0!==_ref$noSpacer&&_ref$noSpacer,_ref$grow=_ref.grow,grow=void 0!==_ref$grow&&_ref$grow;return Object.assign({display:"flex",justifyContent:justifyContent,flexDirection:direction},function getSize(grow){return grow?{width:"100%",height:"100%"}:{}}(grow),function getSpacer(noSpacer){return noSpacer?{}:{padding:"0.25em"}}(noSpacer))}}),Layout=function Layout(props){var classes=useStyles(props),theme={isVertical:isVertical(props.direction)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.layout,props.className),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jss__WEBPACK_IMPORTED_MODULE_4__.b,{theme:theme,children:props.children})})};Layout.displayName="Layout";try{Layout.displayName="Layout",Layout.__docgenInfo={description:"",displayName:"Layout",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"JustifyContent"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"enum",value:[{value:'"column"'},{value:'"column-reverse"'},{value:'"row"'},{value:'"row-reverse"'}]}},noSpacer:{defaultValue:null,description:"",name:"noSpacer",required:!1,type:{name:"boolean"}},grow:{defaultValue:null,description:"",name:"grow",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["layout/Layout.tsx#Layout"]={docgenInfo:Layout.__docgenInfo,name:"Layout",path:"layout/Layout.tsx#Layout"})}catch(__react_docgen_typescript_loader_error){}},"./layout/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Group})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Half.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Layout.a}));__webpack_require__("../../../node_modules/react/index.js");var classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({group:{display:"flex",flex:"1",boxSizing:"border-box",justifyContent:"center",flexDirection:"column"},"@media (orientation: portrait)":{group:function group(_ref){return _ref.spacer?{"&:not(:first-child)":{"margin-top":"1em"}}:void 0}},"@media (orientation: landscape)":{group:function group(_ref2){return _ref2.spacer?{"&:not(:first-child)":{"margin-left":"1em"}}:void 0}}});function Group(_ref3){var children=_ref3.children,className=_ref3.className,_ref3$spacer=_ref3.spacer,styles=useStyles({spacer:void 0===_ref3$spacer||_ref3$spacer});return Object(jsx_runtime.jsx)("div",{className:classnames_default()(styles.group,className),children:children})}Group.displayName="Group";try{Group.displayName="Group",Group.__docgenInfo={description:"",displayName:"Group",props:{spacer:{defaultValue:{value:"true"},description:"",name:"spacer",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["layout/Group.tsx#Group"]={docgenInfo:Group.__docgenInfo,name:"Group",path:"layout/Group.tsx#Group"})}catch(__react_docgen_typescript_loader_error){}var Half=__webpack_require__("./layout/Half.tsx"),Layout=__webpack_require__("./layout/Layout.tsx")},"./pages/lobby/LobbyPage.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.date.now.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../models/index.ts"),_LobbyPage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./pages/lobby/LobbyPage.tsx"),_LobbyPageContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./pages/lobby/LobbyPageContext.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Pages / LobbyPage",component:_LobbyPage__WEBPACK_IMPORTED_MODULE_6__.a,argTypes:{}};var lobbyInfo={players:[{id:"1234",name:"Jeff",profile:{picture:20,title:null}},{id:"1234",name:"William Pickle",profile:{picture:37,title:_creature_chess_models__WEBPACK_IMPORTED_MODULE_5__.t.HallOfFame}}],startingAtMs:Date.now()+6e4},Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_LobbyPageContext__WEBPACK_IMPORTED_MODULE_7__.a,{value:lobbyInfo,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_LobbyPage__WEBPACK_IMPORTED_MODULE_6__.a,{})})};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:"(args) => (\n\t<LobbyPageContextProvider value={lobbyInfo}>\n\t\t<LobbyPage />\n\t</LobbyPageContextProvider>\n)"}},Default.parameters)},"./pages/lobby/LobbyPage.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LobbyPage_LobbyPage}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/react/index.js");var models=__webpack_require__("../models/index.ts"),Footer=__webpack_require__("./src/Footer.tsx"),countdown=__webpack_require__("./src/countdown.tsx"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),useStyles=Object(react_jss_esm.a)({lobbyPage:{display:"flex",flexDirection:"column",height:"100%",width:"100%",overflow:"scroll",paddingTop:"2em",fontFamily:"Arial, Helvetica, sans-serif",color:"#fff",alignItems:"center",justifyContent:"center"},lobbyInfo:{display:"flex",flexDirection:"column",padding:"1rem",marginTop:"1rem",textAlign:"center",background:"#566c86"},timeRemaining:{padding:"0.5em 0.6em",marginBottom:"1em",textTransform:"uppercase",background:"#333"},timeRemainingHighlight:{fontWeight:"700"},players:{flex:"1 0 0",display:"flex",justifyContent:"space-between",flexWrap:"wrap"},playerWrapper:{display:"flex",flexDirection:"column",width:"100%"},"@media (min-width: 1024px)":{playerWrapper:{width:"40%"}}}),LobbyPageContext=__webpack_require__("./pages/lobby/LobbyPageContext.ts"),LobbyPlayerBanner=__webpack_require__("./pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.tsx"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),LobbyPage_countdownRender=function countdownRender(styles){return function(totalSecondsRemaining){var time=Math.floor(totalSecondsRemaining/60)+":"+function padNumberToTwo(val){return val<10?"0"+val:val.toString()}(Math.ceil(totalSecondsRemaining%60));return Object(jsx_runtime.jsxs)("div",{className:styles.timeRemaining,children:["Game starting in"," ",Object(jsx_runtime.jsx)("span",{className:styles.timeRemainingHighlight,children:time})]})}},LobbyPage_LobbyPage=function LobbyPage(){for(var styles=useStyles(),_useLobbyPage=Object(LobbyPageContext.b)(),players=_useLobbyPage.players,startingAtMs=_useLobbyPage.startingAtMs,botElements=[],i=players.length;i<models.o;i++)botElements.push(Object(jsx_runtime.jsx)("div",{className:styles.playerWrapper,children:Object(jsx_runtime.jsx)(LobbyPlayerBanner.a,{player:null})},i));return Object(jsx_runtime.jsxs)("div",{className:styles.lobbyPage,children:[Object(jsx_runtime.jsxs)("div",{className:styles.lobbyInfo,children:[startingAtMs&&Object(jsx_runtime.jsx)(countdown.a,{countdownToSeconds:startingAtMs/1e3,render:LobbyPage_countdownRender(styles)}),Object(jsx_runtime.jsxs)("div",{className:styles.players,children:[players.map((function(p){return Object(jsx_runtime.jsx)("div",{className:styles.playerWrapper,children:Object(jsx_runtime.jsx)(LobbyPlayerBanner.a,{player:p})},p.id)})),botElements]}),Object(jsx_runtime.jsxs)("p",{children:["The game will start ",models.m," seconds after the lobby is created, or immediately when there are ",models.o," players"]})]}),Object(jsx_runtime.jsx)(Footer.a,{})]})};LobbyPage_LobbyPage.displayName="LobbyPage";try{LobbyPage_LobbyPage.displayName="LobbyPage",LobbyPage_LobbyPage.__docgenInfo={description:"",displayName:"LobbyPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/lobby/LobbyPage.tsx#LobbyPage"]={docgenInfo:LobbyPage_LobbyPage.__docgenInfo,name:"LobbyPage",path:"pages/lobby/LobbyPage.tsx#LobbyPage"})}catch(__react_docgen_typescript_loader_error){}},"./pages/lobby/LobbyPageContext.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LobbyPageContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useLobbyPage}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/react/index.js"),LobbyPageContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);LobbyPageContext.displayName="LobbyContext";var LobbyPageContextProvider=LobbyPageContext.Provider,useLobbyPage=function useLobbyPage(){var lobbyPage=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(LobbyPageContext);if(!lobbyPage)throw new Error("No valid LobbyPageContext found for useLobbyPage");return lobbyPage}},"./pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StandardPlayer",(function(){return StandardPlayer})),__webpack_require__.d(__webpack_exports__,"Developer",(function(){return Developer})),__webpack_require__.d(__webpack_exports__,"BotPlayer",(function(){return BotPlayer}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_LobbyPlayerBanner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Pages / LobbyPage / LobbyPlayerBanner",component:_LobbyPlayerBanner__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"320px",height:"80px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_LobbyPlayerBanner__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var createLobbyPlayer=function createLobbyPlayer(title,isBot){return isBot?null:{id:"12300234",name:"BigManEdam",profile:{title:title,picture:5}}},StandardPlayer=Template.bind({});StandardPlayer.args={player:createLobbyPlayer(null,!1)};var Developer=Template.bind({});Developer.args={player:createLobbyPlayer(_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.t.Developer,!1)};var BotPlayer=Template.bind({});BotPlayer.args={player:createLobbyPlayer(null,!0)},StandardPlayer.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ width: "320px", height: "80px" }}>\n\t\t<LobbyPlayerBanner {...args} />\n\t</div>\n)'}},StandardPlayer.parameters),Developer.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ width: "320px", height: "80px" }}>\n\t\t<LobbyPlayerBanner {...args} />\n\t</div>\n)'}},Developer.parameters),BotPlayer.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ width: "320px", height: "80px" }}>\n\t\t<LobbyPlayerBanner {...args} />\n\t</div>\n)'}},BotPlayer.parameters)},"./pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LobbyPlayerBanner}));__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_src_player_avatar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/player/avatar.tsx"),_src_player_title__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/player/title.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.a)({player:{padding:"0.4em 1em",marginBottom:"0.4em",fontWeight:"700",textAlign:"left",background:"#59616b",fontFamily:"Arial, Helvetica, sans-serif",color:"#fff"},nameAndImage:{display:"flex",alignItems:"center",justifyContent:"stretch",marginBottom:"0.25rem"},bot:{fontStyle:"italic",color:"#d0d0d0"}}),LobbyPlayerBanner=function LobbyPlayerBanner(_ref){var _player$profile,player=_ref.player,styles=useStyles();return player?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:styles.player,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("span",{className:styles.nameAndImage,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_player_avatar__WEBPACK_IMPORTED_MODULE_3__.a,{player:player}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{}),player.name]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src_player_title__WEBPACK_IMPORTED_MODULE_4__.a,{titleId:null===(_player$profile=player.profile)||void 0===_player$profile?void 0:_player$profile.title})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:styles.player+" "+styles.bot,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("span",{className:styles.nameAndImage,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("img",{src:"images/ui/no_player_img.png",alt:"no player image"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{}),"empty slot"]})})};LobbyPlayerBanner.displayName="LobbyPlayerBanner";try{LobbyPlayerBanner.displayName="LobbyPlayerBanner",LobbyPlayerBanner.__docgenInfo={description:"",displayName:"LobbyPlayerBanner",props:{player:{defaultValue:null,description:"",name:"player",required:!0,type:{name:"LobbyPlayer | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.tsx#LobbyPlayerBanner"]={docgenInfo:LobbyPlayerBanner.__docgenInfo,name:"LobbyPlayerBanner",path:"pages/lobby/LobbyPlayerBanner/LobbyPlayerBanner.tsx#LobbyPlayerBanner"})}catch(__react_docgen_typescript_loader_error){}},"./pages/menu/MenuPage.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _MenuPage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./pages/menu/MenuPage.tsx"),_MenuPageContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./pages/menu/MenuPageContext.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Pages / MenuPage",component:_MenuPage__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{logout:{action:"logoutClicked"},findGame:{action:"findGameClicked"}}};var Template=function Template(_ref){var logout=_ref.logout,findGame=_ref.findGame;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MenuPageContext__WEBPACK_IMPORTED_MODULE_4__.a,{value:{auth:{logout:logout},findGame:findGame},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MenuPage__WEBPACK_IMPORTED_MODULE_3__.a,{})})};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:"({\n\tlogout,\n\tfindGame,\n}) => (\n\t<MenuPageContextProvider value={{ auth: { logout }, findGame }}>\n\t\t<MenuPage />\n\t</MenuPageContextProvider>\n)"}},Default.parameters)},"./pages/menu/MenuPage.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MenuPage_MenuPage}));__webpack_require__("../../../node_modules/react/index.js");var react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),Footer=__webpack_require__("./src/Footer.tsx"),useStyles=Object(react_jss_esm.a)({menu:{display:"flex",flexDirection:"column",height:"100%",width:"100%",overflow:"scroll",paddingTop:"2em",fontFamily:"Arial, Helvetica, sans-serif",color:"#fff",alignItems:"center",justifyContent:"center","& h2":{marginBottom:"1rem",fontSize:"2em",textAlign:"center",userSelect:"none"}},findGameButton:{padding:"0.8em 2em",marginBottom:"1rem",fontSize:"1.4rem",fontWeight:"700",color:"#fff",cursor:"pointer",background:"#b13e53",border:"none"},joinGame:{padding:"1rem",marginTop:"3em",textAlign:"center",background:"#566c86"},discordButton:{maxWidth:"12em",marginBottom:"1rem",cursor:"pointer"},blurb:{marginBottom:"0.5rem","& p":{marginTop:"0",marginBottom:"0.25rem"},"& span":{fontSize:"1.2em",fontStyle:"italic",fontWeight:"700",color:"#bfbfbf"}},error:{padding:"1em 0.5em",marginBottom:"1em",color:"#db2828",background:"#ffe8e6",boxShadow:"0 0 0 1px #db2828 inset, 0 0 0 0 transparent"}}),MenuPageContext=__webpack_require__("./pages/menu/MenuPageContext.ts"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useNavbarStyles=Object(react_jss_esm.a)({navbar:{position:"fixed",top:"0",display:"flex",flexDirection:"row",width:"100%",height:"2em",background:"#985763",justifyContent:"flex-end","& button":{fontWeight:"700",color:"#fff",cursor:"pointer",background:"#b13e53",border:"none",borderLeft:"1px solid #fff"}}}),MenuPage_Navbar=function Navbar(){var styles=useNavbarStyles(),logout=Object(MenuPageContext.b)().auth.logout;return Object(jsx_runtime.jsx)("nav",{className:styles.navbar,children:Object(jsx_runtime.jsx)("button",{onClick:logout,children:"Log Out"})})};MenuPage_Navbar.displayName="Navbar";var MenuPage_MenuPage=function MenuPage(_ref){var error=_ref.error,styles=useStyles(),findGame=Object(MenuPageContext.b)().findGame;return Object(jsx_runtime.jsxs)("div",{className:styles.menu,children:[Object(jsx_runtime.jsx)(MenuPage_Navbar,{}),Object(jsx_runtime.jsxs)("div",{className:styles.joinGame,children:[Object(jsx_runtime.jsx)("h2",{children:"Creature Chess"}),Object(jsx_runtime.jsxs)("div",{className:styles.blurb,children:[Object(jsx_runtime.jsx)("p",{children:'More fun with friends! Press "Find Game" at the same time to play together'}),Object(jsx_runtime.jsx)("p",{children:"Up to 8 players!"})]}),Object(jsx_runtime.jsx)("button",{onClick:findGame,className:styles.findGameButton,children:"Find Game"}),Object(jsx_runtime.jsx)("div",{className:styles.blurb,children:Object(jsx_runtime.jsx)("p",{children:"Join us on Discord to receive notifications when someone starts a lobby, and more!"})}),Object(jsx_runtime.jsx)("a",{href:"https://discord.gg/FhMm6saehb",children:Object(jsx_runtime.jsx)("img",{src:"https://i.imgur.com/OBo2QRd.png",className:styles.discordButton})}),Object(jsx_runtime.jsxs)("div",{className:styles.blurb,children:[Object(jsx_runtime.jsxs)("p",{children:["This is a ",Object(jsx_runtime.jsx)("span",{children:"multiplayer strategy game"})," in which you configure creatures on a board."]}),Object(jsx_runtime.jsx)("p",{children:"Each round, your board is matched against an opponent's board. Defeat all their pieces to win the round."}),Object(jsx_runtime.jsx)("p",{children:"Every loss decreases your health bar. When your health reaches zero, you're out!"}),Object(jsx_runtime.jsx)("p",{children:"Players will battle against eachother until only one player remains."}),Object(jsx_runtime.jsxs)("p",{children:["Good luck! ",Object(jsx_runtime.jsx)("span",{children:"~ jkm"})]})]}),error&&Object(jsx_runtime.jsx)("div",{className:styles.error,children:Object(jsx_runtime.jsx)("p",{children:error})})]}),Object(jsx_runtime.jsx)(Footer.a,{})]})};MenuPage_MenuPage.displayName="MenuPage";try{MenuPage_MenuPage.displayName="MenuPage",MenuPage_MenuPage.__docgenInfo={description:"",displayName:"MenuPage",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/menu/MenuPage.tsx#MenuPage"]={docgenInfo:MenuPage_MenuPage.__docgenInfo,name:"MenuPage",path:"pages/menu/MenuPage.tsx#MenuPage"})}catch(__react_docgen_typescript_loader_error){}},"./pages/menu/MenuPageContext.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MenuPageContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useMenuPage}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/react/index.js"),MenuPageContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);MenuPageContext.displayName="MenuPageContext";var MenuPageContextProvider=MenuPageContext.Provider,useMenuPage=function useMenuPage(){var menuPage=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MenuPageContext);if(!menuPage)throw new Error("No valid MenuPageContext found for useMenuPage");return menuPage}},"./pages/menu/login/LoginPage.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _LoginPage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./pages/menu/login/LoginPage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Pages / MenuPage / LoginPage",component:_LoginPage__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{updateUser:{action:"updateUser"}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_LoginPage__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:"(args) => (\n\t<LoginPage {...args} />\n)"}},Default.parameters)},"./pages/menu/login/LoginPage.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoginPage_LoginPage}));__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../../node_modules/react/index.js"),Footer=__webpack_require__("./src/Footer.tsx"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),useStyles=Object(react_jss_esm.a)({login:{display:"flex",flexDirection:"column",height:"100%",fontFamily:"Arial, Helvetica, sans-serif",color:"#fff",alignItems:"center",justifyContent:"center",background:"#566c86"},banner:{maxWidth:"700px",marginTop:"1rem",marginBottom:"1rem",userSelect:"none","& img":{width:"100%",userSelect:"none"}},group:{},groups:{display:"flex",width:"100%",maxWidth:"700px","& .group":{width:"50%",textAlign:"center"},"& p":{marginBottom:"0.5rem",fontSize:"0.8em"}},loginButton:{padding:"0.6em 1.2em",marginBottom:"1rem",fontSize:"1.4em",color:"#fff",cursor:"pointer",background:"#b13e53",border:"none"},discordButton:{maxWidth:"12em",marginBottom:"1rem",cursor:"pointer"}}),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var LoginPage_LoginPage=function LoginPage(_ref){var isLoading=_ref.isLoading,onSignInClick=_ref.onSignInClick,styles=useStyles(),_React$useState2=_slicedToArray(react.useState(!1),2),loadingSignIn=_React$useState2[0],setLoadingSignIn=_React$useState2[1],currentlyLoading=isLoading||loadingSignIn;return currentlyLoading?Object(jsx_runtime.jsx)("span",{children:"Loading"}):Object(jsx_runtime.jsxs)("div",{className:styles.login,children:[Object(jsx_runtime.jsx)("div",{className:styles.banner,children:Object(jsx_runtime.jsx)("img",{src:"https://i.imgur.com/7FAcFwZ.png"})}),Object(jsx_runtime.jsx)("div",{className:styles.groups,children:Object(jsx_runtime.jsxs)("div",{className:"group",children:[Object(jsx_runtime.jsx)("p",{children:"Creature Chess is a multiplayer game, so you need an account to play"}),Object(jsx_runtime.jsx)("button",{onClick:function handleSignInClick(){currentlyLoading||(setLoadingSignIn(!0),onSignInClick())},className:styles.loginButton,children:"Log in / Sign up"}),Object(jsx_runtime.jsx)("p",{children:"Join us on Discord to find other players and give feedback on the game"}),Object(jsx_runtime.jsx)("a",{href:"https://discord.gg/FhMm6saehb",children:Object(jsx_runtime.jsx)("img",{src:"https://i.imgur.com/OBo2QRd.png",className:styles.discordButton})})]})}),Object(jsx_runtime.jsx)(Footer.a,{})]})};LoginPage_LoginPage.displayName="LoginPage";try{LoginPage_LoginPage.displayName="LoginPage",LoginPage_LoginPage.__docgenInfo={description:"",displayName:"LoginPage",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onSignInClick:{defaultValue:null,description:"",name:"onSignInClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/menu/login/LoginPage.tsx#LoginPage"]={docgenInfo:LoginPage_LoginPage.__docgenInfo,name:"LoginPage",path:"pages/menu/login/LoginPage.tsx#LoginPage"})}catch(__react_docgen_typescript_loader_error){}},"./pages/menu/registration/RegistrationPage.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _RegistrationPage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./pages/menu/registration/RegistrationPage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Pages / MenuPage / RegistrationPage",component:_RegistrationPage__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_RegistrationPage__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:"(\n\targs\n) => <RegistrationPage {...args} />"}},Default.parameters)},"./pages/menu/registration/RegistrationPage.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RegistrationPage}));__webpack_require__("../../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../../node_modules/react/index.js"),models=__webpack_require__("../models/index.ts"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),useStyles=Object(react_jss_esm.a)({register:{display:"flex",flexDirection:"column",height:"100%",padding:"1rem",marginTop:"1em",fontFamily:"Arial, Helvetica, sans-serif",color:"#fff",alignItems:"center",justifyContent:"center",textAlign:"center",background:"#566c86","& h1":{marginBottom:"1rem",fontSize:"2em"}},registerButton:{padding:"0.5rem 2rem",fontSize:"1.25rem",color:"#fff",cursor:"pointer",background:"#b13e53",border:"none"},error:{padding:"0.5rem 1rem",marginBottom:"1rem",border:"2px solid #a01515"}}),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),BaseRegistrationInput_useStyles=Object(react_jss_esm.a)({input:{marginBottom:"0.5rem"},inputHeading:{marginBottom:"0.5rem",fontSize:"1.4em"},info:{marginTop:"0.5rem"}}),BaseRegistrationInput_BaseRegistrationInput=function BaseRegistrationInput(_ref){var heading=_ref.heading,info=_ref.info,children=_ref.children,styles=BaseRegistrationInput_useStyles();return Object(jsx_runtime.jsxs)("div",{className:styles.input,children:[Object(jsx_runtime.jsx)("h1",{className:styles.inputHeading,children:heading}),Object(jsx_runtime.jsx)("h2",{className:styles.info,children:info}),children]})};BaseRegistrationInput_BaseRegistrationInput.displayName="BaseRegistrationInput";try{BaseRegistrationInput_BaseRegistrationInput.displayName="BaseRegistrationInput",BaseRegistrationInput_BaseRegistrationInput.__docgenInfo={description:"",displayName:"BaseRegistrationInput",props:{heading:{defaultValue:null,description:"",name:"heading",required:!0,type:{name:"string"}},info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/menu/registration/input/BaseRegistrationInput.tsx#BaseRegistrationInput"]={docgenInfo:BaseRegistrationInput_BaseRegistrationInput.__docgenInfo,name:"BaseRegistrationInput",path:"pages/menu/registration/input/BaseRegistrationInput.tsx#BaseRegistrationInput"})}catch(__react_docgen_typescript_loader_error){}var NicknameSelection_useStyles=Object(react_jss_esm.a)({nameInput:{padding:"0.5rem 1rem",marginBottom:"1em"}}),NicknameSelection_NicknameSelection=function NicknameSelection(_ref){var nickname=_ref.nickname,onChange=_ref.onChange,loading=_ref.loading,styles=NicknameSelection_useStyles();return Object(jsx_runtime.jsx)(BaseRegistrationInput_BaseRegistrationInput,{heading:"Nickname",info:"This nickname is permanent and cannot be changed",children:Object(jsx_runtime.jsx)("input",{className:styles.nameInput,maxLength:models.n,disabled:loading,value:nickname,placeholder:"Nickname",onChange:onChange})})};NicknameSelection_NicknameSelection.displayName="NicknameSelection";try{NicknameSelection_NicknameSelection.displayName="NicknameSelection",NicknameSelection_NicknameSelection.__docgenInfo={description:"",displayName:"NicknameSelection",props:{nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ChangeEvent<HTMLInputElement>) => void"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/menu/registration/input/NicknameSelection.tsx#NicknameSelection"]={docgenInfo:NicknameSelection_NicknameSelection.__docgenInfo,name:"NicknameSelection",path:"pages/menu/registration/input/NicknameSelection.tsx#NicknameSelection"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../../node_modules/core-js/modules/es.parse-int.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PictureSelection_useStyles=Object(react_jss_esm.a)({pictureList:{display:"inline-block"}}),PictureSelection_PictureSelection=function PictureSelection(_ref){var currentImage=_ref.currentImage,onChange=_ref.onChange,styles=PictureSelection_useStyles();return Object(jsx_runtime.jsx)(BaseRegistrationInput_BaseRegistrationInput,{heading:"Profile Picture",info:"Choose a profile picture - more can be unlocked!",children:Object.entries(models.a).map((function(_ref2){var _ref3=_slicedToArray(_ref2,2),pictureString=_ref3[0],creatureName=_ref3[1],picture=parseInt(pictureString,10);return Object(jsx_runtime.jsxs)("div",{className:styles.pictureList,children:[Object(jsx_runtime.jsx)("img",{src:"images/front/"+picture+".png",alt:creatureName}),Object(jsx_runtime.jsx)("p",{children:creatureName}),Object(jsx_runtime.jsx)("input",{type:"radio",value:picture,checked:currentImage===picture,onChange:function onSelect(){return onChange(picture)}})]},picture)}))})};PictureSelection_PictureSelection.displayName="PictureSelection";try{PictureSelection_PictureSelection.displayName="PictureSelection",PictureSelection_PictureSelection.__docgenInfo={description:"",displayName:"PictureSelection",props:{currentImage:{defaultValue:null,description:"",name:"currentImage",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(picture: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/menu/registration/input/PictureSelection.tsx#PictureSelection"]={docgenInfo:PictureSelection_PictureSelection.__docgenInfo,name:"PictureSelection",path:"pages/menu/registration/input/PictureSelection.tsx#PictureSelection"})}catch(__react_docgen_typescript_loader_error){}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function RegistrationPage_slicedToArray(arr,i){return function RegistrationPage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function RegistrationPage_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function RegistrationPage_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return RegistrationPage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RegistrationPage_arrayLikeToArray(o,minLen)}(arr,i)||function RegistrationPage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RegistrationPage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function RegistrationPage(_ref){var updateUser=_ref.updateUser,styles=useStyles(),_React$useState2=RegistrationPage_slicedToArray(react.useState(""),2),nickname=_React$useState2[0],setNickname=_React$useState2[1],_React$useState4=RegistrationPage_slicedToArray(react.useState(1),2),currentImage=_React$useState4[0],setCurrentImage=_React$useState4[1],_React$useState6=RegistrationPage_slicedToArray(react.useState(!1),2),loading=_React$useState6[0],setLoading=_React$useState6[1],_React$useState8=RegistrationPage_slicedToArray(react.useState(null),2),error=_React$useState8[0],setError=_React$useState8[1],onRegisterClick=function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var nicknameError,_yield$updateUser,responseError;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(nicknameError=Object(models.L)(nickname))){_context.next=4;break}return setError(nicknameError),_context.abrupt("return");case 4:return setLoading(!0),_context.next=7,updateUser(nickname,currentImage);case 7:if(_yield$updateUser=_context.sent,responseError=_yield$updateUser.error){_context.next=11;break}return _context.abrupt("return");case 11:setLoading(!1),setError(responseError);case 13:case"end":return _context.stop()}}),_callee)})));return function onRegisterClick(){return _ref2.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)("div",{className:styles.register,children:[Object(jsx_runtime.jsx)("h1",{children:"Registration"}),error&&Object(jsx_runtime.jsx)("p",{className:styles.error,children:error}),Object(jsx_runtime.jsx)(NicknameSelection_NicknameSelection,{nickname:nickname||"",onChange:function handleNameChange(event){loading||setNickname(event.target.value)},loading:loading}),Object(jsx_runtime.jsx)(PictureSelection_PictureSelection,{currentImage:currentImage,onChange:function handleImageChange(picture){loading||setCurrentImage(picture)}}),Object(jsx_runtime.jsxs)("button",{className:styles.registerButton,onClick:onRegisterClick,disabled:loading,children:[!loading&&"Register",loading&&"Loading..."]})]})}RegistrationPage.displayName="RegistrationPage";try{RegistrationPage.displayName="RegistrationPage",RegistrationPage.__docgenInfo={description:"",displayName:"RegistrationPage",props:{updateUser:{defaultValue:null,description:"",name:"updateUser",required:!0,type:{name:"(nickname: string, image: number) => Promise<{ error?: string | undefined; }>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/menu/registration/RegistrationPage.tsx#RegistrationPage"]={docgenInfo:RegistrationPage.__docgenInfo,name:"RegistrationPage",path:"pages/menu/registration/RegistrationPage.tsx#RegistrationPage"})}catch(__react_docgen_typescript_loader_error){}},"./piece/Piece.stories.css":function(module,exports,__webpack_require__){var api=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./piece/Piece.stories.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./piece/Piece.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Friendly",(function(){return Friendly}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_Piece__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./piece/Piece.tsx"),_PieceContext__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./piece/Piece.stories.css"),__webpack_require__("./piece/PieceContext.ts")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Piece",component:_Piece__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{}};var PieceTile=function PieceTile(_ref){var color=_ref.color,children=_ref.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"piece-story "+color,children:children})};PieceTile.displayName="PieceTile";var Template=function Template(args){var _createProps=createProps(args),healthbar=_createProps.healthbar,piece=_createProps.piece;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"piece-story-tiles",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"light"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"dark",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_PieceContext__WEBPACK_IMPORTED_MODULE_6__.a,{value:{piece:piece,viewingPlayerId:"123"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Piece__WEBPACK_IMPORTED_MODULE_4__.a,{healthbar:healthbar})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"light"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"dark"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"light"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"dark"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"light"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"dark"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"light",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_PieceContext__WEBPACK_IMPORTED_MODULE_6__.a,{value:{piece:piece,viewingPlayerId:"123"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Piece__WEBPACK_IMPORTED_MODULE_4__.a,{healthbar:healthbar})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(PieceTile,{color:"dark"})]})};Template.displayName="Template";var createProps=function createProps(args){return{healthbar:args.healthbar,piece:{id:"123",ownerId:"123",definitionId:args.definitionId||10,definition:{id:args.definitionId||10,name:"",class:args.creatureClass||_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.VALIANT,type:args.creatureType||_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Fire,cost:args.creatureCost||5,stages:[]},facingAway:args.facingAway,maxHealth:args.maxHealth||100,currentHealth:args.currentHealth||50,stage:args.stage||0}}},Friendly=Template.bind({});Friendly.args={healthbar:"friendly",definitionId:20,currentHealth:75,maxHealth:100,stage:1,facingAway:!1,creatureClass:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.VALIANT,creatureType:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Earth,creatureCost:3},Friendly.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst { healthbar, piece } = createProps(args);\n\n\treturn (\n\t\t<div className="piece-story-tiles">\n\t\t\t<PieceTile color="light" />\n\t\t\t<PieceTile color="dark">\n\t\t\t\t<PieceContextProvider value={{ piece, viewingPlayerId: ownerId }}>\n\t\t\t\t\t<Piece healthbar={healthbar} />\n\t\t\t\t</PieceContextProvider>\n\t\t\t</PieceTile>\n\t\t\t<PieceTile color="light" />\n\t\t\t<PieceTile color="dark" />\n\t\t\t<PieceTile color="light" />\n\t\t\t<PieceTile color="dark" />\n\t\t\t<PieceTile color="light" />\n\t\t\t<PieceTile color="dark" />\n\t\t\t<PieceTile color="light">\n\t\t\t\t<PieceContextProvider value={{ piece, viewingPlayerId: "123" }}>\n\t\t\t\t\t<Piece healthbar={healthbar} />\n\t\t\t\t</PieceContextProvider>\n\t\t\t</PieceTile>\n\t\t\t<PieceTile color="dark" />\n\t\t</div>\n\t);\n}'}},Friendly.parameters)},"./piece/Piece.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Piece}));var react=__webpack_require__("../../../node_modules/react/index.js"),classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),display=__webpack_require__("./src/display/index.ts"),PieceContext=__webpack_require__("./piece/PieceContext.ts"),layout=__webpack_require__("./layout/index.ts"),jsx_runtime=(__webpack_require__("../../../node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("../../../node_modules/react/jsx-runtime.js")),useStyles=Object(react_jss_esm.a)({fill:{background:function getFillBackground(_ref){var color=_ref.color;return"spectating"===color?"#601a4a":"enemy"===color?"#e03c71":"#3887ca"},position:"absolute",bottom:0}}),PieceHealthbar_PieceHealthbar=function PieceHealthbar(props){var classes=useStyles(props);return Object(jsx_runtime.jsx)(display.c,{fillClassName:classes.fill,current:props.current,max:props.max,vertical:!0,children:props.children})};PieceHealthbar_PieceHealthbar.displayName="PieceHealthbar";try{PieceHealthbar_PieceHealthbar.displayName="PieceHealthbar",PieceHealthbar_PieceHealthbar.__docgenInfo={description:"",displayName:"PieceHealthbar",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"friendly"'},{value:'"enemy"'},{value:'"spectating"'}]}},current:{defaultValue:null,description:"",name:"current",required:!0,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/meta/PieceHealthbar.tsx#PieceHealthbar"]={docgenInfo:PieceHealthbar_PieceHealthbar.__docgenInfo,name:"PieceHealthbar",path:"piece/meta/PieceHealthbar.tsx#PieceHealthbar"})}catch(__react_docgen_typescript_loader_error){}var PieceStageIndicator_PieceStageIndicator=function PieceStageIndicator(_ref){var stage=_ref.stage,stars=[];if(0===stage)return null;for(var i=0;i<=stage;i++)stars.push(Object(jsx_runtime.jsx)("img",{src:"images/ui/star.svg"},i));return Object(jsx_runtime.jsx)(layout.c,{grow:!0,direction:"column",justifyContent:"center",noSpacer:!0,children:stars})};PieceStageIndicator_PieceStageIndicator.displayName="PieceStageIndicator";try{PieceStageIndicator_PieceStageIndicator.displayName="PieceStageIndicator",PieceStageIndicator_PieceStageIndicator.__docgenInfo={description:"",displayName:"PieceStageIndicator",props:{stage:{defaultValue:null,description:"",name:"stage",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/meta/PieceStageIndicator.tsx#PieceStageIndicator"]={docgenInfo:PieceStageIndicator_PieceStageIndicator.__docgenInfo,name:"PieceStageIndicator",path:"piece/meta/PieceStageIndicator.tsx#PieceStageIndicator"})}catch(__react_docgen_typescript_loader_error){}var PieceMeta_useStyles=Object(react_jss_esm.a)({typeIndicatorContainer:{marginBottom:"0.25em",width:"100%"},healthbarContainer:{flex:1,position:"relative"},stage:{position:"absolute",top:"10%",left:"7%",width:"86%",height:"80%","& > img":{width:"100%"}}}),PieceMeta_PieceMeta=function PieceMeta(_ref){var piece=_ref.piece,_ref$healthbarColor=_ref.healthbarColor,healthbarColor=void 0===_ref$healthbarColor?"none":_ref$healthbarColor,classes=PieceMeta_useStyles(),stageIndicator=Object(jsx_runtime.jsx)("div",{className:classes.stage,children:Object(jsx_runtime.jsx)(PieceStageIndicator_PieceStageIndicator,{stage:piece.stage})});return Object(jsx_runtime.jsxs)(layout.c,{grow:!0,direction:"column",noSpacer:!0,children:[Object(jsx_runtime.jsx)("div",{className:classes.typeIndicatorContainer,children:Object(jsx_runtime.jsx)(display.d,{type:piece.definition.type})}),Object(jsx_runtime.jsxs)("div",{className:classes.healthbarContainer,children:["none"!==healthbarColor&&Object(jsx_runtime.jsx)(PieceHealthbar_PieceHealthbar,{color:healthbarColor,current:piece.currentHealth,max:piece.maxHealth,children:stageIndicator}),"none"===healthbarColor&&stageIndicator]})]})};PieceMeta_PieceMeta.displayName="PieceMeta";try{PieceMeta_PieceMeta.displayName="PieceMeta",PieceMeta_PieceMeta.__docgenInfo={description:"",displayName:"PieceMeta",props:{piece:{defaultValue:null,description:"",name:"piece",required:!0,type:{name:"PieceModel"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},healthbarColor:{defaultValue:{value:"none"},description:"",name:"healthbarColor",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"friendly"'},{value:'"enemy"'},{value:'"spectating"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/meta/PieceMeta.tsx#PieceMeta"]={docgenInfo:PieceMeta_PieceMeta.__docgenInfo,name:"PieceMeta",path:"piece/meta/PieceMeta.tsx#PieceMeta"})}catch(__react_docgen_typescript_loader_error){}var Piece_useStyles=Object(react_jss_esm.a)({piece:{position:"relative",width:"100%",height:"100%","& > img":{position:"absolute",bottom:0,right:0,width:"80%"}},metaContainer:{position:"absolute",top:0,left:0,display:"flex",flexDirection:"row",width:"20%",height:"100%",boxSizing:"border-box",padding:"2%"},imageContainer:{position:"absolute",bottom:"0",left:"14%",width:"80%",height:"80%"}}),Piece=react.forwardRef((function(props,ref){var classes=Piece_useStyles(),piece=Object(PieceContext.b)().piece,healthbar=props.healthbar,children=props.children,className=props.className,onClick=props.onClick;return Object(jsx_runtime.jsxs)("div",{className:classnames_default()(classes.piece,className),ref:ref,onClick:onClick,children:[Object(jsx_runtime.jsx)("div",{className:classes.metaContainer,children:Object(jsx_runtime.jsx)(PieceMeta_PieceMeta,{piece:piece,healthbarColor:healthbar})}),Object(jsx_runtime.jsx)("div",{className:classes.imageContainer,children:Object(jsx_runtime.jsx)(display.a,{definitionId:piece.definitionId,facing:piece.facingAway?"back":"front"})}),children]})}));try{Piece.displayName="Piece",Piece.__docgenInfo={description:"",displayName:"Piece",props:{healthbar:{defaultValue:null,description:"",name:"healthbar",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"friendly"'},{value:'"enemy"'},{value:'"spectating"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/Piece.tsx#Piece"]={docgenInfo:Piece.__docgenInfo,name:"Piece",path:"piece/Piece.tsx#Piece"})}catch(__react_docgen_typescript_loader_error){}},"./piece/PieceContext.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PieceContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return usePiece}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/react/index.js"),PieceContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);PieceContext.displayName="PieceContext";var PieceContextProvider=PieceContext.Provider,usePiece=function usePiece(){var piece=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PieceContext);if(!piece)throw new Error("No valid PieceContext found for usePiece");return piece}},"./piece/Projectile.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _Projectile__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./piece/Projectile.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Piece / Projectile",component:_Projectile__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Projectile__WEBPACK_IMPORTED_MODULE_3__.a,{})};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:"(args) => <Projectile />"}},Default.parameters)},"./piece/Projectile.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Projectile}));__webpack_require__("../../../node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),Projectile=function Projectile(_ref){var className=_ref.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{className:className,height:"12",width:"12",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("circle",{cx:"6",cy:"6",r:"4",stroke:"#FAD17D",strokeWidth:"2",fill:"#F5E687"})})};Projectile.displayName="Projectile";try{Projectile.displayName="Projectile",Projectile.__docgenInfo={description:"",displayName:"Projectile",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/Projectile.tsx#Projectile"]={docgenInfo:Projectile.__docgenInfo,name:"Projectile",path:"piece/Projectile.tsx#Projectile"})}catch(__react_docgen_typescript_loader_error){}},"./piece/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Piece.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PieceContext.a})),__webpack_require__.d(__webpack_exports__,"d",(function(){return PieceContext.b})),__webpack_require__.d(__webpack_exports__,"a",(function(){return MatchPiece.a}));var Piece=__webpack_require__("./piece/Piece.tsx"),PieceContext=__webpack_require__("./piece/PieceContext.ts"),MatchPiece=__webpack_require__("./piece/match/MatchPiece.tsx");__webpack_require__("./piece/Projectile.tsx")},"./piece/match/MatchPiece.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../../node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/react/index.js"),react_jss__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../models/index.ts"),_PieceContext__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./piece/PieceContext.ts"),_MatchPiece__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./piece/match/MatchPiece.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"@ui / Piece / MatchPiece",component:_MatchPiece__WEBPACK_IMPORTED_MODULE_19__.a,argTypes:{}};var Board=function Board(_ref){var children=_ref.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{style:{width:"480px",display:"flex"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#a7f070"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#38b764"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#a7f070"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{style:{width:"480px",display:"flex"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#38b764"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#a7f070"},children:children}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#38b764"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{style:{width:"480px",display:"flex"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#a7f070"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#38b764"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{width:"160px",height:"160px",background:"#a7f070"}})]})]})},useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_16__.a)({control:{marginBottom:"1em",border:"2px solid #eee",padding:"0.5rem","& button":{padding:"1rem"},"& h3":{marginTop:0}},buttonGroup:{display:"flex",flexDirection:"row","&:not(:last-child)":{marginBottom:"1rem"},"& button":{marginRight:"1rem"}},label:{marginRight:"1rem"}}),Template=function Template(args){var styles=useStyles(),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.e.buildPieceModel()),2),piece=_useState2[0],setPiece=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)("5"),2),basicAttackDamage=_useState4[0],setBasicAttackDamage=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)("5"),2),receiveHitDamage=_useState6[0],setReceiveHitDamage=_useState6[1],handleReceiveHit=function createHandleReceiveHitClick(piece,setPiece,damage){return function(){setPiece(Object.assign({},piece,{hit:{direction:_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.i.UP,damage:damage}})),setTimeout((function(){setPiece(Object.assign({},piece,{hit:null}))}),200)}}(piece,setPiece,parseInt(receiveHitDamage||"0",10)),_useBasicAttackButton=function useBasicAttackButtons(piece,setPiece,damage){var createClickHandler=function createClickHandler(direction){return function(){setPiece(Object.assign({},piece,{attacking:{attackType:_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.B.basic,damage:damage,direction:direction,distance:0}})),setTimeout((function(){setPiece(Object.assign({},piece,{attacking:null}))}),200)}};return{onClickUp:createClickHandler(_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.i.UP),onClickDown:createClickHandler(_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.i.DOWN),onClickLeft:createClickHandler(_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.i.LEFT),onClickRight:createClickHandler(_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.i.RIGHT)}}(piece,setPiece,parseInt(basicAttackDamage||"0",10)),onClickUp=_useBasicAttackButton.onClickUp,onClickDown=_useBasicAttackButton.onClickDown,onClickLeft=_useBasicAttackButton.onClickLeft,onClickRight=_useBasicAttackButton.onClickRight;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{flex:1},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(Board,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_PieceContext__WEBPACK_IMPORTED_MODULE_18__.a,{value:{piece:piece,viewingPlayerId:null==piece?void 0:piece.ownerId},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_MatchPiece__WEBPACK_IMPORTED_MODULE_19__.a,{})})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{style:{flex:1},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{className:styles.control,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.buttonGroup,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:function handleRestoreClick(){return setPiece(_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.e.buildPieceModel())},children:"Restore"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:function handleKillClick(){return setPiece(Object.assign({},piece,{currentHealth:0}))},children:"Kill"})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.control,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("h3",{children:"Basic Attack"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.buttonGroup,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("span",{className:styles.label,children:"Damage"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("input",{value:basicAttackDamage,onChange:function onChange(event){return setBasicAttackDamage(event.target.value)}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.buttonGroup,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:onClickUp,children:"Up"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:onClickDown,children:"Down"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:onClickLeft,children:"Left"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:onClickRight,children:"Right"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.control,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("h3",{children:"Receive Hit"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.buttonGroup,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("span",{className:styles.label,children:"Damage"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("input",{value:receiveHitDamage,onChange:function onChange(event){return setReceiveHitDamage(event.target.value)}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{className:styles.buttonGroup,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:handleReceiveHit,children:"Hit"})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{className:styles.control,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("h3",{children:"Shoot Projectile"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{className:styles.buttonGroup,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("button",{onClick:function handleShootProjectile(){setPiece(Object.assign({},piece,{attacking:{attackType:_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.B.shoot,damage:5,direction:_creature_chess_models__WEBPACK_IMPORTED_MODULE_17__.i.LEFT,distance:1}}))},children:"Shoot"})})]})]})]})};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:'(args) => {\n\tconst styles = useStyles();\n\n\tconst [piece, setPiece] = useState(Builders.buildPieceModel());\n\tconst handleKillClick = () => setPiece({ ...piece, currentHealth: 0 });\n\tconst handleRestoreClick = () => setPiece(Builders.buildPieceModel());\n\n\tconst [basicAttackDamage, setBasicAttackDamage] = useState("5");\n\tconst [receiveHitDamage, setReceiveHitDamage] = useState("5");\n\n\tconst handleReceiveHit = createHandleReceiveHitClick(\n\t\tpiece,\n\t\tsetPiece,\n\t\tparseInt(receiveHitDamage || "0", 10)\n\t);\n\tconst { onClickUp, onClickDown, onClickLeft, onClickRight } =\n\t\tuseBasicAttackButtons(\n\t\t\tpiece,\n\t\t\tsetPiece,\n\t\t\tparseInt(basicAttackDamage || "0", 10)\n\t\t);\n\n\tconst handleShootProjectile = () => {\n\t\tsetPiece({\n\t\t\t...piece,\n\t\t\tattacking: {\n\t\t\t\tattackType: attackTypes.shoot,\n\t\t\t\tdamage: 5,\n\t\t\t\tdirection: Directions.LEFT,\n\t\t\t\tdistance: 1,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<div style={{ width: "100%", display: "flex", flexDirection: "row" }}>\n\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t<Board>\n\t\t\t\t\t<PieceContextProvider\n\t\t\t\t\t\tvalue={{ piece, viewingPlayerId: piece?.ownerId }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MatchPiece />\n\t\t\t\t\t</PieceContextProvider>\n\t\t\t\t</Board>\n\t\t\t</div>\n\t\t\t<div style={{ flex: 1 }}>\n\t\t\t\t<div className={styles.control}>\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<button onClick={handleRestoreClick}>Restore</button>\n\t\t\t\t\t\t<button onClick={handleKillClick}>Kill</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.control}>\n\t\t\t\t\t<h3>Basic Attack</h3>\n\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<span className={styles.label}>Damage</span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tvalue={basicAttackDamage}\n\t\t\t\t\t\t\tonChange={(event) => setBasicAttackDamage(event.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<button onClick={onClickUp}>Up</button>\n\t\t\t\t\t\t<button onClick={onClickDown}>Down</button>\n\t\t\t\t\t\t<button onClick={onClickLeft}>Left</button>\n\t\t\t\t\t\t<button onClick={onClickRight}>Right</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.control}>\n\t\t\t\t\t<h3>Receive Hit</h3>\n\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<span className={styles.label}>Damage</span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tvalue={receiveHitDamage}\n\t\t\t\t\t\t\tonChange={(event) => setReceiveHitDamage(event.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<button onClick={handleReceiveHit}>Hit</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.control}>\n\t\t\t\t\t<h3>Shoot Projectile</h3>\n\n\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t<button onClick={handleShootProjectile}>Shoot</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}'}},Default.parameters)},"./piece/match/MatchPiece.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MatchPiece_MatchPiece}));__webpack_require__("../../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../../node_modules/react/index.js"),classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),models=__webpack_require__("../models/index.ts"),Piece=__webpack_require__("./piece/Piece.tsx"),PieceContext=__webpack_require__("./piece/PieceContext.ts"),Projectile=__webpack_require__("./piece/Projectile.tsx"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),useAnimationStyles=Object(react_jss_esm.a)({"@keyframes piece-dying-anim":{"100%":{transform:"scale(0)"}},dying:{animationName:"$piece-dying-anim",animationDuration:"1000ms",animationFillMode:"forwards",animationIterationCount:"1"},"@keyframes piece-attack-basic-anim":{"0%":{top:"0",left:"0"},"50%":{top:"calc(calc(3px * var(--attackPower)) * var(--attackYDirection))",left:"calc(calc(3px * var(--attackPower)) * var(--attackXDirection))"},"100%":{top:"0",left:"0"}},attackBasic:{animationName:"$piece-attack-basic-anim",animationDuration:"200ms"},"@keyframes piece-attack-shoot-anim":{"0%":{top:"calc(50% - (10px / 2))",left:"calc(50% - (10px / 2))"},"100%":{top:"calc(\n\t\t\t\t((100% * var(--attackDistance) * var(--attackYDirection)) + 50%) -\n\t\t\t\t  (10px / 2)\n\t\t\t  )",left:"calc(\n\t\t\t\t((100% * var(--attackDistance) * var(--attackXDirection)) + 50%) -\n\t\t\t\t  (10px / 2)\n\t\t\t  )"}},projectile:{display:"none",position:"absolute",top:"calc(50% - (10px / 2))",left:"calc(50% - (10px / 2))"},attackShoot:{"& $projectile":{display:"block",animationName:"$piece-attack-shoot-anim",animationDuration:"200ms"}},"@keyframes piece-receive-hit-anim":{"0%":{transform:"rotate(0deg)"},"25%":{transform:"rotate(calc(1deg * var(--hitPower) * -1))"},"75%":{transform:"rotate(calc(1deg * var(--hitPower)))"},"100%":{transform:"rotate(0deg)"}},receiveHit:{animationName:"$piece-receive-hit-anim",animationDuration:"200ms"}}),usePieceStyles=Object(react_jss_esm.a)({piece:{position:"relative",zIndex:50,width:"100%",height:"100%"}});try{useAnimationStyles.displayName="useAnimationStyles",useAnimationStyles.__docgenInfo={description:"",displayName:"useAnimationStyles",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/match/MatchPiece.styles.tsx#useAnimationStyles"]={docgenInfo:useAnimationStyles.__docgenInfo,name:"useAnimationStyles",path:"piece/match/MatchPiece.styles.tsx#useAnimationStyles"})}catch(__react_docgen_typescript_loader_error){}try{usePieceStyles.displayName="usePieceStyles",usePieceStyles.__docgenInfo={description:"",displayName:"usePieceStyles",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/match/MatchPiece.styles.tsx#usePieceStyles"]={docgenInfo:usePieceStyles.__docgenInfo,name:"usePieceStyles",path:"piece/match/MatchPiece.styles.tsx#usePieceStyles"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.keys.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getAnimationCssVariables=function getAnimationCssVariables(animations){var variables=Object.assign.apply(Object,[{}].concat(_toConsumableArray(animations.filter((function(a){return a.variables})).map((function(a){return a.variables})))));return Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.keys(variables).map((function(key){var _ref;return(_ref={})["--"+key]=variables[key],_ref})))))},jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js");function MatchPiece_toConsumableArray(arr){return function MatchPiece_arrayWithoutHoles(arr){if(Array.isArray(arr))return MatchPiece_arrayLikeToArray(arr)}(arr)||function MatchPiece_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||MatchPiece_unsupportedIterableToArray(arr)||function MatchPiece_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||MatchPiece_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MatchPiece_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return MatchPiece_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MatchPiece_arrayLikeToArray(o,minLen):void 0}}function MatchPiece_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getHealthbar=function getHealthbar(ownerId,viewingPlayerId){return ownerId===viewingPlayerId?"friendly":"enemy"},MatchPiece_MatchPiece=function MatchPiece(){var _usePiece=Object(PieceContext.b)(),piece=_usePiece.piece,viewingPlayerId=_usePiece.viewingPlayerId,animationStyles=useAnimationStyles(),styles=usePieceStyles(),_React$useState2=_slicedToArray(react.useState([]),2),currentAnimations=_React$useState2[0],setCurrentAnimations=_React$useState2[1],_React$useState4=_slicedToArray(react.useState(null),2),lastRenderedPiece=_React$useState4[0],setLastRenderedPiece=_React$useState4[1],runAnimation=function runAnimation(name,keyframesName,variables){return setCurrentAnimations((function(oldAnimations){var newAnimation={name:name,keyframesName:keyframesName,variables:variables};return[].concat(MatchPiece_toConsumableArray(oldAnimations.filter((function(a){return a.name!==name}))),[newAnimation])}))},runAnimations=function runAnimations(newPiece){var attacking=newPiece.attacking,hit=newPiece.hit,currentHealth=newPiece.currentHealth;lastRenderedPiece?(attacking&&!lastRenderedPiece.attacking&&(attacking.attackType.name===models.B.basic.name?runAnimation(animationStyles.attackBasic,"attack-basic",{attackPower:attacking.damage,attackXDirection:attacking.direction.x,attackYDirection:attacking.direction.y}):attacking.attackType.name===models.B.shoot.name&&runAnimation(animationStyles.attackShoot,"attack-shoot",{attackPower:attacking.damage,attackXDirection:attacking.direction.x,attackYDirection:attacking.direction.y,attackDistance:attacking.distance})),hit&&!lastRenderedPiece.hit&&runAnimation(animationStyles.receiveHit,"receive-hit",{hitPower:hit.damage}),0===currentHealth?0!==lastRenderedPiece.currentHealth&&runAnimation(animationStyles.dying,"dying"):0===lastRenderedPiece.currentHealth&&function removeAnimation(name){setCurrentAnimations((function(oldAnimations){return oldAnimations.filter((function(animation){return animation.name!==name}))}))}(animationStyles.dying),setLastRenderedPiece(newPiece)):setLastRenderedPiece(newPiece)};if(react.useEffect((function(){piece?runAnimations(piece):setLastRenderedPiece(null)}),[piece]),!piece)return null;var animationClasses=currentAnimations.map((function(a){return a.name})),className=classnames_default.a.apply(void 0,[styles.piece].concat(MatchPiece_toConsumableArray(animationClasses)));return Object(jsx_runtime.jsx)("div",{className:className,style:getAnimationCssVariables(currentAnimations),onAnimationEnd:function onAnimationEnd(event){event.animationName.includes("piece-dying-anim")||setCurrentAnimations((function(oldAnimations){return oldAnimations.filter((function(a){return!function animationEventMatchesAnimation(event,animation){return event.animationName.includes("piece-"+animation.keyframesName+"-anim")}(event,a)}))}))},children:Object(jsx_runtime.jsx)(Piece.a,{healthbar:getHealthbar(piece.ownerId,viewingPlayerId),children:Object(jsx_runtime.jsx)(Projectile.a,{className:animationStyles.projectile})})})};MatchPiece_MatchPiece.displayName="MatchPiece";try{MatchPiece_MatchPiece.displayName="MatchPiece",MatchPiece_MatchPiece.__docgenInfo={description:"",displayName:"MatchPiece",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["piece/match/MatchPiece.tsx#MatchPiece"]={docgenInfo:MatchPiece_MatchPiece.__docgenInfo,name:"MatchPiece",path:"piece/match/MatchPiece.tsx#MatchPiece"})}catch(__react_docgen_typescript_loader_error){}},"./player/PlayerGameProfile.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _PlayerGameProfile__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./player/PlayerGameProfile.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Player / PlayerGameProfile",component:_PlayerGameProfile__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_PlayerGameProfile__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={health:73,level:4,xp:2,money:15,pieceCount:3},Default.parameters=Object.assign({storySource:{source:"(args) => (\n\t<PlayerGameProfile {...args} />\n)"}},Default.parameters)},"./player/PlayerGameProfile.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlayerGameProfile_PlayerGameProfile}));__webpack_require__("../../../node_modules/react/index.js");var classnames=__webpack_require__("../../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),models=__webpack_require__("../models/index.ts"),progressBar=__webpack_require__("./src/display/progressBar.tsx"),healthbar=__webpack_require__("./src/player/healthbar.tsx"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),useStyles=Object(react_jss_esm.a)({profile:{padding:"0.25rem",fontFamily:"Arial, sans-serif",color:"#fff",background:"#566c86"},row:{display:"flex",flexDirection:"row",alignItems:"center","&:not(:last-child)":{marginBottom:"0.4em"}},item:{flex:"1"},buyXpButton:{width:"50%",height:"2em",boxSizing:"border-box",padding:"0.5em 1em",marginLeft:"0.5em",fontSize:"1em",lineHeight:"1em",color:"#fff",cursor:"pointer",background:"#1a1c2c",border:"none"},level:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row",fontWeight:"700","& > span":{color:"#ffcd75"}},xpProgress:{width:"50%",height:"1.75em",background:"#636363"},xpProgressFill:{paddingLeft:"1em",background:"#ffcd75"},xpProgressContent:{color:"#1a1c2c"},pieceCount:{fontSize:"0.85em",fontStyle:"italic",textAlign:"center"},pieceCountWarning:{width:"fit-content",padding:"0.2em 0.4em",fontWeight:"700",color:"#ff6464",background:"#ffd2d2",border:"2px solid #ff6464"}}),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),renderProgressBar=function renderProgressBar(current,max){return current+" / "+max+" xp"},PlayerGameProfile_PieceCount=function PieceCount(_ref){var level=_ref.level,pieceCount=_ref.pieceCount,styles=useStyles();return pieceCount<level?Object(jsx_runtime.jsxs)("p",{className:classnames_default()(styles.item,styles.pieceCount,styles.pieceCountWarning),children:[pieceCount," / ",level," pieces (board not full!)"]}):Object(jsx_runtime.jsxs)("p",{className:classnames_default()(styles.item,styles.pieceCount),children:[pieceCount," / ",level," pieces"]})};PlayerGameProfile_PieceCount.displayName="PieceCount";var PlayerGameProfile_PlayerGameProfile=function PlayerGameProfile(_ref2){var health=_ref2.health,level=_ref2.level,xp=_ref2.xp,money=_ref2.money,pieceCount=_ref2.pieceCount,onBuyXpClick=_ref2.onBuyXpClick,styles=useStyles();return null===health?null:Object(jsx_runtime.jsxs)("div",{className:styles.profile,children:[Object(jsx_runtime.jsxs)("div",{className:styles.row,children:[Object(jsx_runtime.jsxs)("p",{className:classnames_default()(styles.item,styles.level),children:["Level ",level," ",Object(jsx_runtime.jsxs)("span",{children:["$",money]})]}),level!==models.p&&Object(jsx_runtime.jsx)(progressBar.a,{className:styles.xpProgress,fillClassName:styles.xpProgressFill,contentClassName:styles.xpProgressContent,current:xp,max:Object(models.J)(level),renderContents:renderProgressBar})]}),Object(jsx_runtime.jsxs)("div",{className:styles.row,children:[Object(jsx_runtime.jsx)(PlayerGameProfile_PieceCount,{level:level,pieceCount:pieceCount}),level!==models.p&&Object(jsx_runtime.jsxs)("button",{className:styles.buyXpButton,onClick:onBuyXpClick,children:["Buy ",models.f.BUY_XP_AMOUNT," xp ($",models.f.BUY_XP_COST,")"]})]}),Object(jsx_runtime.jsx)(healthbar.a,{health:health})]})};PlayerGameProfile_PlayerGameProfile.displayName="PlayerGameProfile";try{PlayerGameProfile_PlayerGameProfile.displayName="PlayerGameProfile",PlayerGameProfile_PlayerGameProfile.__docgenInfo={description:"",displayName:"PlayerGameProfile",props:{level:{defaultValue:null,description:"",name:"level",required:!0,type:{name:"number"}},xp:{defaultValue:null,description:"",name:"xp",required:!0,type:{name:"number"}},money:{defaultValue:null,description:"",name:"money",required:!0,type:{name:"number"}},health:{defaultValue:null,description:"",name:"health",required:!0,type:{name:"number | null"}},pieceCount:{defaultValue:null,description:"",name:"pieceCount",required:!0,type:{name:"number"}},onBuyXpClick:{defaultValue:null,description:"",name:"onBuyXpClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["player/PlayerGameProfile.tsx#PlayerGameProfile"]={docgenInfo:PlayerGameProfile_PlayerGameProfile.__docgenInfo,name:"PlayerGameProfile",path:"player/PlayerGameProfile.tsx#PlayerGameProfile"})}catch(__react_docgen_typescript_loader_error){}},"./src/Footer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/react/index.js");var _Footer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Footer.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Footer",component:_Footer__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{background:"grey",padding:"2em"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Footer__WEBPACK_IMPORTED_MODULE_3__.a,{})})};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ background: "grey", padding: "2em" }}>\n\t\t<Footer />\n\t</div>\n)'}},Default.parameters)},"./src/Footer.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Footer}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),APP_VERSION=__webpack_require__("../../../package.json").version,useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({footer:{marginTop:"0.5em",marginBottom:"0.5em",textAlign:"center"},item:{fontFamily:"Arial, sans-serif",fontSize:"0.8em",fontStyle:"italic",color:"#fff"}}),Footer=function Footer(){var classes=useStyles();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:classes.footer,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:classes.item,children:["v",APP_VERSION||"-.-.-"]})," - ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a",{className:classes.item,href:"https://reddit.com/r/creaturechess/",children:"/r/CreatureChess"})," - ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a",{className:classes.item,href:"https://creaturechess.com/privacy",children:"Privacy Policy"})," - ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a",{className:classes.item,href:"https://github.com/Jameskmonger/creature-chess",children:"Licenses on GitHub"})]})};Footer.displayName="Footer";try{Footer.displayName="Footer",Footer.__docgenInfo={description:"",displayName:"Footer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Footer.tsx#Footer"]={docgenInfo:Footer.__docgenInfo,name:"Footer",path:"src/Footer.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}},"./src/button.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Button}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({button:function button(props){return{padding:"0.25em 1em",fontSize:"1em",color:(props.type,"#fff"),background:(props.type,"#1a1c2c"),border:"none",cursor:"pointer","&:disabled":{background:"#575758",cursor:"not-allowed"}}}}),Button=function Button(props){var classes=useStyles(props),onClick=props.onClick,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled,children=props.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:classes.button,onClick:disabled?void 0:onClick,disabled:disabled,children:children})};Button.displayName="Button";try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/cardShop/card.stories.css":function(module,exports,__webpack_require__){var api=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/cardShop/card.stories.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/cardShop/card.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Chenipode",(function(){return Chenipode}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_card__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/cardShop/card.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./src/cardShop/card.stories.css"),__webpack_require__("../../../node_modules/react/jsx-runtime.js"));__webpack_exports__.default={title:"@ui / Card Shop / Card",component:_card__WEBPACK_IMPORTED_MODULE_4__.a};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"card-story",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_card__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var card={id:"1234",definitionId:10,name:"Chenipode",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Earth,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.CUNNING,cost:2},Chenipode=Template.bind({});Chenipode.args={card:card},Chenipode.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div className="card-story">\n\t\t<Card {...args} />\n\t</div>\n)'}},Chenipode.parameters)},"./src/cardShop/card.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Card}));__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_layout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./layout/index.ts"),_display__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/display/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.a)({card:{boxSizing:"border-box",fontFamily:"Arial, sans-serif",color:"#fff",textAlign:"center",cursor:function cursor(_ref){var _ref$disabled=_ref.disabled;return void 0!==_ref$disabled&&_ref$disabled?"not-allowed":"pointer"},userSelect:"none",background:"#4e4e4e",paddingBottom:"0.5em"},name:{fontSize:"0.8em",fontWeight:700},typeIndicator:{zIndex:20,marginTop:"-0.5em",marginLeft:"-0.125em",width:"24px",height:"24px"},cost:{padding:"0.125em",marginTop:"-0.5em",marginRight:"-0.1em",background:"rgb(128, 128, 128)"},cardMeta:{display:"flex",flexDirection:"column",justifyContent:"space-around"},metaItem:{fontSize:"0.6rem",fontWeight:700,textTransform:"uppercase"}}),Card=function Card(props){var classes=useStyles(props),_props$card=props.card,name=_props$card.name,definitionId=_props$card.definitionId,type=_props$card.type,cost=_props$card.cost,cardClass=_props$card.class,onClick=props.onClick,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classes.card,onClick:disabled?void 0:onClick||void 0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.c,{direction:"column",noSpacer:!0,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_3__.c,{direction:"row",noSpacer:!0,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classes.typeIndicator,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_display__WEBPACK_IMPORTED_MODULE_4__.d,{type:type})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classes.cost,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("span",{children:["$",cost]})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_display__WEBPACK_IMPORTED_MODULE_4__.a,{definitionId:definitionId}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h2",{className:classes.name,children:name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:classes.cardMeta,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:classes.metaItem,children:cardClass}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:classes.metaItem,children:type})]})]})})};Card.displayName="Card";try{Card.displayName="Card",Card.__docgenInfo={description:"",displayName:"Card",props:{card:{defaultValue:null,description:"",name:"card",required:!0,type:{name:"Card"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/cardShop/card.tsx#Card"]={docgenInfo:Card.__docgenInfo,name:"Card",path:"src/cardShop/card.tsx#Card"})}catch(__react_docgen_typescript_loader_error){}},"./src/cardShop/cardSelector.stories.css":function(module,exports,__webpack_require__){var api=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/cardShop/cardSelector.stories.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/cardShop/cardSelector.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Selector",(function(){return Selector}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_cardSelector__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/cardShop/cardSelector.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./src/cardShop/cardSelector.stories.css"),__webpack_require__("../../../node_modules/react/jsx-runtime.js"));__webpack_exports__.default={title:"@ui / Card Shop / CardSelector",component:_cardSelector__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{selectedCardIndex:{control:{type:"number"}}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"card-selector-story",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_cardSelector__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var cards=[{id:"0001",definitionId:10,name:"Chenipode",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Earth,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.CUNNING,cost:2},{id:"0002",definitionId:24,name:"Ruption",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Fire,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.ARCANE,cost:3},{id:"0003",definitionId:32,name:"Cairfrey",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Metal,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.ARCANE,cost:3},{id:"0004",definitionId:46,name:"Eaglace",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Water,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.CUNNING,cost:5},{id:"0005",definitionId:37,name:"Arbelder",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Wood,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.VALIANT,cost:5}],Selector=Template.bind({});Selector.args={cards:cards,selectedCardIndex:2},Selector.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div className="card-selector-story">\n\t\t<CardSelector {...args} />\n\t</div>\n)'}},Selector.parameters)},"./src/cardShop/cardSelector.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CardSelector}));__webpack_require__("../../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_jss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_layout__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./layout/index.ts"),_card__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/cardShop/card.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_3__.a)({container:{position:"relative",marginBottom:"1em"},tray:{position:"absolute",bottom:"5%",width:"100%",height:"70%",background:"#2b2b2b"},cardContainer:{zIndex:10,width:"15%"},selected:{marginTop:"-1em"}}),CardSelector=function CardSelector(_ref){var cards=_ref.cards,money=_ref.money,selectedCardIndex=_ref.selectedCardIndex,onSelectCard=_ref.onSelectCard,classes=useStyles();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_layout__WEBPACK_IMPORTED_MODULE_4__.c,{className:classes.container,direction:"row",justifyContent:"space-around",noSpacer:!0,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:classes.tray}),cards.map((function createCard(card,index){var _classNames;if(null===card)return null;var isSelected=selectedCardIndex===index;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.cardContainer,(_classNames={},_classNames[classes.selected]=isSelected,_classNames)),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_card__WEBPACK_IMPORTED_MODULE_5__.a,{disabled:money<card.cost,card:card,onClick:onSelectCard?function onClick(){onSelectCard&&onSelectCard(isSelected?null:index)}:void 0},index+"-"+card.definitionId)})}))]})};CardSelector.displayName="CardSelector";try{CardSelector.displayName="CardSelector",CardSelector.__docgenInfo={description:"",displayName:"CardSelector",props:{cards:{defaultValue:null,description:"",name:"cards",required:!0,type:{name:"(Card | null)[]"}},money:{defaultValue:null,description:"",name:"money",required:!0,type:{name:"number"}},selectedCardIndex:{defaultValue:null,description:"",name:"selectedCardIndex",required:!0,type:{name:"number | null"}},onSelectCard:{defaultValue:null,description:"",name:"onSelectCard",required:!1,type:{name:"((index: number | null) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/cardShop/cardSelector.tsx#CardSelector"]={docgenInfo:CardSelector.__docgenInfo,name:"CardSelector",path:"src/cardShop/cardSelector.tsx#CardSelector"})}catch(__react_docgen_typescript_loader_error){}},"./src/cardShop/cardShop.stories.css":function(module,exports,__webpack_require__){var api=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/cardShop/cardShop.stories.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/cardShop/cardShop.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Shop",(function(){return Shop}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_cardShop__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/cardShop/cardShop.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./src/cardShop/cardShop.stories.css"),__webpack_require__("../../../node_modules/react/jsx-runtime.js"));__webpack_exports__.default={title:"@ui / Card Shop / CardShop",component:_cardShop__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{money:{control:{type:"number"}},isLocked:{control:{type:"boolean"}}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"card-shop-story",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_cardShop__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var cards=[{id:"0005",definitionId:37,name:"Arbelder",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Wood,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.VALIANT,cost:5},{id:"0001",definitionId:10,name:"Chenipode",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Earth,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.CUNNING,cost:2},{id:"0002",definitionId:24,name:"Ruption",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Fire,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.ARCANE,cost:3},{id:"0003",definitionId:32,name:"Cairfrey",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Metal,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.ARCANE,cost:3},{id:"0004",definitionId:46,name:"Eaglace",type:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.g.Water,class:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.h.CUNNING,cost:5}],Shop=Template.bind({});Shop.args={cards:cards,isLocked:!1,money:14},Shop.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div className="card-shop-story">\n\t\t<CardShop {...args} />\n\t</div>\n)'}},Shop.parameters)},"./src/cardShop/cardShop.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cardShop_CardShop}));__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../../node_modules/react/index.js"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),models=__webpack_require__("../models/index.ts"),layout=__webpack_require__("./layout/index.ts"),src_button=__webpack_require__("./src/button.tsx"),display=__webpack_require__("./src/display/index.ts"),cardSelector=__webpack_require__("./src/cardShop/cardSelector.tsx"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({buyCard:{textAlign:"center",padding:"1em",background:"#4e4e4e"},currentCard:{background:"#2f2f2f"},cardText:{padding:"1em",fontFamily:"Arial, sans-serif",fontWeight:700,color:"#fff",fontSize:"0.7em",textTransform:"uppercase"},cardName:{textTransform:"none",marginBottom:"0.35em"}}),currentCard_CurrentCard=function CurrentCard(_ref){var card=_ref.card,onBuy=_ref.onBuy,classes=useStyles();return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(layout.c,{direction:"row",justifyContent:"center",noSpacer:!0,className:classes.currentCard,children:[Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(display.a,{definitionId:card.definitionId})}),Object(jsx_runtime.jsxs)(layout.c,{direction:"column",className:classes.cardText,children:[Object(jsx_runtime.jsx)("h2",{className:classes.cardName,children:card.name}),Object(jsx_runtime.jsx)("span",{children:card.type}),Object(jsx_runtime.jsx)("span",{children:card.class})]})]}),Object(jsx_runtime.jsx)("div",{className:classes.buyCard,children:Object(jsx_runtime.jsxs)(src_button.a,{type:"primary",onClick:onBuy,children:["Buy ($",card.cost,")"]})})]})};try{currentCard_CurrentCard.displayName="CurrentCard",currentCard_CurrentCard.__docgenInfo={description:"",displayName:"CurrentCard",props:{card:{defaultValue:null,description:"",name:"card",required:!0,type:{name:"Card"}},onBuy:{defaultValue:null,description:"",name:"onBuy",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/cardShop/currentCard.tsx#CurrentCard"]={docgenInfo:currentCard_CurrentCard.__docgenInfo,name:"CurrentCard",path:"src/cardShop/currentCard.tsx#CurrentCard"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var cardShop_useStyles=Object(react_jss_esm.a)({container:{width:"100%",height:"100%"},grow:{flex:1,marginBottom:"2em"},balance:{background:"#2f2f2f",padding:"0 1em",lineHeight:"1.5em"}}),cardShop_CardShop=function CardShop(_ref){var cards=_ref.cards,money=_ref.money,_ref$isLocked=_ref.isLocked,isLocked=void 0!==_ref$isLocked&&_ref$isLocked,onReroll=_ref.onReroll,onToggleLock=_ref.onToggleLock,onBuy=_ref.onBuy,_ref$showSelectedCard=_ref.showSelectedCard,showSelectedCard=void 0===_ref$showSelectedCard||_ref$showSelectedCard,classes=cardShop_useStyles(),_React$useState2=_slicedToArray(react.useState(null),2),selectedIndex=_React$useState2[0],setSelectedIndex=_React$useState2[1],selectedCard=null!==selectedIndex?cards[selectedIndex]:null;return react.useEffect((function(){selectedCard&&(selectedCard.cost<=money||setSelectedIndex(null))}),[selectedCard,money]),Object(jsx_runtime.jsxs)(layout.c,{className:classes.container,direction:"column",children:[Object(jsx_runtime.jsx)(layout.c,{direction:"column",justifyContent:"center",className:classes.grow,children:selectedCard&&showSelectedCard&&Object(jsx_runtime.jsx)(currentCard_CurrentCard,{card:selectedCard,onBuy:function onBuyCurrentCard(){return onBuy&&null!==selectedIndex&&onBuy(selectedIndex)}})}),Object(jsx_runtime.jsx)(cardSelector.a,{cards:cards,money:money,selectedCardIndex:selectedIndex,onSelectCard:setSelectedIndex}),Object(jsx_runtime.jsxs)(layout.c,{direction:"row",justifyContent:"space-between",children:[Object(jsx_runtime.jsxs)(src_button.a,{type:"primary",onClick:onReroll,disabled:money<models.v,children:["New ($",models.v,")"]}),Object(jsx_runtime.jsxs)("div",{className:classes.balance,children:[Object(jsx_runtime.jsx)(display.b,{children:"Balance:"})," ",Object(jsx_runtime.jsxs)(display.b,{type:"highlight",children:["$",money]})]}),Object(jsx_runtime.jsx)(src_button.a,{type:"primary",onClick:onToggleLock,children:isLocked?"Unlock":"Lock (1 turn)"})]})]})};cardShop_CardShop.displayName="CardShop";try{cardShop_CardShop.displayName="CardShop",cardShop_CardShop.__docgenInfo={description:"",displayName:"CardShop",props:{cards:{defaultValue:null,description:"",name:"cards",required:!0,type:{name:"(Card | null)[]"}},money:{defaultValue:null,description:"",name:"money",required:!0,type:{name:"number"}},isLocked:{defaultValue:{value:"false"},description:"",name:"isLocked",required:!1,type:{name:"boolean"}},onReroll:{defaultValue:null,description:"",name:"onReroll",required:!1,type:{name:"(() => void)"}},onToggleLock:{defaultValue:null,description:"",name:"onToggleLock",required:!1,type:{name:"(() => void)"}},onBuy:{defaultValue:null,description:"",name:"onBuy",required:!1,type:{name:"((index: number) => void)"}},showSelectedCard:{defaultValue:{value:"true"},description:"",name:"showSelectedCard",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/cardShop/cardShop.tsx#CardShop"]={docgenInfo:cardShop_CardShop.__docgenInfo,name:"CardShop",path:"src/cardShop/cardShop.tsx#CardShop"})}catch(__react_docgen_typescript_loader_error){}},"./src/countdown.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Countdown}));__webpack_require__("../../../node_modules/core-js/modules/es.date.now.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Countdown=function Countdown(_ref){var countdownToSeconds=_ref.countdownToSeconds,render=_ref.render,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_14__.useState(null),2),secondsRemaining=_React$useState2[0],setSecondsRemaining=_React$useState2[1],updateSecondsRemaining=function updateSecondsRemaining(){if(null!==countdownToSeconds){var currentSeconds=Date.now()/1e3;setSecondsRemaining(Math.ceil(countdownToSeconds-currentSeconds))}};if(react__WEBPACK_IMPORTED_MODULE_14__.useEffect((function(){updateSecondsRemaining();var intervalId=setInterval(updateSecondsRemaining,1e3);return function(){return clearInterval(intervalId)}}),[countdownToSeconds]),null===secondsRemaining)return null;var safeSecondsRemaining=secondsRemaining>1?secondsRemaining:1;return render?render(safeSecondsRemaining):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("span",{children:safeSecondsRemaining})};Countdown.displayName="Countdown";try{Countdown.displayName="Countdown",Countdown.__docgenInfo={description:"",displayName:"Countdown",props:{countdownToSeconds:{defaultValue:null,description:"",name:"countdownToSeconds",required:!0,type:{name:"number"}},render:{defaultValue:null,description:"",name:"render",required:!1,type:{name:"((secondsRemaining: number) => ReactElement<any, string | JSXElementConstructor<any>>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/countdown.tsx#Countdown"]={docgenInfo:Countdown.__docgenInfo,name:"Countdown",path:"src/countdown.tsx#Countdown"})}catch(__react_docgen_typescript_loader_error){}},"./src/display/CreatureImage.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Kirkanon",(function(){return Kirkanon})),__webpack_require__.d(__webpack_exports__,"CardilingFacingAway",(function(){return CardilingFacingAway}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creatureImage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/display/creatureImage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Display / CreatureImage",component:_creatureImage__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{definitionId:{type:"number",required:!0},facing:{control:{type:"radio",options:["front","back"]}}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_creatureImage__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Kirkanon=Template.bind({});Kirkanon.args={definitionId:47,facing:"front"};var CardilingFacingAway=Template.bind({});CardilingFacingAway.args={definitionId:13,facing:"back"},Kirkanon.parameters=Object.assign({storySource:{source:"(args) => <CreatureImage {...args} />"}},Kirkanon.parameters),CardilingFacingAway.parameters=Object.assign({storySource:{source:"(args) => <CreatureImage {...args} />"}},CardilingFacingAway.parameters)},"./src/display/ProgressBar.stories.css":function(module,exports,__webpack_require__){var api=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("../../../node_modules/@storybook/builder-webpack4/node_modules/css-loader/dist/cjs.js?!../../../node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/display/ProgressBar.stories.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/display/ProgressBar.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Healthbar",(function(){return Healthbar}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js"),__webpack_require__("./src/display/ProgressBar.stories.css");var _progressBar__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/display/progressBar.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Display / ProgressBar",component:_progressBar__WEBPACK_IMPORTED_MODULE_7__.a,argTypes:{current:{control:{type:"number"}},max:{control:{type:"number"}},vertical:{control:{type:"boolean"}},className:{control:{type:null}},fillClassName:{control:{type:null}},contentClassName:{control:{type:null}}}};var renderContents=function renderContents(current){return current.toString()},Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"progressbar-story",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_progressBar__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({},args,{renderContents:renderContents,className:"healthbar",fillClassName:"fill",contentClassName:"contents"}))})};Template.displayName="Template";var Healthbar=Template.bind({});Healthbar.args={current:20,max:100},Healthbar.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div className="progressbar-story">\n\t\t<ProgressBar\n\t\t\t{...args}\n\t\t\trenderContents={renderContents}\n\t\t\tclassName="healthbar"\n\t\t\tfillClassName="fill"\n\t\t\tcontentClassName="contents"\n\t\t/>\n\t</div>\n)'}},Healthbar.parameters)},"./src/display/creatureImage.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CreatureImage}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({image:{width:"100%",height:"100%",imageRendering:"pixelated",fallbacks:[{imageRendering:"optimize-contrast"},{imageRendering:"-webkit-optimize-contrast"},{imageRendering:"-o-crisp-edges"},{imageRendering:"-moz-crisp-edges"},{imageRendering:"optimizeSpeed"}],msInterpolationMode:"nearest-neighbor"}});function CreatureImage(_ref){var facing=_ref.facing,definitionId=_ref.definitionId;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img",{className:useStyles().image,src:"https://creaturechess.com/game/images/"+(facing||"front")+"/"+definitionId+".png"})}CreatureImage.displayName="CreatureImage";try{CreatureImage.displayName="CreatureImage",CreatureImage.__docgenInfo={description:"",displayName:"CreatureImage",props:{baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},definitionId:{defaultValue:null,description:"",name:"definitionId",required:!0,type:{name:"number"}},facing:{defaultValue:null,description:"",name:"facing",required:!1,type:{name:"enum",value:[{value:'"front"'},{value:'"back"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/display/creatureImage.tsx#CreatureImage"]={docgenInfo:CreatureImage.__docgenInfo,name:"CreatureImage",path:"src/display/creatureImage.tsx#CreatureImage"})}catch(__react_docgen_typescript_loader_error){}},"./src/display/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return creatureImage.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return label_Label})),__webpack_require__.d(__webpack_exports__,"c",(function(){return progressBar.a})),__webpack_require__.d(__webpack_exports__,"d",(function(){return TypeIndicator_TypeIndicator}));var creatureImage=__webpack_require__("./src/display/creatureImage.tsx"),react_jss_esm=(__webpack_require__("../../../node_modules/react/index.js"),__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js")),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({label:{fontFamily:"Arial, sans-serif",fontSize:"0.8rem",fontWeight:700,color:function color(props){return"highlight"===props.type?"#ffcd75":"#fff"}}}),label_Label=function Label(props){var classes=useStyles(props);return Object(jsx_runtime.jsx)("span",{className:classes.label,children:props.children})};label_Label.displayName="Label";try{label_Label.displayName="Label",label_Label.__docgenInfo={description:"",displayName:"Label",props:{type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"highlight"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/display/label.tsx#Label"]={docgenInfo:label_Label.__docgenInfo,name:"Label",path:"src/display/label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}var _ICON_FOR_TYPE,progressBar=__webpack_require__("./src/display/progressBar.tsx"),models=__webpack_require__("../models/index.ts"),ICON_FOR_TYPE=((_ICON_FOR_TYPE={})[models.g.Fire]="images/ui/type-fire.svg",_ICON_FOR_TYPE[models.g.Earth]="images/ui/type-earth.svg",_ICON_FOR_TYPE[models.g.Metal]="images/ui/type-metal.svg",_ICON_FOR_TYPE[models.g.Water]="images/ui/type-water.svg",_ICON_FOR_TYPE[models.g.Wood]="images/ui/type-wood.svg",_ICON_FOR_TYPE),TypeIndicator_TypeIndicator=function TypeIndicator(_ref){var type=_ref.type;return Object(jsx_runtime.jsx)("img",{src:"https://creaturechess.com/game/"+ICON_FOR_TYPE[type]})};TypeIndicator_TypeIndicator.displayName="TypeIndicator";try{TypeIndicator_TypeIndicator.displayName="TypeIndicator",TypeIndicator_TypeIndicator.__docgenInfo={description:"",displayName:"TypeIndicator",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"Wood"'},{value:'"Earth"'},{value:'"Water"'},{value:'"Fire"'},{value:'"Metal"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/display/TypeIndicator.tsx#TypeIndicator"]={docgenInfo:TypeIndicator_TypeIndicator.__docgenInfo,name:"TypeIndicator",path:"src/display/TypeIndicator.tsx#TypeIndicator"})}catch(__react_docgen_typescript_loader_error){}},"./src/display/progressBar.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ProgressBar}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react_jss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),getPercentage=function getPercentage(current,max){return Math.floor(current/max*100)+"%"},useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_4__.a)({container:{width:"101%",height:"100%",position:"relative",background:"#636363",boxSizing:"border-box"},fill:function fill(props){return Object.assign({position:"absolute",height:"100%",width:"100%",boxSizing:"border-box"},function getFillStyle(_ref){var _ref$vertical=_ref.vertical,vertical=void 0!==_ref$vertical&&_ref$vertical,current=_ref.current,max=_ref.max;return vertical?{height:getPercentage(current,max)}:{width:getPercentage(current,max)}}(props))},contents:{position:"absolute",top:"0",right:"0.5em",fontWeight:700,lineHeight:"1.75em"}}),ProgressBar=function ProgressBar(props){var classes=useStyles(props),className=props.className,_props$fillClassName=props.fillClassName,fillClassName=void 0===_props$fillClassName?"":_props$fillClassName,_props$contentClassNa=props.contentClassName,contentClassName=void 0===_props$contentClassNa?"":_props$contentClassNa,current=props.current,max=props.max,renderContents=props.renderContents,children=props.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()(classes.container,className),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()(classes.fill,fillClassName)}),renderContents&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()(classes.contents,contentClassName),children:renderContents(current,max)}),children]})};ProgressBar.displayName="ProgressBar";try{ProgressBar.displayName="ProgressBar",ProgressBar.__docgenInfo={description:"",displayName:"ProgressBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},fillClassName:{defaultValue:null,description:"",name:"fillClassName",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"",name:"contentClassName",required:!1,type:{name:"string"}},current:{defaultValue:null,description:"",name:"current",required:!0,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},vertical:{defaultValue:{value:"false"},description:"",name:"vertical",required:!1,type:{name:"boolean"}},renderContents:{defaultValue:null,description:"",name:"renderContents",required:!1,type:{name:"((current: number, max: number) => string | Element)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/display/progressBar.tsx#ProgressBar"]={docgenInfo:ProgressBar.__docgenInfo,name:"ProgressBar",path:"src/display/progressBar.tsx#ProgressBar"})}catch(__react_docgen_typescript_loader_error){}},"./src/player/avatar.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlayerAvatar}));__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.a)({image:{height:"64px"}});function PlayerAvatar(_ref){var _player$profile,player=_ref.player,classes=useStyles();return player&&null!==(_player$profile=player.profile)&&void 0!==_player$profile&&_player$profile.picture?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(classes.image,"avatar"),src:"https://creaturechess.com/game/images/front/"+player.profile.picture+".png"}):null}PlayerAvatar.displayName="PlayerAvatar";try{PlayerAvatar.displayName="PlayerAvatar",PlayerAvatar.__docgenInfo={description:"",displayName:"PlayerAvatar",props:{player:{defaultValue:null,description:"",name:"player",required:!0,type:{name:'Pick<PlayerListPlayer, "profile">'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/player/avatar.tsx#PlayerAvatar"]={docgenInfo:PlayerAvatar.__docgenInfo,name:"PlayerAvatar",path:"src/player/avatar.tsx#PlayerAvatar"})}catch(__react_docgen_typescript_loader_error){}},"./src/player/healthbar.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlayerHealthbar}));__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_display__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/display/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_5__.a)({playerHealth:{position:"relative",display:"block",width:"100%",height:"16px"},fill:{background:"#20b720"},content:{position:"absolute",top:0,right:"0.25em",fontFamily:"Arial, sans-serif",fontSize:"0.8em",fontWeight:700,color:"#000"}}),renderHealthbar=function renderHealthbar(current){return current.toString()},PlayerHealthbar=function PlayerHealthbar(_ref){var health=_ref.health,classes=useStyles();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_display__WEBPACK_IMPORTED_MODULE_6__.c,{className:classes.playerHealth,fillClassName:classes.fill,contentClassName:classes.content,current:health,max:100,renderContents:renderHealthbar})};PlayerHealthbar.displayName="PlayerHealthbar";try{PlayerHealthbar.displayName="PlayerHealthbar",PlayerHealthbar.__docgenInfo={description:"",displayName:"PlayerHealthbar",props:{health:{defaultValue:null,description:"",name:"health",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/player/healthbar.tsx#PlayerHealthbar"]={docgenInfo:PlayerHealthbar.__docgenInfo,name:"PlayerHealthbar",path:"src/player/healthbar.tsx#PlayerHealthbar"})}catch(__react_docgen_typescript_loader_error){}},"./src/player/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return avatar.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return healthbar.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return profile_PlayerProfile})),__webpack_require__.d(__webpack_exports__,"d",(function(){return title.a}));var avatar=__webpack_require__("./src/player/avatar.tsx"),healthbar=__webpack_require__("./src/player/healthbar.tsx"),react_jss_esm=(__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/react/index.js"),__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js")),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({name:function name(props){return Object.assign({fontFamily:"Arial, sans-serif",fontSize:"0.8em",fontWeight:700,color:"#fff",textTransform:"uppercase"},function getLocalStyles(_ref){var _ref$isLocal=_ref.isLocal;return void 0!==_ref$isLocal&&_ref$isLocal?{fontStyle:"italic",color:"#ffcd75"}:{}}(props))}}),name_PlayerName=function PlayerName(props){var classes=useStyles(props);return Object(jsx_runtime.jsxs)("span",{className:classes.name,children:[props.position,".Â ",props.name]})};name_PlayerName.displayName="PlayerName";try{name_PlayerName.displayName="PlayerName",name_PlayerName.__docgenInfo={description:"",displayName:"PlayerName",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"number"}},isLocal:{defaultValue:{value:"false"},description:"",name:"isLocal",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/player/name.tsx#PlayerName"]={docgenInfo:name_PlayerName.__docgenInfo,name:"PlayerName",path:"src/player/name.tsx#PlayerName"})}catch(__react_docgen_typescript_loader_error){}var title=__webpack_require__("./src/player/title.tsx"),profile_useStyles=Object(react_jss_esm.a)({container:{display:"flex",flexDirection:"column",paddingBottom:"0.15rem"},name:{marginBottom:"0.25rem"}}),profile_PlayerProfile=function PlayerProfile(props){var _player$profile,classes=profile_useStyles(),position=props.position,player=props.player,isLocal=props.isLocal;return Object(jsx_runtime.jsxs)("div",{className:classes.container,children:[Object(jsx_runtime.jsx)("div",{className:classes.name,children:Object(jsx_runtime.jsx)(name_PlayerName,{position:position,name:player.name,isLocal:isLocal})}),Object(jsx_runtime.jsx)(title.a,{titleId:(null===(_player$profile=player.profile)||void 0===_player$profile?void 0:_player$profile.title)||null})]})};profile_PlayerProfile.displayName="PlayerProfile";try{profile_PlayerProfile.displayName="PlayerProfile",profile_PlayerProfile.__docgenInfo={description:"",displayName:"PlayerProfile",props:{player:{defaultValue:null,description:"",name:"player",required:!0,type:{name:"PlayerListPlayer"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"number"}},isLocal:{defaultValue:null,description:"",name:"isLocal",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/player/profile.tsx#PlayerProfile"]={docgenInfo:profile_PlayerProfile.__docgenInfo,name:"PlayerProfile",path:"src/player/profile.tsx#PlayerProfile"})}catch(__react_docgen_typescript_loader_error){}},"./src/player/title.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Title}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../models/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({title:{fontFamily:"Arial, sans-serif",fontSize:function fontSize(_ref){var _ref$size=_ref.size;return"small"===(void 0===_ref$size?"small":_ref$size)?"0.65rem":"1rem"},fontWeight:700,color:function color(_ref2){return function getColor(titleId){switch(titleId){case _creature_chess_models__WEBPACK_IMPORTED_MODULE_2__.t.Developer:return"#79ffe0";case _creature_chess_models__WEBPACK_IMPORTED_MODULE_2__.t.Contributor:return"#e89292";case _creature_chess_models__WEBPACK_IMPORTED_MODULE_2__.t.HallOfFame:return"#f7ee85";default:return"#d6d0d0"}}(_ref2.titleId)},textAlign:"inherit",textTransform:"uppercase"}}),Title=function Title(props){var classes=useStyles(props);return props.titleId?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:classes.title,children:_creature_chess_models__WEBPACK_IMPORTED_MODULE_2__.A[props.titleId].text}):null};Title.displayName="Title";try{Title.displayName="Title",Title.__docgenInfo={description:"",displayName:"Title",props:{titleId:{defaultValue:null,description:"",name:"titleId",required:!0,type:{name:"PlayerTitle | null"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/player/title.tsx#Title"]={docgenInfo:Title.__docgenInfo,name:"Title",path:"src/player/title.tsx#Title"})}catch(__react_docgen_typescript_loader_error){}},"./src/playerList/PlayerListItem.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LocalNoBattle",(function(){return LocalNoBattle})),__webpack_require__.d(__webpack_exports__,"OpponentInProgressBattle",(function(){return OpponentInProgressBattle})),__webpack_require__.d(__webpack_exports__,"FinishedBattle",(function(){return FinishedBattle})),__webpack_require__.d(__webpack_exports__,"CurrentlySpectating",(function(){return CurrentlySpectating}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_playerListItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/playerList/playerListItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Player List / PlayerListItem",component:_playerListItem__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{currentlySpectating:{control:{type:"boolean"}},showReadyIndicator:{control:{type:"boolean"}}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{maxWidth:"400px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_playerListItem__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var createPlayer=function createPlayer(battle){var others=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({id:"1234",name:"jkm",health:69,ready:!1,status:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.s.CONNECTED,streakType:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.z.WIN,streakAmount:3,money:20,level:4,profile:{picture:1,title:1},battle:battle},others)},LocalNoBattle=Template.bind({});LocalNoBattle.args={index:0,isOpponent:!1,isLocal:!0,currentlySpectating:!1,showReadyIndicator:!0,player:createPlayer(null,{name:"Cool Mom227",ready:!0,streakAmount:0,profile:{picture:4,title:null}})};var OpponentInProgressBattle=Template.bind({});OpponentInProgressBattle.args={index:5,isOpponent:!0,isLocal:!1,opponentName:"[BOT] Lucky",currentlySpectating:!1,showReadyIndicator:!0,player:createPlayer(Object(_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.K)("5678"),{money:4,level:9,health:4})};var FinishedBattle=Template.bind({});FinishedBattle.args={index:0,isOpponent:!1,isLocal:!1,opponentName:"Jeff",currentlySpectating:!1,showReadyIndicator:!0,player:createPlayer(Object(_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.E)("5678",!1,3,0),{name:"[BOT] Bicycle",streakType:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.z.LOSS,profile:{picture:13,title:_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.t.HallOfFame}})};var CurrentlySpectating=Template.bind({});CurrentlySpectating.args={index:0,isOpponent:!1,isLocal:!1,opponentName:"[BOT] Lucky",currentlySpectating:!0,showReadyIndicator:!0,player:createPlayer(null,{name:"Purepker895",ready:!0,streakAmount:0,profile:{picture:20,title:null}})},LocalNoBattle.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ maxWidth: "400px" }}>\n\t\t<PlayerListItem {...args} />\n\t</div>\n)'}},LocalNoBattle.parameters),OpponentInProgressBattle.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ maxWidth: "400px" }}>\n\t\t<PlayerListItem {...args} />\n\t</div>\n)'}},OpponentInProgressBattle.parameters),FinishedBattle.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ maxWidth: "400px" }}>\n\t\t<PlayerListItem {...args} />\n\t</div>\n)'}},FinishedBattle.parameters),CurrentlySpectating.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ maxWidth: "400px" }}>\n\t\t<PlayerListItem {...args} />\n\t</div>\n)'}},CurrentlySpectating.parameters)},"./src/playerList/StatusPlayerListItem.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DeadPlayer",(function(){return DeadPlayer}));__webpack_require__("../../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../../node_modules/react/index.js");var _creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),_statusPlayerListItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/playerList/statusPlayerListItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"@ui / Player List / StatusPlayerListItem",component:_statusPlayerListItem__WEBPACK_IMPORTED_MODULE_4__.a};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"400px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_statusPlayerListItem__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var DeadPlayer=Template.bind({});DeadPlayer.args={name:"JKM",opponentName:"Jeff",battle:Object(_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.E)("1234",!0,0,3),status:"Dead",subtitle:"8th place"},DeadPlayer.parameters=Object.assign({storySource:{source:'(args) => (\n\t<div style={{ width: "400px" }}>\n\t\t<StatusPlayerListItem {...args} />\n\t</div>\n)'}},DeadPlayer.parameters)},"./src/playerList/battleInfo.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BattleInfo}));__webpack_require__("../../../node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../models/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),getResultColor=function getResultColor(props){if(!props||!props.battle||props.battle.status!==_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.r.FINISHED)return"#ffcd74";var _props$battle=props.battle,isHomePlayer=_props$battle.isHomePlayer,homeScore=_props$battle.homeScore,awayScore=_props$battle.awayScore;return(isHomePlayer?homeScore>awayScore:awayScore>homeScore)?"#38b764":"#b13e53"},useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.a)({battleInfo:{padding:"0.25em 0.5em",fontFamily:"Arial, sans-serif",fontSize:"0.625em",color:"#c3c3c3",textAlign:"center",background:"#333"},highlight:{fontWeight:700,color:"#fff",textTransform:"uppercase"},result:function result(props){return{color:getResultColor(props)}}}),BattleInfo=function BattleInfo(props){var classes=useStyles(props),text=function getBattleText(battle){return battle?battle.status===_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.r.IN_PROGRESS?"Battling":battle.status===_creature_chess_models__WEBPACK_IMPORTED_MODULE_3__.r.FINISHED?battle.homeScore+" - "+battle.awayScore:"":""}(props.battle);return props.battle?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:classes.battleInfo,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(classes.highlight,classes.result),children:text}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Â vsÂ "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:classes.highlight,children:props.opponentName||""})]}):null};BattleInfo.displayName="BattleInfo";try{BattleInfo.displayName="BattleInfo",BattleInfo.__docgenInfo={description:"",displayName:"BattleInfo",props:{battle:{defaultValue:null,description:"",name:"battle",required:!0,type:{name:"PlayerBattle"}},opponentName:{defaultValue:null,description:"",name:"opponentName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/playerList/battleInfo.tsx#BattleInfo"]={docgenInfo:BattleInfo.__docgenInfo,name:"BattleInfo",path:"src/playerList/battleInfo.tsx#BattleInfo"})}catch(__react_docgen_typescript_loader_error){}},"./src/playerList/playerListItem.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return playerListItem_PlayerListItem}));__webpack_require__("../../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../../node_modules/react/index.js"),react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js");var layout=__webpack_require__("./layout/index.ts"),src_button=__webpack_require__("./src/button.tsx"),display=__webpack_require__("./src/display/index.ts"),src_player=__webpack_require__("./src/player/index.ts"),battleInfo=__webpack_require__("./src/playerList/battleInfo.tsx"),streakIndicator=__webpack_require__("./src/playerList/streakIndicator.tsx"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js");function playerListItem_slicedToArray(arr,i){return function playerListItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function playerListItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function playerListItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return playerListItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return playerListItem_arrayLikeToArray(o,minLen)}(arr,i)||function playerListItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function playerListItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getDetailReadyColor=function getDetailReadyColor(_ref){var ready=_ref.player.ready,_ref$showReadyIndicat=_ref.showReadyIndicator;return ready&&(void 0!==_ref$showReadyIndicat&&_ref$showReadyIndicat)?"#20b720":"#ccc"},useStyles=Object(react_jss_esm.a)({container:function container(props){return{border:props.isOpponent?"3px solid #b13e53":"",boxSizing:"border-box",padding:"0.5rem",background:"#566c86","&:not(:last-child)":{marginBottom:"0.25em"}}},details:function details(props){return{flex:1,paddingLeft:"0.5em",borderLeft:"5px solid "+getDetailReadyColor(props),display:"flex",flexDirection:"column"}},grow:{flex:1},battleContainer:{width:"100%"},badges:{"&>:not(:last-child)":{marginRight:"0.25em"},display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"0 1em",boxSizing:"border-box",alignItems:"center"}}),playerListItem_PlayerListItem=function PlayerListItem(props){var styles=useStyles(props),index=props.index,player=props.player,opponentName=props.opponentName,isLocal=props.isLocal,onSpectateClick=props.onSpectateClick,_props$currentlySpect=props.currentlySpectating,currentlySpectating=void 0!==_props$currentlySpect&&_props$currentlySpect,ref=Object(react.useRef)(),_useState2=playerListItem_slicedToArray(Object(react.useState)(!1),2),isExpanded=_useState2[0],setIsExpanded=_useState2[1];!function useOnClickOutside(ref,handler){react.useEffect((function(){var listener=function listener(event){ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("mousedown",listener),document.addEventListener("touchstart",listener),function(){document.removeEventListener("mousedown",listener),document.removeEventListener("touchstart",listener)}}),[ref,handler])}(ref,(function(){return setIsExpanded(!1)}));return Object(jsx_runtime.jsx)("div",{className:styles.container,onClick:function toggleExpanded(){isLocal||setIsExpanded(!isExpanded)},ref:ref,children:Object(jsx_runtime.jsxs)(layout.c,{direction:"row",noSpacer:!0,children:[Object(jsx_runtime.jsx)(src_player.a,{player:player}),Object(jsx_runtime.jsxs)("div",{className:styles.details,children:[Object(jsx_runtime.jsxs)(layout.c,{direction:"row",noSpacer:!0,children:[Object(jsx_runtime.jsx)(layout.b,{children:Object(jsx_runtime.jsx)(src_player.c,{position:index+1,player:player,isLocal:isLocal})}),Object(jsx_runtime.jsx)(layout.b,{children:Object(jsx_runtime.jsx)(src_player.b,{health:player.health})})]}),Object(jsx_runtime.jsxs)(layout.c,{direction:"row",className:styles.grow,children:[Object(jsx_runtime.jsxs)(layout.b,{className:styles.badges,children:[Object(jsx_runtime.jsx)(streakIndicator.a,{type:player.streakType,amount:player.streakAmount}),Object(jsx_runtime.jsxs)(display.b,{type:"highlight",children:["$",player.money]}),Object(jsx_runtime.jsxs)(display.b,{children:["Lv ",player.level]})]}),Object(jsx_runtime.jsx)(layout.b,{children:currentlySpectating||isExpanded?Object(jsx_runtime.jsx)(src_button.a,{onClick:onSpectateClick,children:currentlySpectating?"Stop spectating":"Spectate"}):Object(jsx_runtime.jsx)(layout.c,{direction:"row",noSpacer:!0,justifyContent:"center",className:styles.battleContainer,children:Object(jsx_runtime.jsx)(battleInfo.a,{battle:player.battle,opponentName:opponentName})})})]})]})]})})};playerListItem_PlayerListItem.displayName="PlayerListItem";try{playerListItem_PlayerListItem.displayName="PlayerListItem",playerListItem_PlayerListItem.__docgenInfo={description:"",displayName:"PlayerListItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},player:{defaultValue:null,description:"",name:"player",required:!0,type:{name:"PlayerListPlayer"}},isOpponent:{defaultValue:null,description:"",name:"isOpponent",required:!0,type:{name:"boolean"}},isLocal:{defaultValue:null,description:"",name:"isLocal",required:!0,type:{name:"boolean"}},onSpectateClick:{defaultValue:null,description:"",name:"onSpectateClick",required:!0,type:{name:"() => void"}},opponentName:{defaultValue:null,description:"",name:"opponentName",required:!1,type:{name:"string"}},currentlySpectating:{defaultValue:null,description:"",name:"currentlySpectating",required:!1,type:{name:"boolean"}},showReadyIndicator:{defaultValue:{value:"false"},description:"",name:"showReadyIndicator",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/playerList/playerListItem.tsx#PlayerListItem"]={docgenInfo:playerListItem_PlayerListItem.__docgenInfo,name:"PlayerListItem",path:"src/playerList/playerListItem.tsx#PlayerListItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/playerList/statusPlayerListItem.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StatusPlayerListItem}));__webpack_require__("../../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_display__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/display/index.ts"),_battleInfo__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/playerList/battleInfo.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_2__.a)({container:{display:"flex",flexDirection:"row",width:"100%",boxSizing:"border-box",padding:"0.4rem",marginBottom:"0.25em",fontFamily:"Arial, sans-serif",fontSize:"1.2em",fontWeight:"700",color:"#fff",textAlign:"center",textTransform:"uppercase",background:"#3b3d40"},col:{flex:1,display:"flex",flexDirection:"column",textAlign:"center",justifyContent:"space-around"},subtitle:{padding:"0.5em 0",marginTop:"0.5em",fontFamily:"Arial, sans-serif",fontSize:"0.9em",fontWeight:700,color:"#847878",textAlign:"center",textTransform:"uppercase",borderTop:"2px solid #847878",borderBottom:"2px solid #847878"},name:{fontSize:"1.8em",fontStyle:"italic",color:"#cecece"}}),StatusPlayerListItem=function StatusPlayerListItem(_ref){var name=_ref.name,opponentName=_ref.opponentName,battle=_ref.battle,status=_ref.status,subtitle=_ref.subtitle,classes=useStyles();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:classes.container,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classes.col,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:classes.name,children:name})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:classes.col,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_display__WEBPACK_IMPORTED_MODULE_3__.b,{children:status}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_battleInfo__WEBPACK_IMPORTED_MODULE_4__.a,{battle:battle,opponentName:opponentName}),subtitle&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:classes.subtitle,children:subtitle})]})]})};StatusPlayerListItem.displayName="StatusPlayerListItem";try{StatusPlayerListItem.displayName="StatusPlayerListItem",StatusPlayerListItem.__docgenInfo={description:"",displayName:"StatusPlayerListItem",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},opponentName:{defaultValue:null,description:"",name:"opponentName",required:!1,type:{name:"string"}},battle:{defaultValue:null,description:"",name:"battle",required:!0,type:{name:"PlayerBattle"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/playerList/statusPlayerListItem.tsx#StatusPlayerListItem"]={docgenInfo:StatusPlayerListItem.__docgenInfo,name:"StatusPlayerListItem",path:"src/playerList/statusPlayerListItem.tsx#StatusPlayerListItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/playerList/streakIndicator.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StreakIndicator}));__webpack_require__("../../../node_modules/react/index.js");var react_jss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),_creature_chess_models__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../models/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),getBackground=function getBackground(type){return type===_creature_chess_models__WEBPACK_IMPORTED_MODULE_2__.z.WIN?"#38b764":"#b13e53"},useStyles=Object(react_jss__WEBPACK_IMPORTED_MODULE_1__.a)({indicator:function indicator(props){return{display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",padding:"0.4em",fontFamily:"Arial, sans-serif",fontSize:"0.9em",color:"#fff",background:getBackground(props.type),borderRadius:"50%"}}}),StreakIndicator=function StreakIndicator(props){var classes=useStyles(props);return null!==props.type&&props.amount&&1!==props.amount?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classes.indicator,children:props.amount}):null};StreakIndicator.displayName="StreakIndicator";try{StreakIndicator.displayName="StreakIndicator",StreakIndicator.__docgenInfo={description:"",displayName:"StreakIndicator",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"StreakType | null"}},amount:{defaultValue:null,description:"",name:"amount",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/playerList/streakIndicator.tsx#StreakIndicator"]={docgenInfo:StreakIndicator.__docgenInfo,name:"StreakIndicator",path:"src/playerList/streakIndicator.tsx#StreakIndicator"})}catch(__react_docgen_typescript_loader_error){}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("../../../node_modules/@storybook/react/dist/esm/client/index.js")},"./text/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Header2})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Header4})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Text}));__webpack_require__("../../../node_modules/react/index.js");var react_jss_esm=__webpack_require__("../../../node_modules/react-jss/dist/react-jss.esm.js"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),useStyles=Object(react_jss_esm.a)({h2:{fontSize:"1.5em",fontWeight:"bolder",marginBottom:"0.5em"}});function Header2(_ref){var children=_ref.children,styles=useStyles();return Object(jsx_runtime.jsx)("h2",{className:styles.h2,children:children})}Header2.displayName="Header2";try{Header2.displayName="Header2",Header2.__docgenInfo={description:"",displayName:"Header2",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["text/Header2.tsx#Header2"]={docgenInfo:Header2.__docgenInfo,name:"Header2",path:"text/Header2.tsx#Header2"})}catch(__react_docgen_typescript_loader_error){}var Header4_useStyles=Object(react_jss_esm.a)({h2:{fontSize:"1em",fontWeight:"bolder",marginBottom:"0.25em"}});function Header4(_ref){var children=_ref.children,styles=Header4_useStyles();return Object(jsx_runtime.jsx)("h4",{className:styles.h2,children:children})}Header4.displayName="Header4";try{Header4.displayName="Header4",Header4.__docgenInfo={description:"",displayName:"Header4",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["text/Header4.tsx#Header4"]={docgenInfo:Header4.__docgenInfo,name:"Header4",path:"text/Header4.tsx#Header4"})}catch(__react_docgen_typescript_loader_error){}function Text(_ref){var children=_ref.children;return Object(jsx_runtime.jsx)("span",{children:children})}Text.displayName="Text";try{Text.displayName="Text",Text.__docgenInfo={description:"",displayName:"Text",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["text/Text.tsx#Text"]={docgenInfo:Text.__docgenInfo,name:"Text",path:"text/Text.tsx#Text"})}catch(__react_docgen_typescript_loader_error){}},0:function(module,exports,__webpack_require__){__webpack_require__("../../../node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("../../../node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("../../../node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("../../../node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);